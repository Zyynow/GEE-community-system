2024-04-01 08:51:06.210  INFO 30100 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 30100 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 08:51:06.214 DEBUG 30100 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 08:51:06.214  INFO 30100 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 08:51:06.238  INFO 30100 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 08:51:06.239  INFO 30100 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 08:51:06.788  INFO 30100 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 08:51:06.856  INFO 30100 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2024-04-01 08:51:07.396  INFO 30100 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 08:51:07.406  INFO 30100 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 08:51:07.406  INFO 30100 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 08:51:07.482  INFO 30100 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 08:51:07.483  INFO 30100 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1244 ms
2024-04-01 08:51:07.622  INFO 30100 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 08:51:07.705  INFO 30100 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 08:51:07.986  INFO 30100 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 08:51:08.090  INFO 30100 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 08:51:08.454  INFO 30100 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 08:51:08.478  INFO 30100 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 08:51:09.194  INFO 30100 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 08:51:09.200  INFO 30100 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 08:51:10.020  WARN 30100 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 08:51:10.221  INFO 30100 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 08:51:10.570  INFO 30100 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 08:51:10.615  INFO 30100 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 08:51:10.625  INFO 30100 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.755 seconds (JVM running for 5.518)
2024-04-01 08:51:26.523  INFO 30100 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 08:51:26.525  INFO 30100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 08:51:26.526  INFO 30100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 08:51:26.856  WARN 30100 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [306] milliseconds.
2024-04-01 08:51:28.444  INFO 30100 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 08:51:28.458  INFO 30100 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 08:51:28.459  INFO 30100 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:28.786  INFO 30100 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2e88ec9, org.apache.catalina.connector.ResponseFacade@630d67a0]}
2024-04-01 08:51:29.172  INFO 30100 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 08:51:29.173  INFO 30100 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:35.796  INFO 30100 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@630d67a0, hyf, hyfhsy, 5x1q, org.apache.catalina.session.StandardSessionFacade@31548ca0, {}]}
2024-04-01 08:51:35.832 DEBUG 30100 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 08:51:35.842 DEBUG 30100 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 08:51:35.853 DEBUG 30100 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 08:51:35.856  INFO 30100 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 08:51:35.856  INFO 30100 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:35.883  INFO 30100 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 08:51:35.963  WARN 30100 --- [http-nio-8080-exec-8] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 08:51:35.976  INFO 30100 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 08:51:35.976  INFO 30100 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:41.320  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-01 08:51:41.325  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 08:51:41.325  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:41.467  INFO 30100 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@31548ca0]}
2024-04-01 08:51:41.470 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 08:51:41.471 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 08:51:41.476 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 08:51:41.478 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:51:41.478 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 08:51:41.481 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:51:41.482 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:51:41.482 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:51:41.484 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:51:41.485 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:51:41.485 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 08:51:41.487 DEBUG 30100 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:51:41.488  INFO 30100 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 08:51:41.498  INFO 30100 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:51.891  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}]}
2024-04-01 08:51:51.893 DEBUG 30100 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 08:51:51.894 DEBUG 30100 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 08:51:51.896 DEBUG 30100 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 08:51:51.897  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 08:51:51.897  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:52.000  INFO 30100 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@31548ca0]}
2024-04-01 08:51:52.000  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[2]}
2024-04-01 08:51:52.000 DEBUG 30100 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:51:52.001 DEBUG 30100 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: 2(String)
2024-04-01 08:51:52.001 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 08:51:52.002 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 08:51:52.002 DEBUG 30100 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 0
2024-04-01 08:51:52.004  INFO 30100 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:52.005 ERROR 30100 --- [http-nio-8080-exec-10] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/chat/friendId/2, Exception : null
2024-04-01 08:51:52.006 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 08:51:52.006 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:51:52.007  WARN 30100 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NullPointerException]
2024-04-01 08:51:52.007 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 08:51:52.010 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:51:52.011 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:51:52.012 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:51:52.013 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:51:52.014 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:51:52.015 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 08:51:52.017 DEBUG 30100 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:51:52.018  INFO 30100 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 08:51:52.019  INFO 30100 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:51:52.029  INFO 30100 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[2, org.apache.catalina.session.StandardSessionFacade@31548ca0]}
2024-04-01 08:51:52.030 DEBUG 30100 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 08:51:52.030 DEBUG 30100 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: 2(String), hyf(String), hyf(String), 2(String)
2024-04-01 08:51:52.032 DEBUG 30100 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-01 08:51:52.032  INFO 30100 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : []
2024-04-01 08:51:52.032  INFO 30100 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:52:29.222  INFO 30100 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 08:52:29.226  INFO 30100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 08:52:29.234  INFO 30100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 08:52:33.236  INFO 11472 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 11472 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 08:52:33.237 DEBUG 11472 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 08:52:33.237  INFO 11472 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 08:52:33.258  INFO 11472 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 08:52:33.258  INFO 11472 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 08:52:33.671  INFO 11472 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 08:52:33.726  INFO 11472 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2024-04-01 08:52:34.115  INFO 11472 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 08:52:34.120  INFO 11472 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 08:52:34.121  INFO 11472 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 08:52:34.178  INFO 11472 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 08:52:34.178  INFO 11472 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 919 ms
2024-04-01 08:52:34.287  INFO 11472 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 08:52:34.307  INFO 11472 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 08:52:34.392  INFO 11472 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 08:52:34.454  INFO 11472 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 08:52:34.645  INFO 11472 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 08:52:34.655  INFO 11472 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 08:52:35.143  INFO 11472 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 08:52:35.148  INFO 11472 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 08:52:35.830  WARN 11472 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 08:52:36.015  INFO 11472 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 08:52:36.319  INFO 11472 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 08:52:36.356  INFO 11472 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 08:52:36.364  INFO 11472 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.414 seconds (JVM running for 4.166)
2024-04-01 08:52:41.818  INFO 11472 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 08:52:41.818  INFO 11472 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 08:52:41.819  INFO 11472 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-04-01 08:52:42.342  INFO 11472 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 08:52:42.350  INFO 11472 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 08:52:42.350  INFO 11472 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:52:42.571  INFO 11472 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@6e59769a, org.apache.catalina.connector.ResponseFacade@8d7406f]}
2024-04-01 08:52:42.778  INFO 11472 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 08:52:42.778  INFO 11472 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:52:49.907  INFO 11472 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@8d7406f, hyf, hyfhsy, js02, org.apache.catalina.session.StandardSessionFacade@4e56d012, {}]}
2024-04-01 08:52:49.937 DEBUG 11472 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 08:52:49.943 DEBUG 11472 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 08:52:49.954 DEBUG 11472 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 08:52:49.959  INFO 11472 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 08:52:49.959  INFO 11472 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:52:49.981  INFO 11472 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 08:52:50.063  WARN 11472 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 08:52:50.075  INFO 11472 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 08:52:50.075  INFO 11472 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:52:57.773  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-01 08:52:57.776  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 08:52:57.777  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:52:57.868  INFO 11472 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4e56d012]}
2024-04-01 08:52:57.870 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 08:52:57.871 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 08:52:57.876 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 08:52:57.878 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:52:57.879 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 08:52:57.881 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:52:57.881 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:52:57.882 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:52:57.884 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:52:57.884 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:52:57.885 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 08:52:57.887 DEBUG 11472 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:52:57.887  INFO 11472 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 08:52:57.895  INFO 11472 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:53:00.691  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}]}
2024-04-01 08:53:00.692 DEBUG 11472 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 08:53:00.693 DEBUG 11472 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 08:53:00.694 DEBUG 11472 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 08:53:00.695  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 08:53:00.695  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:53:00.788  INFO 11472 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4e56d012]}
2024-04-01 08:53:00.788  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[2]}
2024-04-01 08:53:00.789 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 08:53:00.789 DEBUG 11472 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:53:00.789 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 08:53:00.791 DEBUG 11472 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: 2(String)
2024-04-01 08:53:00.793 DEBUG 11472 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 0
2024-04-01 08:53:00.793 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 08:53:00.794 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:53:00.794  INFO 11472 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:53:00.794 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 08:53:00.795 ERROR 11472 --- [http-nio-8080-exec-3] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/chat/friendId/2, Exception : null
2024-04-01 08:53:00.795 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:53:00.796  WARN 11472 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NullPointerException]
2024-04-01 08:53:00.796 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:53:00.797 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:53:00.801 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:53:00.801 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:53:00.802 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 08:53:00.805 DEBUG 11472 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:53:00.806  INFO 11472 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 08:53:00.806  INFO 11472 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:53:00.831  INFO 11472 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[2, org.apache.catalina.session.StandardSessionFacade@4e56d012]}
2024-04-01 08:53:00.832 DEBUG 11472 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 08:53:00.832 DEBUG 11472 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: 2(String), hyf(String), hyf(String), 2(String)
2024-04-01 08:53:00.835 DEBUG 11472 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-01 08:53:00.835  INFO 11472 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : []
2024-04-01 08:53:00.835  INFO 11472 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:06.515  INFO 11472 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 08:57:06.517  INFO 11472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 08:57:06.526  INFO 11472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 08:57:09.360  INFO 30160 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 30160 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 08:57:09.361 DEBUG 30160 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 08:57:09.361  INFO 30160 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 08:57:09.388  INFO 30160 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 08:57:09.388  INFO 30160 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 08:57:09.838  INFO 30160 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 08:57:09.890  INFO 30160 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2024-04-01 08:57:10.331  INFO 30160 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 08:57:10.337  INFO 30160 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 08:57:10.337  INFO 30160 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 08:57:10.402  INFO 30160 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 08:57:10.402  INFO 30160 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1013 ms
2024-04-01 08:57:10.518  INFO 30160 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 08:57:10.550  INFO 30160 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 08:57:10.627  INFO 30160 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 08:57:10.682  INFO 30160 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 08:57:10.897  INFO 30160 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 08:57:10.908  INFO 30160 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 08:57:11.410  INFO 30160 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 08:57:11.415  INFO 30160 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 08:57:12.159  WARN 30160 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 08:57:12.377  INFO 30160 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 08:57:12.664  INFO 30160 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 08:57:12.698  INFO 30160 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 08:57:12.705  INFO 30160 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.677 seconds (JVM running for 4.548)
2024-04-01 08:57:25.348  INFO 30160 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 08:57:25.348  INFO 30160 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 08:57:25.349  INFO 30160 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 08:57:25.960  INFO 30160 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 08:57:25.969  INFO 30160 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 08:57:25.970  INFO 30160 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:26.207  INFO 30160 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@7bb13ee2, org.apache.catalina.connector.ResponseFacade@ee04b37]}
2024-04-01 08:57:26.408  INFO 30160 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 08:57:26.408  INFO 30160 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:32.374  INFO 30160 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@ee04b37, hyf, hyfhsy, rn6g, org.apache.catalina.session.StandardSessionFacade@24996b53, {}]}
2024-04-01 08:57:32.404 DEBUG 30160 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 08:57:32.409 DEBUG 30160 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 08:57:32.419 DEBUG 30160 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 08:57:32.425  INFO 30160 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 08:57:32.425  INFO 30160 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:32.446  INFO 30160 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 08:57:32.530  WARN 30160 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 08:57:32.546  INFO 30160 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 08:57:32.546  INFO 30160 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:34.166  INFO 30160 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}]}
2024-04-01 08:57:34.171 DEBUG 30160 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 08:57:34.172 DEBUG 30160 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 08:57:34.174 DEBUG 30160 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 08:57:34.176  INFO 30160 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 08:57:34.176  INFO 30160 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:34.335  INFO 30160 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@24996b53]}
2024-04-01 08:57:34.335  INFO 30160 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-01 08:57:34.337 DEBUG 30160 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:34.337 DEBUG 30160 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:57:34.337 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 08:57:34.338 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 08:57:34.339 DEBUG 30160 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:34.339  INFO 30160 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 2
2024-04-01 08:57:34.339  INFO 30160 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:34.342 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 08:57:34.343 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:34.344 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 08:57:34.347 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:34.348 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:34.349 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:57:34.351 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:34.352 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:34.353 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 08:57:34.356 DEBUG 30160 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:34.357  INFO 30160 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 08:57:34.370  INFO 30160 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:34.373  INFO 30160 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@24996b53]}
2024-04-01 08:57:34.375 DEBUG 30160 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 08:57:34.375 DEBUG 30160 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-01 08:57:34.378 DEBUG 30160 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 08:57:34.380  INFO 30160 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-04-01 08:57:34.389  INFO 30160 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:45.251  INFO 30160 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[5, {}]}
2024-04-01 08:57:45.253 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 08:57:45.253 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 5(Long)
2024-04-01 08:57:45.255 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 08:57:45.257  INFO 30160 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 08:57:45.257  INFO 30160 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:45.520  INFO 30160 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@24996b53]}
2024-04-01 08:57:45.520  INFO 30160 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-01 08:57:45.521 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 08:57:45.521 DEBUG 30160 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:45.522 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 08:57:45.522 DEBUG 30160 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-01 08:57:45.524 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 08:57:45.525 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:45.525 DEBUG 30160 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:45.525 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 08:57:45.525  INFO 30160 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 5
2024-04-01 08:57:45.525  INFO 30160 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:45.527 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:45.528 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:45.528 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:57:45.531 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:45.532 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:45.533 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 08:57:45.534 DEBUG 30160 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:45.535  INFO 30160 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 08:57:45.535  INFO 30160 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:45.557  INFO 30160 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@24996b53]}
2024-04-01 08:57:45.559 DEBUG 30160 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 08:57:45.560 DEBUG 30160 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-01 08:57:45.562 DEBUG 30160 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-01 08:57:45.562  INFO 30160 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : []
2024-04-01 08:57:45.562  INFO 30160 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:55.792  INFO 30160 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-01 08:57:55.792  INFO 30160 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 08:57:55.792  INFO 30160 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 08:57:55.995  INFO 30160 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@24996b53]}
2024-04-01 08:57:55.997 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 08:57:55.998 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 08:57:56.002 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 08:57:56.005 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:56.006 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 08:57:56.009 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:56.011 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:56.011 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 08:57:56.013 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:56.014 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 08:57:56.014 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 08:57:56.016 DEBUG 30160 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 08:57:56.016  INFO 30160 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 08:57:56.017  INFO 30160 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:27.221  INFO 30160 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 09:21:27.224  INFO 30160 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 09:21:27.231  INFO 30160 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 09:21:33.129  INFO 30356 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 30356 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 09:21:33.129 DEBUG 30356 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 09:21:33.129  INFO 30356 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 09:21:33.150  INFO 30356 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 09:21:33.152  INFO 30356 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 09:21:33.554  INFO 30356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 09:21:33.602  INFO 30356 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2024-04-01 09:21:34.031  INFO 30356 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 09:21:34.037  INFO 30356 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 09:21:34.037  INFO 30356 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 09:21:34.092  INFO 30356 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 09:21:34.093  INFO 30356 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 941 ms
2024-04-01 09:21:34.210  INFO 30356 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 09:21:34.232  INFO 30356 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 09:21:34.317  INFO 30356 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 09:21:34.367  INFO 30356 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 09:21:34.565  INFO 30356 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 09:21:34.574  INFO 30356 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 09:21:35.089  INFO 30356 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 09:21:35.094  INFO 30356 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 09:21:35.793  WARN 30356 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 09:21:36.002  INFO 30356 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 09:21:36.308  INFO 30356 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 09:21:36.338  INFO 30356 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 09:21:36.349  INFO 30356 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.513 seconds (JVM running for 4.174)
2024-04-01 09:21:45.310  INFO 30356 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 09:21:45.310  INFO 30356 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 09:21:45.312  INFO 30356 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-01 09:21:45.921  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 09:21:45.928  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 09:21:45.928  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:46.159  INFO 30356 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@3f4337b7, org.apache.catalina.connector.ResponseFacade@2e654e1f]}
2024-04-01 09:21:46.422  INFO 30356 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 09:21:46.424  INFO 30356 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:52.534  INFO 30356 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@2e654e1f, hyf, hyfhsy, zbng, org.apache.catalina.session.StandardSessionFacade@23fa0031, {}]}
2024-04-01 09:21:52.569 DEBUG 30356 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 09:21:52.576 DEBUG 30356 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 09:21:52.590 DEBUG 30356 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 09:21:52.598  INFO 30356 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 09:21:52.598  INFO 30356 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:52.621  INFO 30356 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 09:21:52.703  WARN 30356 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 09:21:52.715  INFO 30356 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 09:21:52.715  INFO 30356 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:54.251  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-01 09:21:54.255  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 09:21:54.255  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:54.481  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:21:54.483 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 09:21:54.484 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 09:21:54.490 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 09:21:54.492 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:21:54.493 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:21:54.495 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:21:54.496 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:21:54.496 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:21:54.499 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:21:54.500 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:21:54.500 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:21:54.502 DEBUG 30356 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:21:54.503  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 09:21:54.516  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:59.523  INFO 30356 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@70618a49, org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:21:59.525 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:21:59.525 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 09:21:59.527 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:21:59.528 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-01 09:21:59.528 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-01 09:21:59.530 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-01 09:21:59.530  INFO 30356 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 09:21:59.531  INFO 30356 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:59.735  INFO 30356 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:21:59.735  INFO 30356 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-01 09:21:59.736 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 09:21:59.737 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 09:21:59.737 DEBUG 30356 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:21:59.737 DEBUG 30356 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:21:59.738 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 09:21:59.738 DEBUG 30356 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:21:59.739  INFO 30356 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 2
2024-04-01 09:21:59.739 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:21:59.739  INFO 30356 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:59.740 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:21:59.743 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:21:59.744 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:21:59.744 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:21:59.747 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:21:59.748 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:21:59.748 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:21:59.750 DEBUG 30356 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:21:59.751  INFO 30356 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 09:21:59.751  INFO 30356 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:21:59.771  INFO 30356 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:21:59.771 DEBUG 30356 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:21:59.772 DEBUG 30356 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-01 09:21:59.775 DEBUG 30356 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:21:59.776  INFO 30356 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-04-01 09:21:59.785  INFO 30356 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:22:05.138  INFO 30356 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[5, {}, org.apache.catalina.connector.ResponseFacade@41243b2e, org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:22:05.140 DEBUG 30356 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:22:05.140 DEBUG 30356 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 5(Long)
2024-04-01 09:22:05.142 DEBUG 30356 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:22:05.144 DEBUG 30356 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-01 09:22:05.144 DEBUG 30356 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 5(Long), 1(Long), 1(Long), 5(Long)
2024-04-01 09:22:05.146 DEBUG 30356 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 0
2024-04-01 09:22:05.146  INFO 30356 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 09:22:05.147  INFO 30356 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:22:37.347  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 09:22:37.352  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 09:22:37.353  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:22:37.614  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:22:37.616 DEBUG 30356 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 09:22:37.618 DEBUG 30356 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 09:22:37.620 DEBUG 30356 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 09:22:37.621  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 09:22:37.627  INFO 30356 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:22:37.668  INFO 30356 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:22:37.668 DEBUG 30356 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 09:22:37.669 DEBUG 30356 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 09:22:37.672 DEBUG 30356 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-01 09:22:37.674  INFO 30356 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 09:22:37.688  INFO 30356 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:22:37.738  INFO 30356 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:22:37.739 DEBUG 30356 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 09:22:37.740 DEBUG 30356 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 09:22:37.742 DEBUG 30356 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 09:22:37.742  INFO 30356 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 09:22:37.742  INFO 30356 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:22:37.781  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-04-01 09:22:37.782 DEBUG 30356 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 09:22:37.783 DEBUG 30356 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 09:22:37.785 DEBUG 30356 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 09:22:37.785  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 09:22:37.786  INFO 30356 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:23:37.238  INFO 30356 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 09:23:37.239  INFO 30356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 09:23:37.245  INFO 30356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 09:41:39.853  INFO 8692 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 8692 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 09:41:39.854 DEBUG 8692 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 09:41:39.854  INFO 8692 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 09:41:39.879  INFO 8692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 09:41:39.879  INFO 8692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 09:41:40.274  INFO 8692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 09:41:40.328  INFO 8692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2024-04-01 09:41:40.731  INFO 8692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 09:41:40.736  INFO 8692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 09:41:40.736  INFO 8692 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 09:41:40.789  INFO 8692 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 09:41:40.789  INFO 8692 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 909 ms
2024-04-01 09:41:40.901  INFO 8692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 09:41:40.924  INFO 8692 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 09:41:40.997  INFO 8692 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 09:41:41.049  INFO 8692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 09:41:41.228  INFO 8692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 09:41:41.239  INFO 8692 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 09:41:41.730  INFO 8692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 09:41:41.735  INFO 8692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 09:41:42.380  WARN 8692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 09:41:42.567  INFO 8692 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 09:41:42.846  INFO 8692 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 09:41:42.881  INFO 8692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 09:41:42.889  INFO 8692 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.329 seconds (JVM running for 3.994)
2024-04-01 09:41:49.022  INFO 8692 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 09:41:49.023  INFO 8692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 09:41:49.024  INFO 8692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 09:41:50.263  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 09:41:50.271  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 09:41:50.271  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:50.566  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@5c6daee7, org.apache.catalina.connector.ResponseFacade@50c3b3c0]}
2024-04-01 09:41:50.928  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 09:41:50.928  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:55.545  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@50c3b3c0, hyf, hyfhsy, mnjs, org.apache.catalina.session.StandardSessionFacade@dd4ba66, {}]}
2024-04-01 09:41:55.576 DEBUG 8692 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 09:41:55.583 DEBUG 8692 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 09:41:55.591 DEBUG 8692 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 09:41:55.596  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 09:41:55.598  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:55.619  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 09:41:55.699  WARN 8692 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 09:41:55.711  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 09:41:55.712  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:59.273  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 09:41:59.278  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 09:41:59.279  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:59.533  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:41:59.536 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 09:41:59.536 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 09:41:59.538 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 09:41:59.539  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 09:41:59.544  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:59.614  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:41:59.614 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 09:41:59.616 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 09:41:59.617 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-01 09:41:59.618  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 09:41:59.626  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:59.699  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:41:59.700 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 09:41:59.700 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 09:41:59.702 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 09:41:59.702  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 09:41:59.703  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:41:59.722  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:41:59.723 DEBUG 8692 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 09:41:59.723 DEBUG 8692 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 09:41:59.725 DEBUG 8692 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 09:41:59.725  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 09:41:59.727  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:42:05.678  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:42:05.679 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-01 09:42:05.679 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-01 09:42:05.682 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 3
2024-04-01 09:42:05.682  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan)]
2024-04-01 09:42:05.682  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:42:50.276  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[2, {}]}
2024-04-01 09:42:50.281 DEBUG 8692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:42:50.281 DEBUG 8692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 09:42:50.284 DEBUG 8692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:42:50.284 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-01 09:42:50.285 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 2(Long), 2(Long)
2024-04-01 09:42:50.287 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : <==      Total: 2
2024-04-01 09:42:50.315  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-01 09:42:50.315  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:43:34.457  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@186098f5, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:43:34.462 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:43:34.462 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 09:43:34.464 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:43:34.465 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-01 09:43:34.465 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-01 09:43:34.468 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-01 09:43:34.469  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 09:43:34.469  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:43:34.650  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:43:34.650  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-01 09:43:34.651 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:43:34.651 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:43:34.651 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 09:43:34.652 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 09:43:34.654 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:43:34.655  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 2
2024-04-01 09:43:34.655  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:43:34.655 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 09:43:34.657 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:43:34.657 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:43:34.659 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:43:34.660 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:43:34.660 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:43:34.664 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:43:34.665 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:43:34.665 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:43:34.669 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:43:34.674  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:43:34.675 DEBUG 8692 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:43:34.676 DEBUG 8692 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-01 09:43:34.669  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 09:43:34.681  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:43:34.681 DEBUG 8692 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:43:34.683  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-04-01 09:43:34.692  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:44:10.328  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:44:10.329 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-01 09:44:10.329 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-01 09:44:10.332 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 3
2024-04-01 09:44:10.333  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan)]
2024-04-01 09:44:10.333  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:02.395  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[4, {}, org.apache.catalina.connector.ResponseFacade@5be3564a, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:02.396 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:45:02.396 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 4(Long)
2024-04-01 09:45:02.397 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:45:02.398 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-01 09:45:02.398 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 4(Long), 1(Long), 1(Long), 4(Long)
2024-04-01 09:45:02.399 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-01 09:45:02.399  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 09:45:02.399  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:02.552  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:02.552  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[root]}
2024-04-01 09:45:02.553 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 09:45:02.553 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 09:45:02.553 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:02.553 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:45:02.554 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:02.554 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 09:45:02.554  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 4
2024-04-01 09:45:02.555  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:02.555 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:02.555 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:45:02.556 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:02.558 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:02.558 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:45:02.560 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:02.560 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:02.561 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:45:02.562 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:02.562  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 09:45:02.562  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:02.571  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:02.571 DEBUG 8692 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:02.573 DEBUG 8692 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-04-01 09:45:02.576 DEBUG 8692 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:45:02.576  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=nice！成功了, sendTime=Fri Mar 29 15:19:13 CST 2024)]
2024-04-01 09:45:02.577  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:09.262  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[3, {}]}
2024-04-01 09:45:09.263 DEBUG 8692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:45:09.263 DEBUG 8692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 3(Long)
2024-04-01 09:45:09.264 DEBUG 8692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:45:09.265 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-01 09:45:09.266 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 3(Long), 3(Long)
2024-04-01 09:45:09.266 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : <==      Total: 1
2024-04-01 09:45:09.269  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-01 09:45:09.269  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:17.065  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[3, {}, org.apache.catalina.connector.ResponseFacade@5be3564a, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:17.066 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:45:17.067 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 3(Long)
2024-04-01 09:45:17.070 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:45:17.070 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-01 09:45:17.071 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 3(Long), 1(Long), 1(Long), 3(Long)
2024-04-01 09:45:17.073 DEBUG 8692 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-01 09:45:17.073  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 09:45:17.073  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:17.234  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:17.234  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-01 09:45:17.234 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 09:45:17.235 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 09:45:17.235 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:17.235 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:45:17.236 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:17.236 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 09:45:17.237  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 09:45:17.237  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:17.237 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:17.237 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:45:17.241 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:17.242 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:17.242 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:45:17.244 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:17.246 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:17.246 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:45:17.247 DEBUG 8692 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:17.248  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 09:45:17.249  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:17.252  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:17.253 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:17.253 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-01 09:45:17.255 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-01 09:45:17.255  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-01 09:45:17.255  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:28.429  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[3, {}, org.apache.catalina.connector.ResponseFacade@186098f5, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:28.430 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 09:45:28.431 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 3(Long)
2024-04-01 09:45:28.433 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 09:45:28.433 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-01 09:45:28.433 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 3(Long), 1(Long), 1(Long), 3(Long)
2024-04-01 09:45:28.435 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-01 09:45:28.435  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 09:45:28.435  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:28.600  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:28.600  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-01 09:45:28.600 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 09:45:28.600 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 09:45:28.600 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:28.602 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:45:28.602 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:28.603 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 09:45:28.603  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 09:45:28.603  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:28.603 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:28.603 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:45:28.604 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:28.605 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:28.605 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:45:28.606 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:28.607 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:28.607 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:45:28.609 DEBUG 8692 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:28.609  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 09:45:28.609  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:28.619  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:28.619 DEBUG 8692 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:28.619 DEBUG 8692 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-01 09:45:28.622 DEBUG 8692 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-01 09:45:28.622  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-01 09:45:28.623  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:33.365  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[root]}
2024-04-01 09:45:33.366 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:33.367 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:45:33.368 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:33.368  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 4
2024-04-01 09:45:33.369  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:33.377  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:33.377 DEBUG 8692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:33.377 DEBUG 8692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-04-01 09:45:33.378 DEBUG 8692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:45:33.379  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=nice！成功了, sendTime=Fri Mar 29 15:19:13 CST 2024)]
2024-04-01 09:45:33.379  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:41.095  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-01 09:45:41.095 DEBUG 8692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:41.096 DEBUG 8692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:45:41.097 DEBUG 8692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:41.097  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 2
2024-04-01 09:45:41.097  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:41.107  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:41.108 DEBUG 8692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:41.108 DEBUG 8692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-01 09:45:41.110 DEBUG 8692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:45:41.110  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-04-01 09:45:41.110  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:42.720  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-01 09:45:42.722 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:42.722 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:45:42.723 DEBUG 8692 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:42.724  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 09:45:42.724  INFO 8692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:42.732  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:42.732 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:42.733 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-01 09:45:42.734 DEBUG 8692 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-01 09:45:42.735  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-01 09:45:42.735  INFO 8692 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:44.246  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-01 09:45:44.247 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:44.247 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:45:44.248 DEBUG 8692 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:44.249  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 2
2024-04-01 09:45:44.249  INFO 8692 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:44.256  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:44.257 DEBUG 8692 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:44.257 DEBUG 8692 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-01 09:45:44.259 DEBUG 8692 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:45:44.259  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-04-01 09:45:44.259  INFO 8692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:46.263  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[root]}
2024-04-01 09:45:46.264 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:46.264 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 09:45:46.266 DEBUG 8692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:46.266  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 4
2024-04-01 09:45:46.266  INFO 8692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:46.274  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:46.274 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:46.275 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-04-01 09:45:46.276 DEBUG 8692 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:45:46.277  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=nice！成功了, sendTime=Fri Mar 29 15:19:13 CST 2024)]
2024-04-01 09:45:46.277  INFO 8692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:51.209  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-01 09:45:51.210 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:51.210 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 09:45:51.213 DEBUG 8692 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:51.213  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 2
2024-04-01 09:45:51.213  INFO 8692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:51.221  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:51.222 DEBUG 8692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:51.222 DEBUG 8692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-01 09:45:51.223 DEBUG 8692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 09:45:51.224  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-04-01 09:45:51.225  INFO 8692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:54.025  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-01 09:45:54.026 DEBUG 8692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 09:45:54.026 DEBUG 8692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 09:45:54.028 DEBUG 8692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 09:45:54.028  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 09:45:54.028  INFO 8692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:45:54.035  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@dd4ba66]}
2024-04-01 09:45:54.036 DEBUG 8692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 09:45:54.036 DEBUG 8692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-01 09:45:54.037 DEBUG 8692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-01 09:45:54.038  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-01 09:45:54.038  INFO 8692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 09:46:19.997  INFO 8692 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 09:46:19.999  INFO 8692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 09:46:20.008  INFO 8692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:02:41.471  INFO 15716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 15716 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:02:41.472 DEBUG 15716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:02:41.472  INFO 15716 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:02:41.504  INFO 15716 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:02:41.504  INFO 15716 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:02:42.080  INFO 15716 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:02:42.159  INFO 15716 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 5 JPA repository interfaces.
2024-04-01 10:02:42.702  INFO 15716 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:02:42.710  INFO 15716 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:02:42.711  INFO 15716 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:02:42.783  INFO 15716 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:02:42.783  INFO 15716 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1279 ms
2024-04-01 10:02:42.912  INFO 15716 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:02:42.945  INFO 15716 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:02:43.023  INFO 15716 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:02:43.078  INFO 15716 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:02:43.302  INFO 15716 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:02:43.314  INFO 15716 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:02:43.965  INFO 15716 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:02:43.972  INFO 15716 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:02:44.765  WARN 15716 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:02:44.976  INFO 15716 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:02:45.283  INFO 15716 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:02:45.322  INFO 15716 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:02:45.331  INFO 15716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.219 seconds (JVM running for 5.102)
2024-04-01 10:02:49.488  INFO 15716 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:02:49.489  INFO 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:02:49.490  INFO 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 10:02:50.961  INFO 15716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:02:50.970  INFO 15716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:02:50.971  INFO 15716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:02:51.215  INFO 15716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@73e02623, org.apache.catalina.connector.ResponseFacade@2c982cd7]}
2024-04-01 10:02:51.455  INFO 15716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:02:51.455  INFO 15716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:02:56.619  INFO 15716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@2c982cd7, hyf, hyfhsy, n6m8, org.apache.catalina.session.StandardSessionFacade@5e5f6c9e, {}]}
2024-04-01 10:02:56.649 DEBUG 15716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:02:56.656 DEBUG 15716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:02:56.666 DEBUG 15716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:02:56.672  INFO 15716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:02:56.673  INFO 15716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:02:56.695  INFO 15716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:02:56.771  WARN 15716 --- [http-nio-8080-exec-10] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:02:56.781  INFO 15716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:02:56.782  INFO 15716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:02:59.652  INFO 15716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:02:59.656  INFO 15716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:02:59.657  INFO 15716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:02:59.920  INFO 15716 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:02:59.923 DEBUG 15716 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:02:59.923 DEBUG 15716 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:02:59.926 DEBUG 15716 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:02:59.927  INFO 15716 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:02:59.935  INFO 15716 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:03:00.008  INFO 15716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:03:00.009 DEBUG 15716 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:03:00.010 DEBUG 15716 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:03:00.011 DEBUG 15716 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:03:00.011  INFO 15716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:03:00.023  INFO 15716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:03:00.107  INFO 15716 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:03:00.108 DEBUG 15716 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:03:00.108 DEBUG 15716 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:03:00.110 DEBUG 15716 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:03:00.110  INFO 15716 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:03:00.111  INFO 15716 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:03:00.184  INFO 15716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:03:00.185 DEBUG 15716 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:03:00.186 DEBUG 15716 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:03:00.188 DEBUG 15716 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:03:00.188  INFO 15716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:03:00.188  INFO 15716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:03:57.847  INFO 15716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:03:57.849  INFO 15716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:03:57.858  INFO 15716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:04:00.639  INFO 35668 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 35668 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:04:00.640 DEBUG 35668 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:04:00.640  INFO 35668 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:04:00.665  INFO 35668 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:04:00.665  INFO 35668 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:04:01.108  INFO 35668 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:04:01.158  INFO 35668 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2024-04-01 10:04:01.578  INFO 35668 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:04:01.584  INFO 35668 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:04:01.584  INFO 35668 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:04:01.643  INFO 35668 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:04:01.645  INFO 35668 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 979 ms
2024-04-01 10:04:01.750  INFO 35668 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:04:01.780  INFO 35668 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:04:01.856  INFO 35668 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:04:01.906  INFO 35668 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:04:02.111  INFO 35668 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:04:02.121  INFO 35668 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:04:02.643  INFO 35668 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:04:02.649  INFO 35668 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:04:03.513  WARN 35668 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:04:03.706  INFO 35668 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:04:03.993  INFO 35668 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:04:04.034  INFO 35668 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:04:04.043  INFO 35668 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.716 seconds (JVM running for 4.5)
2024-04-01 10:04:33.739  INFO 35668 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:04:33.740  INFO 35668 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:04:33.741  INFO 35668 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 10:04:34.360  INFO 35668 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:04:34.371  INFO 35668 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:04:34.371  INFO 35668 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:34.642  INFO 35668 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@5d19435c, org.apache.catalina.connector.ResponseFacade@10b5ebdb]}
2024-04-01 10:04:34.871  INFO 35668 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:04:34.871  INFO 35668 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:41.046  INFO 35668 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@10b5ebdb, hyf, hyfhsy, 5rgf, org.apache.catalina.session.StandardSessionFacade@4cdc246e, {}]}
2024-04-01 10:04:41.076 DEBUG 35668 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:04:41.085 DEBUG 35668 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:04:41.094 DEBUG 35668 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:04:41.099  INFO 35668 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:04:41.100  INFO 35668 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:41.122  INFO 35668 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:04:41.218  WARN 35668 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:04:41.229  INFO 35668 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:04:41.229  INFO 35668 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:42.759  INFO 35668 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:04:42.763  INFO 35668 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:04:42.764  INFO 35668 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:43.007  INFO 35668 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@4cdc246e]}
2024-04-01 10:04:43.009 DEBUG 35668 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:04:43.010 DEBUG 35668 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:04:43.012 DEBUG 35668 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:04:43.013  INFO 35668 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:04:43.022  INFO 35668 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:43.100  INFO 35668 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@4cdc246e]}
2024-04-01 10:04:43.101 DEBUG 35668 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:04:43.101 DEBUG 35668 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:04:43.103 DEBUG 35668 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:04:43.104  INFO 35668 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:04:43.118  INFO 35668 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:43.189  INFO 35668 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@4cdc246e]}
2024-04-01 10:04:43.191 DEBUG 35668 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:04:43.191 DEBUG 35668 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:04:43.193 DEBUG 35668 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:04:43.193  INFO 35668 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:04:43.194  INFO 35668 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:04:43.249  INFO 35668 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@4cdc246e]}
2024-04-01 10:04:43.250 DEBUG 35668 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:04:43.250 DEBUG 35668 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:04:43.252 DEBUG 35668 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:04:43.253  INFO 35668 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:04:43.253  INFO 35668 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:03.018  INFO 35668 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:08:03.021  INFO 35668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:08:03.029  INFO 35668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:08:05.737  INFO 12048 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 12048 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:08:05.740 DEBUG 12048 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:08:05.741  INFO 12048 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:08:05.771  INFO 12048 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:08:05.771  INFO 12048 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:08:06.216  INFO 12048 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:08:06.270  INFO 12048 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2024-04-01 10:08:06.704  INFO 12048 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:08:06.710  INFO 12048 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:08:06.710  INFO 12048 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:08:06.764  INFO 12048 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:08:06.764  INFO 12048 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 992 ms
2024-04-01 10:08:06.875  INFO 12048 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:08:06.898  INFO 12048 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:08:06.977  INFO 12048 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:08:07.038  INFO 12048 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:08:07.275  INFO 12048 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:08:07.292  INFO 12048 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:08:07.802  INFO 12048 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:08:07.810  INFO 12048 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:08:08.526  WARN 12048 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:08:08.727  INFO 12048 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:08:09.001  INFO 12048 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:08:09.030  INFO 12048 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:08:09.038  INFO 12048 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.619 seconds (JVM running for 4.403)
2024-04-01 10:08:22.457  INFO 12048 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:08:22.459  INFO 12048 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:08:22.460  INFO 12048 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 10:08:23.646  INFO 12048 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:08:23.654  INFO 12048 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:08:23.655  INFO 12048 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:23.889  INFO 12048 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@70df7691, org.apache.catalina.connector.ResponseFacade@1a7918c0]}
2024-04-01 10:08:24.145  INFO 12048 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:08:24.146  INFO 12048 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:30.393  INFO 12048 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@1a7918c0, hyf, hyfhsy, jw5u, org.apache.catalina.session.StandardSessionFacade@7d75ca0c, {}]}
2024-04-01 10:08:30.421 DEBUG 12048 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:08:30.427 DEBUG 12048 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:08:30.437 DEBUG 12048 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:08:30.442  INFO 12048 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:08:30.443  INFO 12048 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:30.465  INFO 12048 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:08:30.544  WARN 12048 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:08:30.554  INFO 12048 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:08:30.554  INFO 12048 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:33.209  INFO 12048 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:08:33.213  INFO 12048 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:08:33.214  INFO 12048 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:33.568  INFO 12048 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7d75ca0c]}
2024-04-01 10:08:33.570 DEBUG 12048 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:08:33.571 DEBUG 12048 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:08:33.574 DEBUG 12048 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:08:33.575  INFO 12048 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:08:33.580  INFO 12048 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:33.638  INFO 12048 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7d75ca0c]}
2024-04-01 10:08:33.639 DEBUG 12048 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:08:33.639 DEBUG 12048 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:08:33.641 DEBUG 12048 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:08:33.642  INFO 12048 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:08:33.651  INFO 12048 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:33.753  INFO 12048 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7d75ca0c]}
2024-04-01 10:08:33.754 DEBUG 12048 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:08:33.754 DEBUG 12048 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:08:33.756 DEBUG 12048 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:08:33.757  INFO 12048 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:08:33.757  INFO 12048 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:08:33.785  INFO 12048 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7d75ca0c]}
2024-04-01 10:08:33.786 DEBUG 12048 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:08:33.787 DEBUG 12048 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:08:33.789 DEBUG 12048 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:08:33.789  INFO 12048 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:08:33.790  INFO 12048 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:13:56.809  INFO 12048 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:13:56.812  INFO 12048 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:13:56.821  INFO 12048 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:13:59.826  INFO 13708 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 13708 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:13:59.827 DEBUG 13708 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:13:59.828  INFO 13708 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:13:59.854  INFO 13708 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:13:59.855  INFO 13708 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:14:00.417  INFO 13708 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:14:00.482  INFO 13708 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2024-04-01 10:14:01.014  INFO 13708 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:14:01.021  INFO 13708 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:14:01.021  INFO 13708 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:14:01.086  INFO 13708 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:14:01.086  INFO 13708 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1231 ms
2024-04-01 10:14:01.218  INFO 13708 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:14:01.251  INFO 13708 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:14:01.327  INFO 13708 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:14:01.386  INFO 13708 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:14:01.608  INFO 13708 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:14:01.619  INFO 13708 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:14:02.206  INFO 13708 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:14:02.212  INFO 13708 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:14:03.121  WARN 13708 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:14:03.323  INFO 13708 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:14:03.629  INFO 13708 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:14:03.671  INFO 13708 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:14:03.680  INFO 13708 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.185 seconds (JVM running for 5.037)
2024-04-01 10:14:38.151  INFO 13708 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:14:38.151  INFO 13708 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:14:38.153  INFO 13708 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-01 10:14:38.713  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:14:38.721  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:14:38.721  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:38.948  INFO 13708 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@7d81c195, org.apache.catalina.connector.ResponseFacade@672a822f]}
2024-04-01 10:14:39.154  INFO 13708 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:14:39.155  INFO 13708 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:45.791  INFO 13708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@672a822f, hyf, hyfhsy, 9hm9, org.apache.catalina.session.StandardSessionFacade@73e130cc, {}]}
2024-04-01 10:14:45.814 DEBUG 13708 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:14:45.818 DEBUG 13708 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:14:45.825 DEBUG 13708 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:14:45.829  INFO 13708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:14:45.830  INFO 13708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:45.851  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:14:45.908  WARN 13708 --- [http-nio-8080-exec-5] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:14:45.917  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:14:45.917  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:47.802  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:14:47.805  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:14:47.805  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:47.925  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:14:47.927 DEBUG 13708 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:14:47.927 DEBUG 13708 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:14:47.928 DEBUG 13708 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:14:47.929  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:14:47.933  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:47.993  INFO 13708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:14:47.995 DEBUG 13708 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:14:47.995 DEBUG 13708 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:14:47.996 DEBUG 13708 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:14:47.997  INFO 13708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:14:48.003  INFO 13708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:48.019  INFO 13708 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:14:48.020 DEBUG 13708 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:14:48.020 DEBUG 13708 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:14:48.021 DEBUG 13708 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:14:48.022  INFO 13708 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:14:48.022  INFO 13708 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:14:48.030  INFO 13708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:14:48.031 DEBUG 13708 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:14:48.032 DEBUG 13708 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:14:48.034 DEBUG 13708 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:14:48.034  INFO 13708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:14:48.034  INFO 13708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:15:31.178  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:15:31.179  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:15:31.179  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:15:31.452  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:15:31.453 DEBUG 13708 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:15:31.454 DEBUG 13708 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:15:31.457 DEBUG 13708 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:15:31.457  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:15:31.458  INFO 13708 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:15:31.474  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:15:31.475 DEBUG 13708 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:15:31.475 DEBUG 13708 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:15:31.476 DEBUG 13708 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:15:31.477  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:15:31.477  INFO 13708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:15:31.540  INFO 13708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:15:31.541 DEBUG 13708 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:15:31.541 DEBUG 13708 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:15:31.542 DEBUG 13708 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:15:31.543  INFO 13708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:15:31.543  INFO 13708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:15:31.732  INFO 13708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@73e130cc]}
2024-04-01 10:15:31.733 DEBUG 13708 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:15:31.733 DEBUG 13708 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:15:31.735 DEBUG 13708 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:15:31.736  INFO 13708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:15:31.736  INFO 13708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:23.956  INFO 13708 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:18:23.961  INFO 13708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:18:23.970  INFO 13708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:18:26.883  INFO 19764 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 19764 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:18:26.884 DEBUG 19764 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:18:26.884  INFO 19764 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:18:26.908  INFO 19764 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:18:26.908  INFO 19764 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:18:27.367  INFO 19764 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:18:27.419  INFO 19764 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2024-04-01 10:18:27.858  INFO 19764 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:18:27.865  INFO 19764 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:18:27.866  INFO 19764 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:18:27.925  INFO 19764 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:18:27.925  INFO 19764 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1017 ms
2024-04-01 10:18:28.044  INFO 19764 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:18:28.069  INFO 19764 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:18:28.143  INFO 19764 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:18:28.196  INFO 19764 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:18:28.405  INFO 19764 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:18:28.416  INFO 19764 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:18:29.001  INFO 19764 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:18:29.006  INFO 19764 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:18:29.722  WARN 19764 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:18:29.900  INFO 19764 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:18:30.213  INFO 19764 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:18:30.252  INFO 19764 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:18:30.261  INFO 19764 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.701 seconds (JVM running for 4.469)
2024-04-01 10:18:32.963  INFO 19764 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:18:32.964  INFO 19764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:18:32.965  INFO 19764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 10:18:33.421  INFO 19764 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:18:33.428  INFO 19764 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:18:33.428  INFO 19764 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:33.667  INFO 19764 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@66a58440, org.apache.catalina.connector.ResponseFacade@562758cd]}
2024-04-01 10:18:33.883  INFO 19764 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:18:33.883  INFO 19764 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:39.321  INFO 19764 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@562758cd, hyf, hyfhsy, ivjm, org.apache.catalina.session.StandardSessionFacade@288d3d2e, {}]}
2024-04-01 10:18:39.352 DEBUG 19764 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:18:39.359 DEBUG 19764 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:18:39.369 DEBUG 19764 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:18:39.375  INFO 19764 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:18:39.375  INFO 19764 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:39.395  INFO 19764 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:18:39.473  WARN 19764 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:18:39.484  INFO 19764 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:18:39.485  INFO 19764 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:41.110  INFO 19764 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:18:41.116  INFO 19764 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:18:41.116  INFO 19764 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:41.427  INFO 19764 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@288d3d2e]}
2024-04-01 10:18:41.429 DEBUG 19764 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:18:41.430 DEBUG 19764 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:18:41.433 DEBUG 19764 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:18:41.434  INFO 19764 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:18:41.440  INFO 19764 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:41.510  INFO 19764 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@288d3d2e]}
2024-04-01 10:18:41.510 DEBUG 19764 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:18:41.510 DEBUG 19764 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:18:41.514 DEBUG 19764 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:18:41.514  INFO 19764 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:18:41.524  INFO 19764 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:41.556  INFO 19764 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@288d3d2e]}
2024-04-01 10:18:41.557 DEBUG 19764 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:18:41.557 DEBUG 19764 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:18:41.559 DEBUG 19764 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:18:41.560  INFO 19764 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:18:41.560  INFO 19764 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:18:41.747  INFO 19764 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@288d3d2e]}
2024-04-01 10:18:41.748 DEBUG 19764 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:18:41.749 DEBUG 19764 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:18:41.751 DEBUG 19764 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:18:41.752  INFO 19764 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:18:41.753  INFO 19764 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:27:32.154  INFO 19764 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:27:32.158  INFO 19764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:27:32.167  INFO 19764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:27:35.504  INFO 24504 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 24504 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:27:35.505 DEBUG 24504 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:27:35.505  INFO 24504 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:27:35.534  INFO 24504 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:27:35.534  INFO 24504 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:27:36.055  INFO 24504 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:27:36.125  INFO 24504 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2024-04-01 10:27:36.584  INFO 24504 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:27:36.591  INFO 24504 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:27:36.592  INFO 24504 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:27:36.655  INFO 24504 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:27:36.655  INFO 24504 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1121 ms
2024-04-01 10:27:36.757  INFO 24504 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:27:36.778  INFO 24504 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:27:36.869  INFO 24504 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:27:36.920  INFO 24504 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:27:37.114  INFO 24504 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:27:37.125  INFO 24504 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:27:37.641  INFO 24504 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:27:37.647  INFO 24504 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:27:38.411  WARN 24504 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:27:38.621  INFO 24504 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:27:38.933  INFO 24504 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:27:38.968  INFO 24504 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:27:38.977  INFO 24504 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.824 seconds (JVM running for 4.577)
2024-04-01 10:27:55.978  INFO 24504 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:27:55.979  INFO 24504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:27:55.979  INFO 24504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-04-01 10:27:56.425  INFO 24504 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:27:56.436  INFO 24504 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:27:56.437  INFO 24504 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:27:56.757  INFO 24504 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2bcbadbd, org.apache.catalina.connector.ResponseFacade@3af2e412]}
2024-04-01 10:27:57.088  INFO 24504 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:27:57.088  INFO 24504 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:28:03.081  INFO 24504 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@3af2e412, hyf, hyfhsy, gqrl, org.apache.catalina.session.StandardSessionFacade@5e5f6c9e, {}]}
2024-04-01 10:28:03.108 DEBUG 24504 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:28:03.114 DEBUG 24504 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:28:03.124 DEBUG 24504 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:28:03.132  INFO 24504 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:28:03.132  INFO 24504 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:28:03.153  INFO 24504 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:28:03.234  WARN 24504 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:28:03.244  INFO 24504 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:28:03.245  INFO 24504 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:28:05.304  INFO 24504 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:28:05.307  INFO 24504 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:28:05.307  INFO 24504 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:28:05.608  INFO 24504 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:28:05.610 DEBUG 24504 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:28:05.612 DEBUG 24504 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:28:05.614 DEBUG 24504 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:28:05.616  INFO 24504 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:28:05.626  INFO 24504 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:28:05.695  INFO 24504 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:28:05.695 DEBUG 24504 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:28:05.696 DEBUG 24504 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:28:05.698 DEBUG 24504 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:28:05.698  INFO 24504 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solarssssssssssssssssssss, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:28:05.708  INFO 24504 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:28:05.738  INFO 24504 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:28:05.738 DEBUG 24504 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:28:05.739 DEBUG 24504 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:28:05.740 DEBUG 24504 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:28:05.741  INFO 24504 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:28:05.741  INFO 24504 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:28:05.988  INFO 24504 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:28:05.989 DEBUG 24504 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:28:05.989 DEBUG 24504 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:28:05.992 DEBUG 24504 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:28:05.993  INFO 24504 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:28:05.993  INFO 24504 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:29:02.121  INFO 24504 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:29:02.121  INFO 24504 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:29:02.121  INFO 24504 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:29:02.391  INFO 24504 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:29:02.392 DEBUG 24504 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:29:02.393 DEBUG 24504 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:29:02.394 DEBUG 24504 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:29:02.396  INFO 24504 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:29:02.396  INFO 24504 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:29:02.426  INFO 24504 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:29:02.427 DEBUG 24504 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:29:02.427 DEBUG 24504 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:29:02.430 DEBUG 24504 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:29:02.430  INFO 24504 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:29:02.430  INFO 24504 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:29:02.494  INFO 24504 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:29:02.495 DEBUG 24504 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:29:02.495 DEBUG 24504 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:29:02.497 DEBUG 24504 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:29:02.497  INFO 24504 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:29:02.497  INFO 24504 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:29:02.555  INFO 24504 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5e5f6c9e]}
2024-04-01 10:29:02.555 DEBUG 24504 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:29:02.555 DEBUG 24504 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:29:02.558 DEBUG 24504 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:29:02.559  INFO 24504 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:29:02.559  INFO 24504 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:31:55.108  INFO 24504 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[6, {}]}
2024-04-01 10:31:55.112 DEBUG 24504 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 10:31:55.113 DEBUG 24504 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 6(Long)
2024-04-01 10:31:55.114 DEBUG 24504 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 10:31:55.116 DEBUG 24504 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-01 10:31:55.116 DEBUG 24504 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 6(Long), 6(Long)
2024-04-01 10:31:55.117 DEBUG 24504 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : <==      Total: 0
2024-04-01 10:31:55.129  INFO 24504 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-01 10:31:55.130  INFO 24504 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:26.946  INFO 24504 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:35:26.949  INFO 24504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:35:26.958  INFO 24504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:35:29.594  INFO 28880 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 28880 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:35:29.595 DEBUG 28880 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:35:29.595  INFO 28880 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:35:29.618  INFO 28880 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:35:29.620  INFO 28880 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:35:30.080  INFO 28880 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:35:30.135  INFO 28880 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-04-01 10:35:30.592  INFO 28880 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:35:30.598  INFO 28880 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:35:30.598  INFO 28880 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:35:30.653  INFO 28880 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:35:30.653  INFO 28880 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1033 ms
2024-04-01 10:35:30.754  INFO 28880 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:35:30.779  INFO 28880 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:35:30.868  INFO 28880 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:35:30.927  INFO 28880 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:35:31.158  INFO 28880 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:35:31.169  INFO 28880 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:35:31.684  INFO 28880 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:35:31.689  INFO 28880 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:35:32.393  WARN 28880 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:35:32.624  INFO 28880 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:35:32.980  INFO 28880 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:35:33.026  INFO 28880 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:35:33.035  INFO 28880 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.753 seconds (JVM running for 4.471)
2024-04-01 10:35:40.208  INFO 28880 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:35:40.209  INFO 28880 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:35:40.210  INFO 28880 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 10:35:40.872  INFO 28880 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:35:40.887  INFO 28880 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:35:40.887  INFO 28880 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:41.229  INFO 28880 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2a296e63, org.apache.catalina.connector.ResponseFacade@1353c062]}
2024-04-01 10:35:41.559  INFO 28880 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:35:41.559  INFO 28880 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:47.849  INFO 28880 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@1353c062, hyf, hyfhsy, 5p9x, org.apache.catalina.session.StandardSessionFacade@1b6b0bdf, {}]}
2024-04-01 10:35:47.880 DEBUG 28880 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:35:47.887 DEBUG 28880 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:35:47.897 DEBUG 28880 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:35:47.902  INFO 28880 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:35:47.902  INFO 28880 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:47.928  INFO 28880 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:35:48.008  WARN 28880 --- [http-nio-8080-exec-8] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:35:48.019  INFO 28880 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:35:48.019  INFO 28880 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:49.843  INFO 28880 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:35:49.847  INFO 28880 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:35:49.849  INFO 28880 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:50.200  INFO 28880 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@1b6b0bdf]}
2024-04-01 10:35:50.202 DEBUG 28880 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:35:50.203 DEBUG 28880 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:35:50.205 DEBUG 28880 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:35:50.207  INFO 28880 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:35:50.214  INFO 28880 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:50.273  INFO 28880 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@1b6b0bdf]}
2024-04-01 10:35:50.273 DEBUG 28880 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:35:50.274 DEBUG 28880 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:35:50.276 DEBUG 28880 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:35:50.276  INFO 28880 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:35:50.284  INFO 28880 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:50.313  INFO 28880 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@1b6b0bdf]}
2024-04-01 10:35:50.314 DEBUG 28880 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:35:50.314 DEBUG 28880 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:35:50.316 DEBUG 28880 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:35:50.317  INFO 28880 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:35:50.317  INFO 28880 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:35:50.362  INFO 28880 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@1b6b0bdf]}
2024-04-01 10:35:50.364 DEBUG 28880 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:35:50.365 DEBUG 28880 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:35:50.367 DEBUG 28880 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:35:50.368  INFO 28880 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:35:50.369  INFO 28880 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:04.613  INFO 28880 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:40:04.616  INFO 28880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:40:04.625  INFO 28880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:40:07.334  INFO 23212 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 23212 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:40:07.335 DEBUG 23212 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:40:07.335  INFO 23212 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:40:07.359  INFO 23212 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:40:07.360  INFO 23212 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:40:07.829  INFO 23212 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:40:07.887  INFO 23212 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2024-04-01 10:40:08.436  INFO 23212 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:40:08.443  INFO 23212 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:40:08.443  INFO 23212 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:40:08.511  INFO 23212 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:40:08.511  INFO 23212 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1151 ms
2024-04-01 10:40:08.657  INFO 23212 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:40:08.688  INFO 23212 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:40:08.778  INFO 23212 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:40:08.842  INFO 23212 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:40:09.073  INFO 23212 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:40:09.087  INFO 23212 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:40:09.680  INFO 23212 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:40:09.685  INFO 23212 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:40:10.449  WARN 23212 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:40:10.638  INFO 23212 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:40:10.945  INFO 23212 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:40:10.981  INFO 23212 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:40:10.989  INFO 23212 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.004 seconds (JVM running for 4.832)
2024-04-01 10:40:17.949  INFO 23212 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:40:17.950  INFO 23212 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:40:17.951  INFO 23212 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 10:40:19.086  INFO 23212 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:40:19.100  INFO 23212 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:40:19.100  INFO 23212 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:19.449  INFO 23212 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@192a5670, org.apache.catalina.connector.ResponseFacade@4f112cd4]}
2024-04-01 10:40:19.771  INFO 23212 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:40:19.771  INFO 23212 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:27.390  INFO 23212 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4f112cd4, hyf, hyfhsy, spf9, org.apache.catalina.session.StandardSessionFacade@497a8a65, {}]}
2024-04-01 10:40:27.421 DEBUG 23212 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:40:27.426 DEBUG 23212 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:40:27.437 DEBUG 23212 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:40:27.442  INFO 23212 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:40:27.442  INFO 23212 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:27.464  INFO 23212 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:40:27.543  WARN 23212 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:40:27.554  INFO 23212 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:40:27.555  INFO 23212 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:30.034  INFO 23212 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:40:30.040  INFO 23212 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:40:30.040  INFO 23212 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:30.332  INFO 23212 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@497a8a65]}
2024-04-01 10:40:30.335 DEBUG 23212 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:40:30.335 DEBUG 23212 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:40:30.338 DEBUG 23212 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:40:30.339  INFO 23212 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:40:30.345  INFO 23212 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:30.417  INFO 23212 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@497a8a65]}
2024-04-01 10:40:30.418 DEBUG 23212 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:40:30.418 DEBUG 23212 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:40:30.420 DEBUG 23212 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:40:30.421  INFO 23212 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:40:30.430  INFO 23212 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:30.456  INFO 23212 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@497a8a65]}
2024-04-01 10:40:30.457 DEBUG 23212 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:40:30.457 DEBUG 23212 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:40:30.459 DEBUG 23212 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:40:30.460  INFO 23212 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:40:30.460  INFO 23212 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:40:30.625  INFO 23212 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@497a8a65]}
2024-04-01 10:40:30.627 DEBUG 23212 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:40:30.627 DEBUG 23212 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:40:30.630 DEBUG 23212 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:40:30.631  INFO 23212 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:40:30.631  INFO 23212 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:29.419  INFO 23212 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:41:29.421  INFO 23212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:41:29.430  INFO 23212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:41:32.166  INFO 11596 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 11596 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:41:32.167 DEBUG 11596 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:41:32.167  INFO 11596 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:41:32.191  INFO 11596 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:41:32.191  INFO 11596 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:41:32.649  INFO 11596 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:41:32.709  INFO 11596 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2024-04-01 10:41:33.198  INFO 11596 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:41:33.205  INFO 11596 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:41:33.205  INFO 11596 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:41:33.270  INFO 11596 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:41:33.270  INFO 11596 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1077 ms
2024-04-01 10:41:33.391  INFO 11596 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:41:33.419  INFO 11596 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:41:33.497  INFO 11596 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:41:33.552  INFO 11596 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:41:33.761  INFO 11596 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:41:33.771  INFO 11596 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:41:34.334  INFO 11596 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:41:34.339  INFO 11596 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:41:35.062  WARN 11596 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:41:35.289  INFO 11596 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:41:35.623  INFO 11596 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:41:35.663  INFO 11596 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:41:35.672  INFO 11596 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.882 seconds (JVM running for 4.626)
2024-04-01 10:41:39.190  INFO 11596 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:41:39.190  INFO 11596 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:41:39.192  INFO 11596 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-01 10:41:39.709  INFO 11596 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:41:39.718  INFO 11596 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:41:39.718  INFO 11596 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:39.945  INFO 11596 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2b27f152, org.apache.catalina.connector.ResponseFacade@49c2c75f]}
2024-04-01 10:41:40.158  INFO 11596 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:41:40.158  INFO 11596 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:48.624  INFO 11596 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@49c2c75f, hyf, hyfhsy, v3v0, org.apache.catalina.session.StandardSessionFacade@558aba69, {}]}
2024-04-01 10:41:48.656 DEBUG 11596 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:41:48.663 DEBUG 11596 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:41:48.672 DEBUG 11596 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:41:48.677  INFO 11596 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:41:48.677  INFO 11596 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:48.700  INFO 11596 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:41:48.781  WARN 11596 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:41:48.793  INFO 11596 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:41:48.793  INFO 11596 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:50.860  INFO 11596 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:41:50.863  INFO 11596 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:41:50.864  INFO 11596 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:51.126  INFO 11596 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@558aba69]}
2024-04-01 10:41:51.128 DEBUG 11596 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:41:51.128 DEBUG 11596 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:41:51.130 DEBUG 11596 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:41:51.131  INFO 11596 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:41:51.138  INFO 11596 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:51.207  INFO 11596 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@558aba69]}
2024-04-01 10:41:51.208 DEBUG 11596 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:41:51.208 DEBUG 11596 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:41:51.210 DEBUG 11596 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:41:51.211  INFO 11596 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:41:51.221  INFO 11596 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:51.248  INFO 11596 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@558aba69]}
2024-04-01 10:41:51.248 DEBUG 11596 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:41:51.248 DEBUG 11596 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:41:51.251 DEBUG 11596 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:41:51.251  INFO 11596 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:41:51.251  INFO 11596 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:41:51.290  INFO 11596 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@558aba69]}
2024-04-01 10:41:51.291 DEBUG 11596 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:41:51.292 DEBUG 11596 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:41:51.294 DEBUG 11596 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:41:51.294  INFO 11596 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:41:51.295  INFO 11596 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:04.834  INFO 11596 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:43:04.836  INFO 11596 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 10:43:04.845  INFO 11596 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 10:43:07.554  INFO 23644 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 23644 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 10:43:07.554 DEBUG 23644 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 10:43:07.555  INFO 23644 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 10:43:07.581  INFO 23644 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 10:43:07.581  INFO 23644 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 10:43:08.123  INFO 23644 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 10:43:08.186  INFO 23644 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2024-04-01 10:43:08.675  INFO 23644 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 10:43:08.683  INFO 23644 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 10:43:08.684  INFO 23644 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 10:43:08.751  INFO 23644 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 10:43:08.751  INFO 23644 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1169 ms
2024-04-01 10:43:08.874  INFO 23644 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 10:43:08.903  INFO 23644 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 10:43:08.984  INFO 23644 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 10:43:09.044  INFO 23644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 10:43:09.274  INFO 23644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 10:43:09.286  INFO 23644 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 10:43:09.860  INFO 23644 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 10:43:09.865  INFO 23644 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 10:43:10.671  WARN 23644 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 10:43:10.937  INFO 23644 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 10:43:11.274  INFO 23644 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 10:43:11.314  INFO 23644 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 10:43:11.322  INFO 23644 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.149 seconds (JVM running for 4.942)
2024-04-01 10:43:12.786  INFO 23644 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 10:43:12.787  INFO 23644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 10:43:12.788  INFO 23644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 10:43:12.903  INFO 23644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 10:43:12.911  INFO 23644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 10:43:12.911  INFO 23644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:13.145  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@15709546, org.apache.catalina.connector.ResponseFacade@6130c791]}
2024-04-01 10:43:13.358  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:43:13.358  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:20.409  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@6130c791, hyf, hyfhsy, 1v84, org.apache.catalina.session.StandardSessionFacade@5b1f210b, {}]}
2024-04-01 10:43:20.441 DEBUG 23644 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 10:43:20.447 DEBUG 23644 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 10:43:20.457 DEBUG 23644 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 10:43:20.463  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 10:43:20.463  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:20.485  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 10:43:20.561  WARN 23644 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 10:43:20.572  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 10:43:20.572  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:22.285  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:43:22.288  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:43:22.289  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:22.553  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:43:22.556 DEBUG 23644 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:43:22.557 DEBUG 23644 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:43:22.560 DEBUG 23644 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:43:22.563  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:43:22.573  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:22.640  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:43:22.641 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:43:22.641 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:43:22.643 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:43:22.645  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:43:22.657  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:22.685  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:43:22.686 DEBUG 23644 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:43:22.686 DEBUG 23644 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:43:22.687 DEBUG 23644 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:43:22.689  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:43:22.689  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:43:22.860  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:43:22.862 DEBUG 23644 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:43:22.863 DEBUG 23644 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:43:22.864 DEBUG 23644 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:43:22.864  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:43:22.865  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:08.547  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:08.547  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:08.547  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:08.801  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:08.802 DEBUG 23644 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:08.803 DEBUG 23644 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:08.806 DEBUG 23644 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:08.806  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:08.806  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:08.820  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:08.821 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:08.821 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:08.824 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:08.825  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:08.825  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:08.889  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:08.890 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:08.890 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:08.891 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:08.891  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:08.891  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:09.091  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:09.092 DEBUG 23644 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:09.092 DEBUG 23644 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:09.094 DEBUG 23644 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:09.094  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:09.094  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:11.423  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:11.424  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:11.424  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:11.660  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:11.662 DEBUG 23644 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:11.662 DEBUG 23644 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:11.664 DEBUG 23644 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:11.665  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:11.666  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:11.689  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:11.689 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:11.690 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:11.691 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:11.692  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:11.692  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:11.747  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:11.749 DEBUG 23644 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:11.749 DEBUG 23644 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:11.750 DEBUG 23644 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:11.750  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:11.750  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:11.779  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:11.780 DEBUG 23644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:11.780 DEBUG 23644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:11.783 DEBUG 23644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:11.784  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:11.784  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:13.337  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:13.337  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:13.337  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:13.584  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:13.586 DEBUG 23644 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:13.586 DEBUG 23644 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:13.588 DEBUG 23644 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:13.588  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:13.589  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:13.616  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:13.617 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:13.619 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:13.620 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:13.621  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:13.622  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:13.674  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:13.690 DEBUG 23644 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:13.692 DEBUG 23644 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:13.697 DEBUG 23644 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:13.699  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:13.699  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:13.890  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:13.891 DEBUG 23644 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:13.892 DEBUG 23644 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:13.896 DEBUG 23644 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:13.897  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:13.897  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:14.525  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:14.525  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:14.525  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:14.730  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:14.732 DEBUG 23644 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:14.733 DEBUG 23644 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:14.734 DEBUG 23644 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:14.734  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:14.735  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:14.749  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:14.750 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:14.750 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:14.752 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:14.753  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:14.753  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:14.774  INFO 23644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:14.775 DEBUG 23644 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:14.775 DEBUG 23644 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:14.776 DEBUG 23644 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:14.777  INFO 23644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:14.777  INFO 23644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:14.842  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:14.842 DEBUG 23644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:14.845 DEBUG 23644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:14.847 DEBUG 23644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:14.848  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:14.848  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:16.133  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:16.134  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:16.134  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:16.340  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:16.342 DEBUG 23644 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:16.343 DEBUG 23644 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:16.344 DEBUG 23644 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:16.345  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:16.345  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:16.370  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:16.370 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:16.371 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:16.372 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:16.372  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:16.373  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:16.417  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:16.418 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:16.418 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:16.419 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:16.419  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:16.419  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:16.446  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:16.446 DEBUG 23644 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:16.447 DEBUG 23644 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:16.449 DEBUG 23644 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:16.449  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:16.450  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:17.911  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:17.912  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:17.912  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:18.124  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:18.125 DEBUG 23644 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:18.126 DEBUG 23644 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:18.128 DEBUG 23644 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:18.128  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:18.128  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:18.157  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:18.158 DEBUG 23644 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:18.158 DEBUG 23644 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:18.160 DEBUG 23644 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:18.160  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:18.160  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:18.205  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:18.205 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:18.206 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:18.207 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:18.207  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:18.208  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:18.247  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:18.248 DEBUG 23644 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:18.249 DEBUG 23644 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:18.251 DEBUG 23644 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:18.251  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:18.251  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:28.726  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:28.726  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:28.726  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:29.001  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:29.001 DEBUG 23644 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:29.003 DEBUG 23644 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:29.004 DEBUG 23644 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:29.005  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:29.005  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:29.031  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:29.032 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:29.032 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:29.036 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:29.036  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:29.036  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:29.087  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:29.088 DEBUG 23644 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:29.089 DEBUG 23644 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:29.092 DEBUG 23644 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:29.093  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:29.093  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:29.137  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:29.138 DEBUG 23644 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:29.138 DEBUG 23644 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:29.140 DEBUG 23644 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:29.140  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:29.140  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:30.293  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:30.293  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:30.293  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:30.527  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:30.528 DEBUG 23644 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:30.528 DEBUG 23644 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:30.530 DEBUG 23644 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:30.531  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:30.531  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:30.561  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:30.561 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:30.561 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:30.564 DEBUG 23644 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:30.564  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:30.566  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:30.625  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:30.625 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:30.625 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:30.626 DEBUG 23644 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:30.626  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:30.626  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:30.779  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:30.780 DEBUG 23644 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:30.780 DEBUG 23644 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:30.781 DEBUG 23644 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:30.782  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:30.782  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:31.607  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:31.607  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:31.607  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:31.842  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:31.843 DEBUG 23644 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:31.843 DEBUG 23644 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:31.844 DEBUG 23644 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:31.845  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:31.845  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:31.861  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:31.861 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:31.861 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:31.863 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:31.863  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:31.863  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:31.918  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:31.919 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:31.919 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:31.920 DEBUG 23644 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:31.921  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:31.921  INFO 23644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:32.107  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:32.107 DEBUG 23644 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:32.108 DEBUG 23644 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:32.110 DEBUG 23644 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:32.110  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:32.110  INFO 23644 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:32.587  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 10:45:32.587  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 10:45:32.587  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:32.794  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:32.795 DEBUG 23644 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 10:45:32.795 DEBUG 23644 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 10:45:32.797 DEBUG 23644 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 10:45:32.797  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 10:45:32.797  INFO 23644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:32.819  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:32.820 DEBUG 23644 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:32.820 DEBUG 23644 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:32.821 DEBUG 23644 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:32.822  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:32.822  INFO 23644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:32.836  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:32.837 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 10:45:32.837 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 10:45:32.838 DEBUG 23644 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 10:45:32.839  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 10:45:32.839  INFO 23644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:32.884  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:32.885 DEBUG 23644 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 10:45:32.885 DEBUG 23644 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 10:45:32.887 DEBUG 23644 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 10:45:32.888  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 10:45:32.888  INFO 23644 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:42.687  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[SOl, org.apache.catalina.connector.ResponseFacade@76bf5954, org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:42.689 DEBUG 23644 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN u.id IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-01 10:45:42.690 DEBUG 23644 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 1(Long), SOl(String), SOl(String), SOl(String), SOl(String), SOl(String), SOl(String)
2024-04-01 10:45:42.692 DEBUG 23644 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-01 10:45:42.692  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nickname=Solar, signature=学习永无止境, isFriend=false, isMe=false)]
2024-04-01 10:45:42.700  INFO 23644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:57.069  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/add', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.addApply', args=[Apply(id=null, senderId=1, recipientId=6, senderNickname=卡夫卡, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, applyTime=Mon Apr 01 10:45:57 CST 2024), org.apache.catalina.connector.ResponseFacade@76bf5954]}
2024-04-01 10:45:57.070 DEBUG 23644 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.addApply      : ==>  Preparing: insert into t_apply (sender_id, recipient_id, sender_nickname, sender_avatar, apply_time) values (?, ?, ?, ?, ?)
2024-04-01 10:45:57.073 DEBUG 23644 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.addApply      : ==> Parameters: 1(Long), 6(Long), 卡夫卡(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg(String), 2024-04-01 10:45:57.027(Timestamp)
2024-04-01 10:45:57.074 DEBUG 23644 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.addApply      : <==    Updates: 1
2024-04-01 10:45:57.074  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 10:45:57.074  INFO 23644 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 10:45:57.104  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@5b1f210b]}
2024-04-01 10:45:57.104 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 10:45:57.105 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 10:45:57.106 DEBUG 23644 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 10:45:57.106  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 10:45:57.106  INFO 23644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:00:32.974  INFO 23644 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 11:00:32.977  INFO 23644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 11:00:32.984  INFO 23644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 11:00:44.994  INFO 34092 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 34092 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 11:00:44.995 DEBUG 34092 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 11:00:44.995  INFO 34092 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 11:00:45.022  INFO 34092 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 11:00:45.023  INFO 34092 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 11:00:45.493  INFO 34092 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 11:00:45.552  INFO 34092 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2024-04-01 11:00:46.041  INFO 34092 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 11:00:46.047  INFO 34092 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 11:00:46.047  INFO 34092 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 11:00:46.110  INFO 34092 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 11:00:46.110  INFO 34092 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1087 ms
2024-04-01 11:00:46.240  INFO 34092 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 11:00:46.267  INFO 34092 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 11:00:46.340  INFO 34092 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 11:00:46.395  INFO 34092 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 11:00:46.695  INFO 34092 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 11:00:46.707  INFO 34092 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 11:00:47.337  INFO 34092 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 11:00:47.341  INFO 34092 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 11:00:48.065  WARN 34092 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 11:00:48.291  INFO 34092 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 11:00:48.608  INFO 34092 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 11:00:48.641  INFO 34092 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 11:00:48.648  INFO 34092 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.029 seconds (JVM running for 4.903)
2024-04-01 11:00:51.948  INFO 34092 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 11:00:51.948  INFO 34092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 11:00:51.949  INFO 34092 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 11:00:52.215  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 11:00:52.223  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 11:00:52.223  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:00:52.460  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@31963ea6, org.apache.catalina.connector.ResponseFacade@65b1c7dc]}
2024-04-01 11:00:52.687  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 11:00:52.688  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:03.628  INFO 34092 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@65b1c7dc, hyf, hyfhsy, o1wi, org.apache.catalina.session.StandardSessionFacade@39156fb0, {}]}
2024-04-01 11:01:03.629  INFO 34092 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-01 11:01:03.629  INFO 34092 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:03.652  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 11:01:03.652  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 11:01:03.652  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:03.696  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@4022cc71, org.apache.catalina.connector.ResponseFacade@4ee53a05]}
2024-04-01 11:01:03.703  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 11:01:03.703  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:08.912  INFO 34092 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4ee53a05, hyf, hyfhsy, 9dhu, org.apache.catalina.session.StandardSessionFacade@39156fb0, {}]}
2024-04-01 11:01:08.944 DEBUG 34092 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 11:01:08.951 DEBUG 34092 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 11:01:08.958 DEBUG 34092 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 11:01:08.965  INFO 34092 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 11:01:08.965  INFO 34092 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:08.982  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 11:01:09.063  WARN 34092 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 11:01:09.073  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 11:01:09.073  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:11.593  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 11:01:11.596  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 11:01:11.597  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:11.854  INFO 34092 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:01:11.857 DEBUG 34092 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 11:01:11.857 DEBUG 34092 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 11:01:11.860 DEBUG 34092 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 11:01:11.861  INFO 34092 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 11:01:11.866  INFO 34092 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:11.942  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:01:11.943 DEBUG 34092 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 11:01:11.944 DEBUG 34092 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 11:01:11.945 DEBUG 34092 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 11:01:11.946  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 11:01:11.958  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:12.024  INFO 34092 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:01:12.026 DEBUG 34092 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 11:01:12.026 DEBUG 34092 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 11:01:12.028 DEBUG 34092 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 11:01:12.030  INFO 34092 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 11:01:12.030  INFO 34092 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:12.064  INFO 34092 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:01:12.065 DEBUG 34092 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 11:01:12.066 DEBUG 34092 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 11:01:12.067 DEBUG 34092 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 11:01:12.067  INFO 34092 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 11:01:12.067  INFO 34092 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:01:33.850  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0, {}]}
2024-04-01 11:01:33.854 DEBUG 34092 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 11:01:33.854 DEBUG 34092 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-01 11:01:33.856 DEBUG 34092 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 11:01:33.857  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : about
2024-04-01 11:01:33.857  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:00.090  INFO 34092 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[卡夫卡, org.apache.catalina.connector.ResponseFacade@4ee53a05, org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:02:00.093 DEBUG 34092 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN u.id IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-01 11:02:00.094 DEBUG 34092 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 1(Long), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String)
2024-04-01 11:02:00.096 DEBUG 34092 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-01 11:02:00.097  INFO 34092 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=1, username=hyf, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nickname=卡夫卡, signature=风吹开哪页读哪页，哪页读不懂撕哪页, isFriend=true, isMe=true)]
2024-04-01 11:02:00.105  INFO 34092 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:03.929  INFO 34092 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0, {}]}
2024-04-01 11:02:03.931 DEBUG 34092 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 11:02:03.931 DEBUG 34092 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-01 11:02:03.933 DEBUG 34092 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 11:02:03.934  INFO 34092 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : about
2024-04-01 11:02:03.934  INFO 34092 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:17.677  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:02:17.678 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-01 11:02:17.679 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-01 11:02:17.681 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 3
2024-04-01 11:02:17.681  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan)]
2024-04-01 11:02:17.682  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:56.768  INFO 34092 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:02:56.770 DEBUG 34092 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-01 11:02:56.770 DEBUG 34092 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-01 11:02:56.772 DEBUG 34092 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 3
2024-04-01 11:02:56.772  INFO 34092 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan)]
2024-04-01 11:02:56.772  INFO 34092 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:58.294  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@263759cd, org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:02:58.297 DEBUG 34092 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 11:02:58.298 DEBUG 34092 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 11:02:58.299 DEBUG 34092 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 11:02:58.301 DEBUG 34092 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-01 11:02:58.301 DEBUG 34092 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-01 11:02:58.303 DEBUG 34092 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-01 11:02:58.303  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-01 11:02:58.303  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:58.469  INFO 34092 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-01 11:02:58.469  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:02:58.471 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-01 11:02:58.472 DEBUG 34092 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 11:02:58.472 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-01 11:02:58.472 DEBUG 34092 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 11:02:58.473 DEBUG 34092 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 11:02:58.475  INFO 34092 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 2
2024-04-01 11:02:58.475 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-04-01 11:02:58.475  INFO 34092 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:58.476 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 11:02:58.477 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 11:02:58.480 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 11:02:58.481 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 11:02:58.482 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-01 11:02:58.485 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 11:02:58.486  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:02:58.488 DEBUG 34092 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 11:02:58.488 DEBUG 34092 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-01 11:02:58.488 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 11:02:58.489 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-01 11:02:58.490 DEBUG 34092 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 11:02:58.490 DEBUG 34092 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 11:02:58.492  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-01 11:02:58.493  INFO 34092 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:02:58.492  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-04-01 11:02:58.502  INFO 34092 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:03:26.223 DEBUG 34092 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-01 11:03:26.227 DEBUG 34092 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), xhc(String), 愚人节快乐！(String), 2024-04-01 11:03:26.149(Timestamp), false(Boolean), true(Boolean)
2024-04-01 11:03:26.322 DEBUG 34092 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-01 11:03:34.076  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[root]}
2024-04-01 11:03:34.077 DEBUG 34092 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-01 11:03:34.077 DEBUG 34092 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-01 11:03:34.079 DEBUG 34092 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-01 11:03:34.079  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 4
2024-04-01 11:03:34.081  INFO 34092 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:03:34.088  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@39156fb0]}
2024-04-01 11:03:34.088 DEBUG 34092 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-01 11:03:34.089 DEBUG 34092 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-04-01 11:03:34.091 DEBUG 34092 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-01 11:03:34.092  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=nice！成功了, sendTime=Fri Mar 29 15:19:13 CST 2024)]
2024-04-01 11:03:34.092  INFO 34092 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 11:03:48.769  INFO 34092 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 11:03:48.772  INFO 34092 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 11:03:48.783  INFO 34092 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 17:26:54.223  INFO 27524 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 27524 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 17:26:54.224 DEBUG 27524 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 17:26:54.224  INFO 27524 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 17:26:54.248  INFO 27524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 17:26:54.248  INFO 27524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 17:26:54.751  INFO 27524 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 17:26:54.820  INFO 27524 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 5 JPA repository interfaces.
2024-04-01 17:26:55.447  INFO 27524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 17:26:55.455  INFO 27524 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 17:26:55.455  INFO 27524 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 17:26:55.525  INFO 27524 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 17:26:55.525  INFO 27524 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1276 ms
2024-04-01 17:26:55.650  INFO 27524 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 17:26:55.678  INFO 27524 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 17:26:55.754  INFO 27524 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 17:26:55.804  INFO 27524 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 17:26:56.047  INFO 27524 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 17:26:56.060  INFO 27524 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 17:26:56.689  INFO 27524 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 17:26:56.694  INFO 27524 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 17:26:57.631  WARN 27524 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 17:26:57.846  INFO 27524 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 17:26:58.194  INFO 27524 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 17:26:58.230  INFO 27524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 17:26:58.239  INFO 27524 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.318 seconds (JVM running for 5.135)
2024-04-01 17:27:22.649  INFO 27524 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 17:27:22.651  INFO 27524 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 17:27:22.652  INFO 27524 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 17:27:22.866  WARN 27524 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [200] milliseconds.
2024-04-01 17:27:23.361  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 17:27:23.368  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 17:27:23.368  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:23.592  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@90c8a99, org.apache.catalina.connector.ResponseFacade@45ee00e6]}
2024-04-01 17:27:23.808  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 17:27:23.808  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:27.347  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@45ee00e6, hyf, hyfhsy, vsgd, org.apache.catalina.session.StandardSessionFacade@46acbc65, {}]}
2024-04-01 17:27:27.379 DEBUG 27524 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 17:27:27.387 DEBUG 27524 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 17:27:27.398 DEBUG 27524 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 17:27:27.401  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 17:27:27.401  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:27.423  INFO 27524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 17:27:27.504  WARN 27524 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 17:27:27.517  INFO 27524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 17:27:27.517  INFO 27524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:27.525  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4d3daac7, hyf, hyfhsy, vsgd, org.apache.catalina.session.StandardSessionFacade@46acbc65, {}]}
2024-04-01 17:27:27.527 DEBUG 27524 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 17:27:27.528 DEBUG 27524 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 17:27:27.530 DEBUG 27524 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 17:27:27.531  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 17:27:27.531  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:27.541  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 17:27:27.561  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 17:27:27.562  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.462  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 17:27:29.468  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 17:27:29.468  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.616  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:29.619 DEBUG 27524 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 17:27:29.620 DEBUG 27524 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 17:27:29.624 DEBUG 27524 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 17:27:29.625  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 17:27:29.632  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.716  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:29.717 DEBUG 27524 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 17:27:29.717 DEBUG 27524 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 17:27:29.720 DEBUG 27524 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 17:27:29.720  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 17:27:29.730  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.762  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:29.762 DEBUG 27524 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-01 17:27:29.764 DEBUG 27524 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-01 17:27:29.768 DEBUG 27524 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-01 17:27:29.769  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, count=9)
2024-04-01 17:27:29.770  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.822  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:29.824 DEBUG 27524 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-01 17:27:29.824 DEBUG 27524 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-01 17:27:29.827 DEBUG 27524 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-01 17:27:29.828  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, count=2)
2024-04-01 17:27:29.829  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.862  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:29.863 DEBUG 27524 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:27:29.863 DEBUG 27524 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:27:29.866 DEBUG 27524 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:27:29.867  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, count=null)
2024-04-01 17:27:29.867  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.947  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:29.948 DEBUG 27524 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 17:27:29.948 DEBUG 27524 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:27:29.950 DEBUG 27524 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 17:27:29.950  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 17:27:29.950  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:29.960  INFO 27524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:29.961 DEBUG 27524 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 17:27:29.962 DEBUG 27524 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 17:27:29.966 DEBUG 27524 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 17:27:29.966  INFO 27524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 17:27:29.967  INFO 27524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:38.656  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 17:27:38.656  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 17:27:38.656  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:38.736  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:38.737 DEBUG 27524 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 17:27:38.738 DEBUG 27524 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 17:27:38.739 DEBUG 27524 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 17:27:38.740  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 17:27:38.741  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:38.759  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:38.760 DEBUG 27524 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 17:27:38.760 DEBUG 27524 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 17:27:38.762 DEBUG 27524 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 17:27:38.762  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 17:27:38.763  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:38.783  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:38.783 DEBUG 27524 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-01 17:27:38.783 DEBUG 27524 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-01 17:27:38.785 DEBUG 27524 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-01 17:27:38.786  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, count=9)
2024-04-01 17:27:38.786  INFO 27524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:38.827  INFO 27524 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:38.828 DEBUG 27524 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-01 17:27:38.829 DEBUG 27524 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-01 17:27:38.830 DEBUG 27524 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-01 17:27:38.831  INFO 27524 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, count=2)
2024-04-01 17:27:38.831  INFO 27524 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:38.947  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:38.948 DEBUG 27524 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:27:38.949 DEBUG 27524 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:27:38.951 DEBUG 27524 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:27:38.951  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, count=null)
2024-04-01 17:27:38.952  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:38.961  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:38.963 DEBUG 27524 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 17:27:38.964 DEBUG 27524 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:27:38.966 DEBUG 27524 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 17:27:38.967  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 17:27:38.967  INFO 27524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:39.006  INFO 27524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:39.007 DEBUG 27524 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 17:27:39.008 DEBUG 27524 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 17:27:39.011 DEBUG 27524 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 17:27:39.013  INFO 27524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 17:27:39.013  INFO 27524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.433  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 17:27:47.433  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 17:27:47.433  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.516  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:47.517 DEBUG 27524 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 17:27:47.518 DEBUG 27524 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 17:27:47.519 DEBUG 27524 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 17:27:47.519  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 17:27:47.520  INFO 27524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.533  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:47.533 DEBUG 27524 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 17:27:47.534 DEBUG 27524 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 17:27:47.535 DEBUG 27524 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 17:27:47.536  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 17:27:47.536  INFO 27524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.571  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:47.572 DEBUG 27524 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-01 17:27:47.574 DEBUG 27524 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-01 17:27:47.577 DEBUG 27524 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-01 17:27:47.577  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, count=9)
2024-04-01 17:27:47.577  INFO 27524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.619  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:47.621 DEBUG 27524 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-01 17:27:47.621 DEBUG 27524 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-01 17:27:47.624 DEBUG 27524 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-01 17:27:47.625  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, count=2)
2024-04-01 17:27:47.625  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.676  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:47.676 DEBUG 27524 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:27:47.676 DEBUG 27524 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:27:47.680 DEBUG 27524 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:27:47.680  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, count=null)
2024-04-01 17:27:47.680  INFO 27524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.711  INFO 27524 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:47.712 DEBUG 27524 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 17:27:47.712 DEBUG 27524 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:27:47.715 DEBUG 27524 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 17:27:47.715  INFO 27524 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 17:27:47.715  INFO 27524 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:27:47.725  INFO 27524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:27:47.725 DEBUG 27524 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 17:27:47.726 DEBUG 27524 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 17:27:47.729 DEBUG 27524 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 17:27:47.729  INFO 27524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 17:27:47.729  INFO 27524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:30:59.353  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@46acbc65]}
2024-04-01 17:30:59.354 DEBUG 27524 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:30:59.354 DEBUG 27524 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:30:59.356 DEBUG 27524 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:30:59.356  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, count=null)
2024-04-01 17:30:59.356  INFO 27524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:28.938  INFO 27524 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 17:36:28.941  INFO 27524 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 17:36:28.950  INFO 27524 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 17:36:33.229  INFO 10032 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 10032 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 17:36:33.230 DEBUG 10032 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 17:36:33.230  INFO 10032 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 17:36:33.252  INFO 10032 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 17:36:33.253  INFO 10032 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 17:36:33.739  INFO 10032 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 17:36:33.801  INFO 10032 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2024-04-01 17:36:34.330  INFO 10032 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 17:36:34.337  INFO 10032 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 17:36:34.338  INFO 10032 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 17:36:34.405  INFO 10032 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 17:36:34.405  INFO 10032 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1152 ms
2024-04-01 17:36:34.554  INFO 10032 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 17:36:34.592  INFO 10032 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 17:36:34.669  INFO 10032 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 17:36:34.728  INFO 10032 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 17:36:34.949  INFO 10032 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 17:36:34.961  INFO 10032 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 17:36:35.531  INFO 10032 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 17:36:35.536  INFO 10032 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 17:36:36.324  WARN 10032 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 17:36:36.535  INFO 10032 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 17:36:36.865  INFO 10032 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 17:36:36.909  INFO 10032 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 17:36:36.918  INFO 10032 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.114 seconds (JVM running for 4.899)
2024-04-01 17:36:47.230  INFO 10032 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 17:36:47.231  INFO 10032 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 17:36:47.233  INFO 10032 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-01 17:36:47.669  INFO 10032 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 17:36:47.681  INFO 10032 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 17:36:47.681  INFO 10032 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:47.996  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@1a127d2b, org.apache.catalina.connector.ResponseFacade@42fb2160]}
2024-04-01 17:36:48.301  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 17:36:48.301  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:53.983  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@42fb2160, hyf, hyfhsy, go7q, org.apache.catalina.session.StandardSessionFacade@4ed545a6, {}]}
2024-04-01 17:36:54.014 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 17:36:54.020 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 17:36:54.032 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 17:36:54.038  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 17:36:54.038  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:54.060  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 17:36:54.143  WARN 10032 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 17:36:54.157  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 17:36:54.158  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:56.493  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 17:36:56.496  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 17:36:56.498  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:56.631  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:36:56.635 DEBUG 10032 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 17:36:56.636 DEBUG 10032 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 17:36:56.642 DEBUG 10032 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 17:36:56.646  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 17:36:56.654  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:56.734  INFO 10032 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:36:56.735 DEBUG 10032 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 17:36:56.736 DEBUG 10032 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 17:36:56.739 DEBUG 10032 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 17:36:56.739  INFO 10032 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 17:36:56.750  INFO 10032 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:56.773  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:36:56.774 DEBUG 10032 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-01 17:36:56.775 DEBUG 10032 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-01 17:36:56.778 DEBUG 10032 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-01 17:36:56.778  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-01 17:36:56.779  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:56.851  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:36:56.852 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-01 17:36:56.852 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-01 17:36:56.855 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-01 17:36:56.855  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-01 17:36:56.856  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:56.966  INFO 10032 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:36:56.966 DEBUG 10032 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:36:56.967 DEBUG 10032 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:36:56.969 DEBUG 10032 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:36:56.970  INFO 10032 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=3)
2024-04-01 17:36:56.970  INFO 10032 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:57.019  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:36:57.021 DEBUG 10032 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 17:36:57.022 DEBUG 10032 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:36:57.025 DEBUG 10032 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 17:36:57.025  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 17:36:57.025  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:36:57.039  INFO 10032 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:36:57.041 DEBUG 10032 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 17:36:57.042 DEBUG 10032 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 17:36:57.045 DEBUG 10032 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 17:36:57.046  INFO 10032 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 17:36:57.046  INFO 10032 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:38:07.246  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[2, {}]}
2024-04-01 17:38:07.251 DEBUG 10032 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 17:38:07.251 DEBUG 10032 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 17:38:07.252 DEBUG 10032 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 17:38:07.253 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-01 17:38:07.254 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 2(Long), 2(Long)
2024-04-01 17:38:07.257 DEBUG 10032 --- [http-nio-8080-exec-6] c.j.d.F.findJoinForumsByUserId           : <==      Total: 2
2024-04-01 17:38:07.276  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-01 17:38:07.276  INFO 10032 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:19.813  INFO 10032 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6, {}]}
2024-04-01 17:42:19.814 DEBUG 10032 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 17:42:19.815 DEBUG 10032 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-01 17:42:19.817 DEBUG 10032 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 17:42:19.818  INFO 10032 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : about
2024-04-01 17:42:19.818  INFO 10032 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:24.877  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6, {}]}
2024-04-01 17:42:24.878 DEBUG 10032 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 17:42:24.878 DEBUG 10032 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-01 17:42:24.880 DEBUG 10032 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 17:42:24.881  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : about
2024-04-01 17:42:24.881  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:36.965  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 17:42:36.966  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 17:42:36.966  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:37.082  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:42:37.083 DEBUG 10032 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 17:42:37.084 DEBUG 10032 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 17:42:37.086 DEBUG 10032 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 17:42:37.086  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 17:42:37.086  INFO 10032 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:37.103  INFO 10032 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:42:37.104 DEBUG 10032 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 17:42:37.104 DEBUG 10032 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 17:42:37.106 DEBUG 10032 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 17:42:37.108  INFO 10032 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 17:42:37.108  INFO 10032 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:37.128  INFO 10032 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:42:37.130 DEBUG 10032 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-01 17:42:37.131 DEBUG 10032 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-01 17:42:37.133 DEBUG 10032 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-01 17:42:37.134  INFO 10032 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-01 17:42:37.134  INFO 10032 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:37.169  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:42:37.170 DEBUG 10032 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-01 17:42:37.171 DEBUG 10032 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-01 17:42:37.174 DEBUG 10032 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-01 17:42:37.175  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-01 17:42:37.175  INFO 10032 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:37.279  INFO 10032 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:42:37.280 DEBUG 10032 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:42:37.280 DEBUG 10032 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:42:37.282 DEBUG 10032 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:42:37.283  INFO 10032 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=3)
2024-04-01 17:42:37.283  INFO 10032 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:37.293  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:42:37.293 DEBUG 10032 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 17:42:37.294 DEBUG 10032 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:42:37.295 DEBUG 10032 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 17:42:37.295  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 17:42:37.295  INFO 10032 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:37.305  INFO 10032 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@4ed545a6]}
2024-04-01 17:42:37.305 DEBUG 10032 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 17:42:37.306 DEBUG 10032 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 17:42:37.308 DEBUG 10032 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 17:42:37.309  INFO 10032 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 17:42:37.309  INFO 10032 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:41.594  INFO 10032 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 17:42:41.598  INFO 10032 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 17:42:41.612  INFO 10032 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-01 17:42:45.152  INFO 23112 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 23112 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-01 17:42:45.152 DEBUG 23112 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-01 17:42:45.153  INFO 23112 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-01 17:42:45.176  INFO 23112 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-01 17:42:45.176  INFO 23112 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-01 17:42:45.607  INFO 23112 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-01 17:42:45.675  INFO 23112 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 5 JPA repository interfaces.
2024-04-01 17:42:46.158  INFO 23112 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-01 17:42:46.164  INFO 23112 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-01 17:42:46.164  INFO 23112 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-01 17:42:46.230  INFO 23112 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-01 17:42:46.230  INFO 23112 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1054 ms
2024-04-01 17:42:46.351  INFO 23112 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-01 17:42:46.376  INFO 23112 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-01 17:42:46.448  INFO 23112 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-01 17:42:46.499  INFO 23112 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-01 17:42:46.715  INFO 23112 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-01 17:42:46.727  INFO 23112 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-01 17:42:47.272  INFO 23112 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-01 17:42:47.277  INFO 23112 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 17:42:47.978  WARN 23112 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-01 17:42:48.226  INFO 23112 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-01 17:42:48.520  INFO 23112 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-01 17:42:48.554  INFO 23112 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-01 17:42:48.561  INFO 23112 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.71 seconds (JVM running for 4.491)
2024-04-01 17:42:53.546  INFO 23112 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-01 17:42:53.547  INFO 23112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-01 17:42:53.547  INFO 23112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-04-01 17:42:54.147  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-01 17:42:54.155  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-01 17:42:54.155  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:42:54.371  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@24b8519e, org.apache.catalina.connector.ResponseFacade@714142c4]}
2024-04-01 17:42:54.582  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 17:42:54.582  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:02.296  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@714142c4, hyf, hyfhsy, mrlx, org.apache.catalina.session.StandardSessionFacade@65865f8a, {}]}
2024-04-01 17:43:02.326 DEBUG 23112 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-01 17:43:02.333 DEBUG 23112 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-01 17:43:02.344 DEBUG 23112 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-01 17:43:02.351  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-01 17:43:02.351  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:02.372  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 17:43:02.460  WARN 23112 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-01 17:43:02.473  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 17:43:02.473  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.151  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 17:43:04.157  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 17:43:04.158  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.275  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:43:04.278 DEBUG 23112 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 17:43:04.278 DEBUG 23112 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 17:43:04.280 DEBUG 23112 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 17:43:04.283  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 17:43:04.288  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.367  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:43:04.369 DEBUG 23112 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 17:43:04.369 DEBUG 23112 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 17:43:04.370 DEBUG 23112 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 17:43:04.370  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 17:43:04.381  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.403  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:43:04.403 DEBUG 23112 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-01 17:43:04.403 DEBUG 23112 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-01 17:43:04.405 DEBUG 23112 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-01 17:43:04.406  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-01 17:43:04.407  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.454  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:43:04.455 DEBUG 23112 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-01 17:43:04.455 DEBUG 23112 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-01 17:43:04.458 DEBUG 23112 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-01 17:43:04.458  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-01 17:43:04.458  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.468  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:43:04.470 DEBUG 23112 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:43:04.470 DEBUG 23112 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:43:04.472 DEBUG 23112 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:43:04.473  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=3)
2024-04-01 17:43:04.473  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.520  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:43:04.521 DEBUG 23112 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 17:43:04.522 DEBUG 23112 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:43:04.524 DEBUG 23112 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 17:43:04.525  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 17:43:04.525  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:43:04.537  INFO 23112 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:43:04.538 DEBUG 23112 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 17:43:04.539 DEBUG 23112 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 17:43:04.542 DEBUG 23112 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 17:43:04.543  INFO 23112 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 17:43:04.543  INFO 23112 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:46:42.009  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[4, {}]}
2024-04-01 17:46:42.013 DEBUG 23112 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 17:46:42.014 DEBUG 23112 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 4(Long)
2024-04-01 17:46:42.015 DEBUG 23112 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 17:46:42.016 DEBUG 23112 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-01 17:46:42.017 DEBUG 23112 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 4(Long), 4(Long)
2024-04-01 17:46:42.018 DEBUG 23112 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : <==      Total: 1
2024-04-01 17:46:42.028  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-01 17:46:42.028  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.509  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-01 17:48:01.509  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends
2024-04-01 17:48:01.510  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.620  INFO 23112 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:48:01.621 DEBUG 23112 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-01 17:48:01.621 DEBUG 23112 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-01 17:48:01.623 DEBUG 23112 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-01 17:48:01.624  INFO 23112 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-01 17:48:01.624  INFO 23112 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.643  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:48:01.643 DEBUG 23112 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-01 17:48:01.644 DEBUG 23112 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-01 17:48:01.645 DEBUG 23112 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-01 17:48:01.647  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-01 17:48:01.648  INFO 23112 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.664  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:48:01.665 DEBUG 23112 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-01 17:48:01.665 DEBUG 23112 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-01 17:48:01.667 DEBUG 23112 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-01 17:48:01.667  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-01 17:48:01.667  INFO 23112 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.699  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:48:01.700 DEBUG 23112 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-01 17:48:01.701 DEBUG 23112 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-01 17:48:01.703 DEBUG 23112 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-01 17:48:01.703  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-01 17:48:01.704  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.861  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:48:01.862 DEBUG 23112 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-01 17:48:01.863 DEBUG 23112 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:48:01.865 DEBUG 23112 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-01 17:48:01.866  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=3)
2024-04-01 17:48:01.866  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.879  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:48:01.880 DEBUG 23112 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-01 17:48:01.881 DEBUG 23112 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-01 17:48:01.883 DEBUG 23112 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-01 17:48:01.884  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 3
2024-04-01 17:48:01.885  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:48:01.895  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:48:01.896 DEBUG 23112 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-01 17:48:01.897 DEBUG 23112 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-01 17:48:01.899 DEBUG 23112 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-01 17:48:01.900  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-01 17:48:01.900  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:49:23.639  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:49:23.641 DEBUG 23112 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-01 17:49:23.641 DEBUG 23112 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-01 17:49:23.643 DEBUG 23112 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 3
2024-04-01 17:49:23.644  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan)]
2024-04-01 17:49:23.644  INFO 23112 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:49:28.945  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[2, {}]}
2024-04-01 17:49:28.947 DEBUG 23112 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-01 17:49:28.947 DEBUG 23112 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-01 17:49:28.949 DEBUG 23112 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-01 17:49:28.951 DEBUG 23112 --- [http-nio-8080-exec-6] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-01 17:49:28.951 DEBUG 23112 --- [http-nio-8080-exec-6] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 2(Long), 2(Long)
2024-04-01 17:49:28.955 DEBUG 23112 --- [http-nio-8080-exec-6] c.j.d.F.findJoinForumsByUserId           : <==      Total: 2
2024-04-01 17:49:28.969  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-01 17:49:28.969  INFO 23112 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:50:16.209  INFO 23112 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@65865f8a]}
2024-04-01 17:50:16.210 DEBUG 23112 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-01 17:50:16.210 DEBUG 23112 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-01 17:50:16.211 DEBUG 23112 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 3
2024-04-01 17:50:16.212  INFO 23112 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan)]
2024-04-01 17:50:16.212  INFO 23112 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:52:23.245  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-01 17:52:23.262  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 17:52:23.263  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:52:26.259  INFO 23112 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 1, size 10, sort: updateTime: DESC], {}]}
2024-04-01 17:52:26.281  INFO 23112 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-01 17:52:26.281  INFO 23112 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:54:28.391  INFO 23112 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/fblog/input', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doWriteBlog', args=[{}]}
2024-04-01 17:54:28.395 DEBUG 23112 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-01 17:54:28.396 DEBUG 23112 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-01 17:54:28.397 DEBUG 23112 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-01 17:54:28.402  INFO 23112 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : fblog-input
2024-04-01 17:54:28.402  INFO 23112 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:57:52.007  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/fblog/input/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doWriteBlog', args=[Blog{id=null, title='', content='', firstPicture='', views=null, published=false, createTime=null, updateTime=null, description='', tag=Tag{id=0, name='null'}, forum=Forum{id=0, forumName='null', peopleNumber=null, blogNumber=null, popular=null, promotionalImage='null', description='null'}, user=null, comments=[]}, org.apache.catalina.session.StandardSessionFacade@65865f8a, org.apache.catalina.connector.ResponseFacade@37db1bc0]}
2024-04-01 17:57:52.028  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-01 17:57:52.028  INFO 23112 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 17:57:54.285  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/fblog/input', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doWriteBlog', args=[{}]}
2024-04-01 17:57:54.286 DEBUG 23112 --- [http-nio-8080-exec-7] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-01 17:57:54.286 DEBUG 23112 --- [http-nio-8080-exec-7] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-01 17:57:54.288 DEBUG 23112 --- [http-nio-8080-exec-7] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-01 17:57:54.291  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : fblog-input
2024-04-01 17:57:54.292  INFO 23112 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-01 18:16:26.840  INFO 23112 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-01 18:16:26.842  INFO 23112 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-01 18:16:26.852  INFO 23112 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
