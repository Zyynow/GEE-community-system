2024-04-07 00:02:19.699  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 00:02:19.701  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 00:02:19.702  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:19.738  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@73861bf7, org.apache.catalina.connector.ResponseFacade@7c9ecb9c]}
2024-04-07 00:02:19.747  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 00:02:19.747  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:28.133  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7c9ecb9c, 1cs, hyfhsy, kvmg, org.apache.catalina.session.StandardSessionFacade@530c2ba8, {}]}
2024-04-07 00:02:28.134 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 00:02:28.134 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: 1cs(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 00:02:28.135 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : <==      Total: 0
2024-04-07 00:02:28.135  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 00:02:28.135  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:28.149  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 00:02:28.150  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 00:02:28.150  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:28.190  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2bc61604, org.apache.catalina.connector.ResponseFacade@14b0bee7]}
2024-04-07 00:02:28.198  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 00:02:28.198  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:38.851  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@14b0bee7, cs, hyfhsy, n7v0, org.apache.catalina.session.StandardSessionFacade@530c2ba8, {}]}
2024-04-07 00:02:38.852 DEBUG 26500 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 00:02:38.853 DEBUG 26500 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: cs(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 00:02:38.853 DEBUG 26500 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 0
2024-04-07 00:02:38.854  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 00:02:38.854  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:38.865  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 00:02:38.865  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 00:02:38.865  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:38.903  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@73861bf7, org.apache.catalina.connector.ResponseFacade@7c9ecb9c]}
2024-04-07 00:02:38.908  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 00:02:38.908  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:43.158  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7c9ecb9c, 1, hyfhsy, r6ns, org.apache.catalina.session.StandardSessionFacade@530c2ba8, {}]}
2024-04-07 00:02:43.162 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 00:02:43.162 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: 1(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 00:02:43.163 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : <==      Total: 0
2024-04-07 00:02:43.163  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 00:02:43.163  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:43.174  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 00:02:43.175  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 00:02:43.175  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:43.215  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2bc61604, org.apache.catalina.connector.ResponseFacade@14b0bee7]}
2024-04-07 00:02:43.219  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 00:02:43.219  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:49.969  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@14b0bee7, cs, hyfhsy, lcg4, org.apache.catalina.session.StandardSessionFacade@530c2ba8, {}]}
2024-04-07 00:02:49.970  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 00:02:49.970  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:49.979  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 00:02:49.979  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 00:02:49.979  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:50.017  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@73861bf7, org.apache.catalina.connector.ResponseFacade@7c9ecb9c]}
2024-04-07 00:02:50.021  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 00:02:50.022  INFO 26500 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:58.461  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7c9ecb9c, cs, hyfhsy, t947, org.apache.catalina.session.StandardSessionFacade@530c2ba8, {}]}
2024-04-07 00:02:58.463 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 00:02:58.463 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: cs(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 00:02:58.464 DEBUG 26500 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : <==      Total: 0
2024-04-07 00:02:58.465  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 00:02:58.465  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:58.474  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 00:02:58.475  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 00:02:58.475  INFO 26500 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:02:58.514  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2bc61604, org.apache.catalina.connector.ResponseFacade@14b0bee7]}
2024-04-07 00:02:58.519  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 00:02:58.519  INFO 26500 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:17.151  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@14b0bee7, test, hyfhsy, t945, org.apache.catalina.session.StandardSessionFacade@530c2ba8, {}]}
2024-04-07 00:03:17.153 DEBUG 26500 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 00:03:17.154 DEBUG 26500 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: test(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 00:03:17.155 DEBUG 26500 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 00:03:17.156  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 00:03:17.156  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:17.178  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 00:03:17.187  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 00:03:17.187  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:22.106  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@59105c0d]}
2024-04-07 00:03:22.117  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 00:03:22.117  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:29.450  INFO 26500 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserSearch', args=[Page request [number: 0, size 10, sort: updateTime: DESC], 江西财经大学, {}, org.apache.catalina.connector.RequestFacade@39515ba9]}
2024-04-07 00:03:29.457  INFO 26500 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_search
2024-04-07 00:03:29.457  INFO 26500 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:37.540  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserSearch', args=[Page request [number: 0, size 10, sort: updateTime: DESC], , {}, org.apache.catalina.connector.RequestFacade@73861bf7]}
2024-04-07 00:03:37.548  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_search
2024-04-07 00:03:37.548  INFO 26500 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:39.742  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserSearch', args=[Page request [number: 1, size 10, sort: updateTime: DESC], , {}, org.apache.catalina.connector.RequestFacade@2bc61604]}
2024-04-07 00:03:39.752  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_search
2024-04-07 00:03:39.752  INFO 26500 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:44.607  INFO 26500 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserSearch', args=[Page request [number: 2, size 10, sort: updateTime: DESC], , {}, org.apache.catalina.connector.RequestFacade@39515ba9]}
2024-04-07 00:03:44.612  INFO 26500 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_search
2024-04-07 00:03:44.612  INFO 26500 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:47.112  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserSearch', args=[Page request [number: 1, size 10, sort: updateTime: DESC], , {}, org.apache.catalina.connector.RequestFacade@2bc61604]}
2024-04-07 00:03:47.121  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_search
2024-04-07 00:03:47.121  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:03:49.159  INFO 26500 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserSearch', args=[Page request [number: 0, size 10, sort: updateTime: DESC], , {}, org.apache.catalina.connector.RequestFacade@73861bf7]}
2024-04-07 00:03:49.167  INFO 26500 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_search
2024-04-07 00:03:49.167  INFO 26500 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:04:00.064  INFO 26500 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 00:04:00.073  INFO 26500 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 00:04:00.074  INFO 26500 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:04:08.047  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@73861bf7, {}, org.apache.catalina.session.StandardSessionFacade@530c2ba8]}
2024-04-07 00:04:08.050 DEBUG 26500 --- [http-nio-8080-exec-5] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 00:04:08.051 DEBUG 26500 --- [http-nio-8080-exec-5] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 00:04:08.053 DEBUG 26500 --- [http-nio-8080-exec-5] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 00:04:08.060 DEBUG 26500 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 00:04:08.060 DEBUG 26500 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 7(Long), 7(Long)
2024-04-07 00:04:08.061 DEBUG 26500 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : <==      Total: 0
2024-04-07 00:04:08.062 DEBUG 26500 --- [http-nio-8080-exec-5] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 00:04:08.062 DEBUG 26500 --- [http-nio-8080-exec-5] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 7(Long)
2024-04-07 00:04:08.063 DEBUG 26500 --- [http-nio-8080-exec-5] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 6
2024-04-07 00:04:08.063  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 00:04:08.063  INFO 26500 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 00:04:25.274  INFO 26500 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 00:04:25.276  INFO 26500 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 00:04:25.284  INFO 26500 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 01:30:03.148  INFO 7564 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 7564 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 01:30:03.150 DEBUG 7564 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 01:30:03.151  INFO 7564 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 01:30:03.175  INFO 7564 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 01:30:03.176  INFO 7564 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 01:30:03.711  INFO 7564 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 01:30:03.774  INFO 7564 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2024-04-07 01:30:04.265  INFO 7564 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 01:30:04.273  INFO 7564 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 01:30:04.273  INFO 7564 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 01:30:04.337  INFO 7564 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 01:30:04.337  INFO 7564 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1161 ms
2024-04-07 01:30:04.459  INFO 7564 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 01:30:04.488  INFO 7564 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 01:30:04.568  INFO 7564 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 01:30:04.622  INFO 7564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 01:30:04.846  INFO 7564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 01:30:04.858  INFO 7564 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 01:30:05.410  INFO 7564 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 01:30:05.415  INFO 7564 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 01:30:06.182  WARN 7564 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 01:30:06.369  INFO 7564 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 01:30:06.662  INFO 7564 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 01:30:06.695  INFO 7564 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 01:30:06.701  INFO 7564 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.896 seconds (JVM running for 4.715)
2024-04-07 01:30:15.117  INFO 7564 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 01:30:15.119  INFO 7564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 01:30:15.119  INFO 7564 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-04-07 01:30:15.147  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@4f5b0553]}
2024-04-07 01:30:15.372  WARN 7564 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [216] milliseconds.
2024-04-07 01:30:15.439  WARN 7564 --- [http-nio-8080-exec-1] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 01:30:15.448  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : index
2024-04-07 01:30:15.449  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:17.369  INFO 7564 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doForum', args=[org.apache.catalina.connector.RequestFacade@64d7969f, {}]}
2024-04-07 01:30:17.385 DEBUG 7564 --- [http-nio-8080-exec-6] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 01:30:17.389 DEBUG 7564 --- [http-nio-8080-exec-6] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 01:30:17.395 DEBUG 7564 --- [http-nio-8080-exec-6] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 01:30:17.403  INFO 7564 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : forum
2024-04-07 01:30:17.403  INFO 7564 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:19.272  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:30:19.274  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:30:19.274  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:19.315  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@64d7969f, org.apache.catalina.connector.ResponseFacade@1f4053c7]}
2024-04-07 01:30:19.515  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:30:19.515  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:23.883  INFO 7564 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:30:23.884  INFO 7564 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:30:23.884  INFO 7564 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:23.918  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@f9f4d1f, org.apache.catalina.connector.ResponseFacade@4a9dc288]}
2024-04-07 01:30:23.924  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:30:23.924  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:36.635  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doForum', args=[org.apache.catalina.connector.RequestFacade@f9f4d1f, {}]}
2024-04-07 01:30:36.636 DEBUG 7564 --- [http-nio-8080-exec-7] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 01:30:36.636 DEBUG 7564 --- [http-nio-8080-exec-7] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 01:30:36.637 DEBUG 7564 --- [http-nio-8080-exec-7] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 01:30:36.640  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : forum
2024-04-07 01:30:36.641  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:39.099  INFO 7564 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:30:39.099  INFO 7564 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:30:39.099  INFO 7564 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:39.134  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@5f513aa5, org.apache.catalina.connector.ResponseFacade@14964035]}
2024-04-07 01:30:39.142  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:30:39.143  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:49.538  INFO 7564 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@5f513aa5]}
2024-04-07 01:30:49.552  INFO 7564 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : types
2024-04-07 01:30:49.552  INFO 7564 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:53.936  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:30:53.936  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:30:53.936  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:53.982  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@62d5b72b, org.apache.catalina.connector.ResponseFacade@2a43a59c]}
2024-04-07 01:30:53.990  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:30:53.990  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:30:57.775  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doSearch', args=[Page request [number: 0, size 10, sort: updateTime: DESC], , {}, org.apache.catalina.connector.RequestFacade@5f513aa5]}
2024-04-07 01:30:57.791  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : search
2024-04-07 01:30:57.792  INFO 7564 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:31:03.289  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:31:03.289  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:31:03.289  INFO 7564 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:31:03.333  INFO 7564 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@f9f4d1f, org.apache.catalina.connector.ResponseFacade@4a9dc288]}
2024-04-07 01:31:03.337  INFO 7564 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:31:03.337  INFO 7564 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:31:16.516  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/register', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doRegister', args=[]}
2024-04-07 01:31:16.518  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : register
2024-04-07 01:31:16.518  INFO 7564 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:31:19.287  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:31:19.288  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:31:19.288  INFO 7564 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:31:19.333  INFO 7564 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@62d5b72b, org.apache.catalina.connector.ResponseFacade@2a43a59c]}
2024-04-07 01:31:19.340  INFO 7564 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:31:19.340  INFO 7564 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:31:31.110  INFO 7564 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 01:31:31.114  INFO 7564 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 01:31:31.121  INFO 7564 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 01:32:41.520  INFO 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 15820 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 01:32:41.521 DEBUG 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 01:32:41.521  INFO 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 01:32:41.547  INFO 15820 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 01:32:41.547  INFO 15820 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 01:32:42.010  INFO 15820 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 01:32:42.069  INFO 15820 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2024-04-07 01:32:42.540  INFO 15820 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 01:32:42.548  INFO 15820 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 01:32:42.548  INFO 15820 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 01:32:42.616  INFO 15820 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 01:32:42.618  INFO 15820 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1070 ms
2024-04-07 01:32:42.746  INFO 15820 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 01:32:42.776  INFO 15820 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 01:32:42.851  INFO 15820 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 01:32:42.906  INFO 15820 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 01:32:43.122  INFO 15820 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 01:32:43.132  INFO 15820 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 01:32:43.664  INFO 15820 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 01:32:43.669  INFO 15820 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 01:32:44.456  WARN 15820 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 01:32:44.650  INFO 15820 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 01:32:44.938  INFO 15820 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 01:32:44.976  INFO 15820 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 01:32:44.985  INFO 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.807 seconds (JVM running for 4.513)
2024-04-07 01:32:48.318  INFO 15820 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 01:32:48.320  INFO 15820 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 01:32:48.321  INFO 15820 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 01:32:48.354  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@5d75e9f9]}
2024-04-07 01:32:48.368  WARN 15820 --- [http-nio-8080-exec-1] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 01:32:48.424  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : types
2024-04-07 01:32:48.424  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:32:51.562  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:32:51.566  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:32:51.566  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:32:51.617  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@4aabb5a0, org.apache.catalina.connector.ResponseFacade@3cee4492]}
2024-04-07 01:32:51.923  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:32:51.924  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:32:58.244  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@3cee4492, test, hyfhsy, x54s, org.apache.catalina.session.StandardSessionFacade@80ad60f, {}]}
2024-04-07 01:32:58.267 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 01:32:58.273 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: test(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 01:32:58.281 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 01:32:58.286  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_types/-1
2024-04-07 01:32:58.286  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:32:58.305  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@4aabb5a0]}
2024-04-07 01:32:58.315  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 01:32:58.315  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:32:59.980  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/feedback', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FeedbackController.doFeedback', args=[]}
2024-04-07 01:32:59.983  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : feedback
2024-04-07 01:32:59.983  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:03.428  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/fblog/input', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doWriteBlog', args=[{}]}
2024-04-07 01:33:03.433 DEBUG 15820 --- [http-nio-8080-exec-6] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 01:33:03.433 DEBUG 15820 --- [http-nio-8080-exec-6] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 01:33:03.436 DEBUG 15820 --- [http-nio-8080-exec-6] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 01:33:03.445  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : fblog-input
2024-04-07 01:33:03.445  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.246  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 01:33:25.251  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 01:33:25.252  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.410  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:25.412 DEBUG 15820 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 01:33:25.413 DEBUG 15820 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 01:33:25.414 DEBUG 15820 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 01:33:25.415  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:33:25.415  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.533  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:25.534 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 01:33:25.534 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 01:33:25.536 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 01:33:25.537  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:33:25.537  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.560  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:25.561 DEBUG 15820 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 01:33:25.561 DEBUG 15820 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 01:33:25.564 DEBUG 15820 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 01:33:25.564  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:25.564  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.617  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:25.617 DEBUG 15820 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 01:33:25.617 DEBUG 15820 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 01:33:25.619 DEBUG 15820 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 01:33:25.620  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:25.620  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.629  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:25.629 DEBUG 15820 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 01:33:25.630 DEBUG 15820 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:33:25.705  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.707 ERROR 15820 --- [http-nio-8080-exec-9] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 01:33:25.708  WARN 15820 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 01:33:25.724  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:25.724 DEBUG 15820 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 01:33:25.725 DEBUG 15820 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:33:25.727 DEBUG 15820 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 01:33:25.727  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 01:33:25.727  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:25.736  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:25.737 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 01:33:25.739 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 01:33:25.740 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 01:33:25.741  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:25.741  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:38.869  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 01:33:38.869  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 01:33:38.869  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:38.979  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:38.981 DEBUG 15820 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 01:33:38.982 DEBUG 15820 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 01:33:38.983 DEBUG 15820 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 01:33:38.984  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:33:38.984  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:39.085  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:39.086 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 01:33:39.086 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 01:33:39.088 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 01:33:39.088  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:33:39.088  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:39.126  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:39.126 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 01:33:39.127 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 01:33:39.128 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 01:33:39.129  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:39.129  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:39.149  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:39.149 DEBUG 15820 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 01:33:39.149 DEBUG 15820 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 01:33:39.152 DEBUG 15820 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 01:33:39.153  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:39.153  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:39.164  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:39.165 DEBUG 15820 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 01:33:39.166 DEBUG 15820 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:33:39.168  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:39.168 ERROR 15820 --- [http-nio-8080-exec-3] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 01:33:39.168  WARN 15820 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 01:33:39.207  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:39.208 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 01:33:39.208 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:33:39.209 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 01:33:39.210  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 01:33:39.210  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:39.217  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:39.218 DEBUG 15820 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 01:33:39.220 DEBUG 15820 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 01:33:39.222 DEBUG 15820 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 01:33:39.223  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:39.223  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.619  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 01:33:49.619  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 01:33:49.619  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.716  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:49.717 DEBUG 15820 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 01:33:49.717 DEBUG 15820 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 01:33:49.719 DEBUG 15820 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 01:33:49.719  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:33:49.719  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.734  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:49.735 DEBUG 15820 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 01:33:49.735 DEBUG 15820 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 01:33:49.737 DEBUG 15820 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 01:33:49.738  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:33:49.738  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.841  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:49.842 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 01:33:49.842 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 01:33:49.843 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 01:33:49.844  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:49.844  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.869  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:49.869 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 01:33:49.869 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 01:33:49.871 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 01:33:49.871  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:49.872  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.888  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:49.889 DEBUG 15820 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 01:33:49.890 DEBUG 15820 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:33:49.891  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.891 ERROR 15820 --- [http-nio-8080-exec-6] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 01:33:49.892  WARN 15820 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 01:33:49.906  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:49.907 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 01:33:49.907 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:33:49.908 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 01:33:49.909  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 01:33:49.909  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:33:49.923  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:33:49.925 DEBUG 15820 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 01:33:49.925 DEBUG 15820 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 01:33:49.927 DEBUG 15820 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 01:33:49.927  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:33:49.927  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:04.188  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:04.189 DEBUG 15820 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 01:37:04.190 DEBUG 15820 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: test(String)
2024-04-07 01:37:04.191 DEBUG 15820 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 0
2024-04-07 01:37:04.191  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:37:04.191  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.593  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 01:37:14.593  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 01:37:14.594  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.716  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:14.717 DEBUG 15820 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 01:37:14.718 DEBUG 15820 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 01:37:14.718 DEBUG 15820 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 01:37:14.720  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:37:14.720  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.807  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:14.808 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 01:37:14.808 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 01:37:14.809 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 01:37:14.810  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:37:14.810  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.834  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:14.834 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 01:37:14.834 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 01:37:14.836 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 01:37:14.837  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:37:14.837  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.879  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:14.879 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 01:37:14.880 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 01:37:14.881 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 01:37:14.881  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:37:14.881  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.900  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:14.901 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 01:37:14.901 DEBUG 15820 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:37:14.904  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.904 ERROR 15820 --- [http-nio-8080-exec-5] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 01:37:14.904  WARN 15820 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 01:37:14.918  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:14.918 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 01:37:14.920 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:37:14.921 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 01:37:14.921  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 01:37:14.921  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:37:14.940  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:37:14.941 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 01:37:14.941 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 01:37:14.943 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 01:37:14.943  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:37:14.943  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.531  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 01:44:48.531  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 01:44:48.531  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.759  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:48.761 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 01:44:48.761 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 01:44:48.763 DEBUG 15820 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 01:44:48.763  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:44:48.764  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.781  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:48.781 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 01:44:48.781 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 01:44:48.782 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 01:44:48.783  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:44:48.783  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.825  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:48.825 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 01:44:48.826 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 01:44:48.827 DEBUG 15820 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 01:44:48.827  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:44:48.827  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.848  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:48.848 DEBUG 15820 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 01:44:48.849 DEBUG 15820 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 01:44:48.850 DEBUG 15820 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 01:44:48.851  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:44:48.851  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.858  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:48.859 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 01:44:48.859 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:44:48.861  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.861 ERROR 15820 --- [http-nio-8080-exec-7] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 01:44:48.862  WARN 15820 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 01:44:48.873  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:48.874 DEBUG 15820 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 01:44:48.874 DEBUG 15820 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:44:48.875 DEBUG 15820 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 01:44:48.876  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 01:44:48.876  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:48.883  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:48.884 DEBUG 15820 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 01:44:48.885 DEBUG 15820 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 01:44:48.886 DEBUG 15820 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 01:44:48.886  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:44:48.886  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:44:57.374  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[kafk, org.apache.catalina.connector.ResponseFacade@1ad744ae, org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:44:57.378 DEBUG 15820 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN u.id IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-07 01:44:57.378 DEBUG 15820 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 7(Long), kafk(String), kafk(String), kafk(String), kafk(String), kafk(String), kafk(String)
2024-04-07 01:44:57.380 DEBUG 15820 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-07 01:44:57.380  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nickname=Kafka_Fan, signature=不要停止我的音乐, isFriend=true, isMe=false)]
2024-04-07 01:44:57.387  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:45:01.819  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[卡夫卡, org.apache.catalina.connector.ResponseFacade@1ad744ae, org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:45:01.820 DEBUG 15820 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN u.id IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-07 01:45:01.820 DEBUG 15820 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 7(Long), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String)
2024-04-07 01:45:01.821 DEBUG 15820 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-07 01:45:01.822  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=1, username=hyf, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nickname=卡夫卡, signature=风吹开哪页读哪页，哪页读不懂撕哪页, isFriend=true, isMe=false)]
2024-04-07 01:45:01.822  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:45:10.216  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[1, {}, org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:45:10.223 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findView        : ==>  Preparing: select * from t_view where viewer_id = ? and viewed_id = ?
2024-04-07 01:45:10.223 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findView        : ==> Parameters: 7(Long), 1(Long)
2024-04-07 01:45:10.224 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findView        : <==      Total: 0
2024-04-07 01:45:10.225 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.addAboutView    : ==>  Preparing: insert into t_view(viewer_id, viewed_id, count) values (?, ?, 1)
2024-04-07 01:45:10.226 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.addAboutView    : ==> Parameters: 7(Long), 1(Long)
2024-04-07 01:45:10.247 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.addAboutView    : <==    Updates: 1
2024-04-07 01:45:10.248 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 01:45:10.248 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 01:45:10.249 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 01:45:10.250 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 01:45:10.250 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 01:45:10.252 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 01:45:10.308 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 01:45:10.309 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 01:45:10.310 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 01:45:10.312 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 01:45:10.312 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 01:45:10.314 DEBUG 15820 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 01:45:10.314  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-07 01:45:10.314  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:45:18.706  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[k, org.apache.catalina.connector.ResponseFacade@66b84e73, org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:45:18.707 DEBUG 15820 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN u.id IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-07 01:45:18.709 DEBUG 15820 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 7(Long), k(String), k(String), k(String), k(String), k(String), k(String)
2024-04-07 01:45:18.711 DEBUG 15820 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-07 01:45:18.711  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nickname=Kafka_Fan, signature=不要停止我的音乐, isFriend=true, isMe=false)]
2024-04-07 01:45:18.711  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:45:22.780  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[断背山, org.apache.catalina.connector.ResponseFacade@66b84e73, org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:45:22.781 DEBUG 15820 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN u.id IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-07 01:45:22.782 DEBUG 15820 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 7(Long), 断背山(String), 断背山(String), 断背山(String), 断背山(String), 断背山(String), 断背山(String)
2024-04-07 01:45:22.783 DEBUG 15820 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-07 01:45:22.783  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nickname=断背山, signature=风吹开哪页读哪页，哪页读不懂撕哪页, isFriend=true, isMe=false)]
2024-04-07 01:45:22.783  INFO 15820 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:47:23.437  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[卡夫卡, org.apache.catalina.connector.ResponseFacade@66b84e73, org.apache.catalina.session.StandardSessionFacade@80ad60f]}
2024-04-07 01:47:23.438 DEBUG 15820 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN u.id IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-07 01:47:23.438 DEBUG 15820 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 7(Long), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String)
2024-04-07 01:47:23.439 DEBUG 15820 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-07 01:47:23.440  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=1, username=hyf, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nickname=卡夫卡, signature=风吹开哪页读哪页，哪页读不懂撕哪页, isFriend=true, isMe=false)]
2024-04-07 01:47:23.440  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:54:37.788  INFO 15820 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 01:54:37.791  INFO 15820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 01:54:37.801  INFO 15820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 01:54:40.343  INFO 31144 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 31144 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 01:54:40.343 DEBUG 31144 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 01:54:40.343  INFO 31144 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 01:54:40.364  INFO 31144 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 01:54:40.364  INFO 31144 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 01:54:40.777  INFO 31144 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 01:54:40.837  INFO 31144 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2024-04-07 01:54:41.251  INFO 31144 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 01:54:41.257  INFO 31144 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 01:54:41.257  INFO 31144 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 01:54:41.319  INFO 31144 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 01:54:41.319  INFO 31144 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 953 ms
2024-04-07 01:54:41.425  INFO 31144 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 01:54:41.444  INFO 31144 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 01:54:41.521  INFO 31144 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 01:54:41.575  INFO 31144 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 01:54:41.764  INFO 31144 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 01:54:41.776  INFO 31144 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 01:54:42.294  INFO 31144 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 01:54:42.299  INFO 31144 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 01:54:43.254  WARN 31144 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 01:54:43.820  INFO 31144 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 01:54:44.184  INFO 31144 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 01:54:44.227  INFO 31144 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 01:54:44.238  INFO 31144 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.188 seconds (JVM running for 4.923)
2024-04-07 01:54:49.087  INFO 31144 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 01:54:49.088  INFO 31144 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 01:54:49.090  INFO 31144 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-07 01:54:49.590  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 01:54:49.597  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 01:54:49.598  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:54:49.844  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@7f310ce2, org.apache.catalina.connector.ResponseFacade@46cd5371]}
2024-04-07 01:54:50.086  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:54:50.086  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:54:57.883  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@46cd5371, test, hyfhsy, y4t6, org.apache.catalina.session.StandardSessionFacade@7f25d00b, {}]}
2024-04-07 01:54:57.914 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 01:54:57.921 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: test(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 01:54:57.931 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 01:54:57.937  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : redirect:/user_types/-1
2024-04-07 01:54:57.937  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:54:57.962  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@7f310ce2]}
2024-04-07 01:54:57.975  WARN 31144 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 01:54:58.041  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 01:54:58.041  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:54:59.825  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 01:54:59.830  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 01:54:59.831  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:00.175  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:00.178 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 01:55:00.179 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 01:55:00.181 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 01:55:00.182  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:55:00.183  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:00.260  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:00.261 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 01:55:00.261 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 01:55:00.263 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 01:55:00.264  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:55:00.264  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:00.293  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:00.294 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 01:55:00.294 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 01:55:00.296 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 01:55:00.296  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:55:00.297  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:00.320  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:00.321 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 01:55:00.321 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 01:55:00.322 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 01:55:00.323  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:55:00.323  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:00.331  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:00.332 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 01:55:00.332 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:55:00.388  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:00.390 ERROR 31144 --- [http-nio-8080-exec-7] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 01:55:00.391  WARN 31144 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 01:55:00.410  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:00.411 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 01:55:00.411 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:55:00.413 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 01:55:00.413  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 01:55:00.413  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:00.422  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:00.423 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 01:55:00.424 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 01:55:00.426 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 01:55:00.426  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:55:00.427  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:07.246  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:07.248 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 01:55:07.248 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: test(String)
2024-04-07 01:55:07.249 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 0
2024-04-07 01:55:07.250  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:55:07.250  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.383  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 01:55:38.383  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 01:55:38.383  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.795  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:38.796 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 01:55:38.797 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 01:55:38.798 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 01:55:38.799  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:55:38.799  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.814  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:38.815 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 01:55:38.816 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 01:55:38.817 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 01:55:38.817  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 01:55:38.818  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.845  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:38.847 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 01:55:38.847 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 01:55:38.848 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 01:55:38.849  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:55:38.849  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.878  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:38.878 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 01:55:38.879 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 01:55:38.881 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 01:55:38.882  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:55:38.882  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.907  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:38.907 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 01:55:38.908 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:55:38.909  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.909 ERROR 31144 --- [http-nio-8080-exec-7] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 01:55:38.910  WARN 31144 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 01:55:38.927  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:38.928 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 01:55:38.928 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 01:55:38.929 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 01:55:38.930  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 01:55:38.930  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 01:55:38.946  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 01:55:38.948 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 01:55:38.948 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 01:55:38.950 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 01:55:38.951  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 01:55:38.951  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:14.375  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.searchUsers', args=[卡夫卡, org.apache.catalina.connector.ResponseFacade@46cd5371, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:14.379 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.searchUser      : ==>  Preparing: SELECT DISTINCT u.id AS user_id, u.username, u.avatar, u.nickname, u.signature, CASE WHEN ? IN (f.user1id, f.user2id) THEN 1 ELSE 0 END AS is_friend, CASE WHEN u.id = ? THEN 1 ELSE 0 END AS is_me FROM t_user AS u LEFT JOIN (SELECT DISTINCT user1id, user2id FROM t_friend WHERE user1id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%") OR user2id IN (SELECT id FROM t_user WHERE username LIKE "%" ? "%" OR nickname LIKE "%" ? "%")) AS f ON u.id IN (f.user1id, f.user2id) WHERE u.username LIKE "%" ? "%" OR u.nickname LIKE "%" ? "%"
2024-04-07 02:05:14.380 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.searchUser      : ==> Parameters: 7(Long), 7(Long), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String), 卡夫卡(String)
2024-04-07 02:05:14.383 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.searchUser      : <==      Total: 1
2024-04-07 02:05:14.383  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [SearchVO(userId=1, username=hyf, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nickname=卡夫卡, signature=风吹开哪页读哪页，哪页读不懂撕哪页, isFriend=false, isMe=false)]
2024-04-07 02:05:14.390  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:15.794  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/add', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.addApply', args=[Apply(id=null, senderId=7, recipientId=1, senderNickname=测试用户, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Sun Apr 07 02:05:15 CST 2024), org.apache.catalina.connector.ResponseFacade@46cd5371]}
2024-04-07 02:05:15.802 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.addApply      : ==>  Preparing: insert into t_apply (sender_id, recipient_id, sender_nickname, sender_avatar, apply_time) values (?, ?, ?, ?, ?)
2024-04-07 02:05:15.806 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.addApply      : ==> Parameters: 7(Long), 1(Long), 测试用户(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg(String), 2024-04-07 02:05:15.758(Timestamp)
2024-04-07 02:05:15.809 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.addApply      : <==    Updates: 1
2024-04-07 02:05:15.809  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:05:15.809  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:15.839  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:15.839 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:05:15.840 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 02:05:15.841 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 02:05:15.842  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:05:15.843  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:25.949  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 02:05:25.949  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 02:05:25.950  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:26.371  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:26.372 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:05:26.372 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long), 7(Long)
2024-04-07 02:05:26.373 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 0
2024-04-07 02:05:26.374  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:05:26.374  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:26.419  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:26.420 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:05:26.420 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 7(Long)
2024-04-07 02:05:26.421 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 02:05:26.422  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:05:26.422  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:26.452  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:26.453 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 02:05:26.454 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 7(Long)
2024-04-07 02:05:26.455 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 0
2024-04-07 02:05:26.455  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:05:26.455  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:26.482  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:26.482 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 02:05:26.482 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 7(Long)
2024-04-07 02:05:26.484 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 0
2024-04-07 02:05:26.484  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:05:26.484  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:26.497  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:26.497 DEBUG 31144 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 02:05:26.498 DEBUG 31144 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 7(Long), 7(Long)
2024-04-07 02:05:26.500  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:26.500 ERROR 31144 --- [http-nio-8080-exec-5] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 02:05:26.501  WARN 31144 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 02:05:26.514  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:26.514 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:05:26.514 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 7(Long), 7(Long)
2024-04-07 02:05:26.516 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:05:26.517  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 0
2024-04-07 02:05:26.517  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:26.524  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:26.525 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 02:05:26.526 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: test(String), test(String), test(String)
2024-04-07 02:05:26.527 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 0
2024-04-07 02:05:26.527  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:05:26.527  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:33.999 ERROR 31144 --- [http-nio-8080-exec-4] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/login/delete, Exception : Request method 'GET' not supported
2024-04-07 02:05:33.999  WARN 31144 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2024-04-07 02:05:54.480  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/exit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doExit', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:05:54.480  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : redirect:/index
2024-04-07 02:05:54.480  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:54.491  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@54b1f597]}
2024-04-07 02:05:54.509  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : index
2024-04-07 02:05:54.510  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:57.413  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:05:57.413  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:05:57.413  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:05:57.472  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@7f310ce2, org.apache.catalina.connector.ResponseFacade@46cd5371]}
2024-04-07 02:05:57.478  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:05:57.478  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:07.089  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@46cd5371, hyf, hyfhsy, d8qn, org.apache.catalina.session.StandardSessionFacade@7f25d00b, {}]}
2024-04-07 02:06:07.091 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:06:07.091 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:06:07.092 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:06:07.093  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:06:07.094  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:07.103  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:06:07.119  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:06:07.119  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:11.278  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 02:06:11.278  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 02:06:11.278  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:11.598  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:06:11.599 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:06:11.600 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:06:11.602 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 3
2024-04-07 02:06:11.602  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山)]
2024-04-07 02:06:11.607  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:11.642  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:06:11.642 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:06:11.643 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:06:11.644 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 3
2024-04-07 02:06:11.645  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=8, senderId=7, recipientId=1, senderNickname=测试用户, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Sun Apr 07 02:05:16 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-07 02:06:11.645  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:11.668  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:06:11.669 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 02:06:11.669 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 02:06:11.673 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 02:06:11.673  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 02:06:11.674  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:11.777  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:06:11.777 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 02:06:11.777 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 02:06:11.778 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 02:06:11.780  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 02:06:11.780  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:11.932  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:06:11.933 DEBUG 31144 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 02:06:11.933 DEBUG 31144 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:06:11.935  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:11.935 ERROR 31144 --- [http-nio-8080-exec-1] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 02:06:11.936  WARN 31144 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 02:06:11.996  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:06:11.996 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:06:11.997 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:06:11.998 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:06:11.998  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : 3
2024-04-07 02:06:11.999  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:06:12.242  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:06:12.244 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 02:06:12.244 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 02:06:12.247 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 02:06:12.247  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 02:06:12.247  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:07.136  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/add', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.addFriend', args=[Friend(id=null, user1Id=1, user2Id=7, user1Nickname=卡夫卡, user2Nickname=, user1Description=一息尚存，战斗不止！, user2Description=, user1Avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, user2Avatar=, user1Username=hyf, user2Username=), 8, org.apache.catalina.connector.ResponseFacade@5298d40f]}
2024-04-07 02:07:07.145 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:07:07.146 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 1(Long), 7(Long), 7(Long), 1(Long)
2024-04-07 02:07:07.147 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 0
2024-04-07 02:07:07.147 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:07:07.148 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:07:07.149 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:07:07.149 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.saveFriend    : ==>  Preparing: insert into t_friend (user1username, user2username, user1id, user2id, user1description, user2description, user1avatar, user2avatar, user1nickname, user2nickname) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
2024-04-07 02:07:07.150 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.saveFriend    : ==> Parameters: hyf(String), test(String), 1(Long), 7(Long), 一息尚存，战斗不止！(String), 测试(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg(String), 卡夫卡(String), 测试用户(String)
2024-04-07 02:07:07.152 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.saveFriend    : <==    Updates: 1
2024-04-07 02:07:07.153 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.deleteApplyById     : ==>  Preparing: delete from t_apply where id = ?
2024-04-07 02:07:07.153 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.deleteApplyById     : ==> Parameters: 8(Long)
2024-04-07 02:07:07.154 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.deleteApplyById     : <==    Updates: 1
2024-04-07 02:07:07.154  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:07:07.154  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:07.203  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:07.203 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:07:07.204 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:07:07.205 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 2
2024-04-07 02:07:07.205  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024), Apply(id=5, senderId=5, recipientId=1, senderNickname=L., senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, applyTime=Sun Mar 31 15:31:57 CST 2024)]
2024-04-07 02:07:07.205  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:07.215  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:07.215 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:07:07.215 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:07:07.217 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 4
2024-04-07 02:07:07.217  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:07:07.217  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:07.227  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:07.227 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:07:07.228 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:07:07.229 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:07:07.229  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 4
2024-04-07 02:07:07.229  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:14.432  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/add', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.addFriend', args=[Friend(id=null, user1Id=1, user2Id=5, user1Nickname=卡夫卡, user2Nickname=, user1Description=一息尚存，战斗不止！, user2Description=, user1Avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, user2Avatar=, user1Username=hyf, user2Username=), 5, org.apache.catalina.connector.ResponseFacade@5298d40f]}
2024-04-07 02:07:14.433 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:07:14.433 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 1(Long), 5(Long), 5(Long), 1(Long)
2024-04-07 02:07:14.434 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 0
2024-04-07 02:07:14.434 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:07:14.435 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 5(Long)
2024-04-07 02:07:14.435 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:07:14.436 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.saveFriend    : ==>  Preparing: insert into t_friend (user1username, user2username, user1id, user2id, user1description, user2description, user1avatar, user2avatar, user1nickname, user2nickname) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
2024-04-07 02:07:14.436 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.saveFriend    : ==> Parameters: hyf(String), ls(String), 1(Long), 5(Long), 一息尚存，战斗不止！(String), 我是一只猫(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg(String), 卡夫卡(String), L.(String)
2024-04-07 02:07:14.442 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.saveFriend    : <==    Updates: 1
2024-04-07 02:07:14.443 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.deleteApplyById     : ==>  Preparing: delete from t_apply where id = ?
2024-04-07 02:07:14.443 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.deleteApplyById     : ==> Parameters: 5(Long)
2024-04-07 02:07:14.444 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.deleteApplyById     : <==    Updates: 1
2024-04-07 02:07:14.444  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:07:14.444  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:14.479  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:14.479 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:07:14.480 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:07:14.481 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 02:07:14.481  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 02:07:14.481  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:14.489  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:14.489 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:07:14.489 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:07:14.491 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 02:07:14.492  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:07:14.492  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:14.502  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:14.502 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:07:14.502 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:07:14.503 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:07:14.504  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:07:14.504  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:35.744  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 02:07:35.744  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 02:07:35.744  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:35.986  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:35.987 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:07:35.989 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:07:35.991 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 02:07:35.992  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:07:35.992  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:36.038  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:36.039 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:07:36.039 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:07:36.040 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 02:07:36.040  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 02:07:36.040  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:36.341  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:36.341 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 02:07:36.342 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 02:07:36.343 DEBUG 31144 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 02:07:36.343  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 02:07:36.343  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:36.376  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:36.377 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 02:07:36.377 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 02:07:36.380 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 02:07:36.382  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 02:07:36.382  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:36.418  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:36.419 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 02:07:36.419 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:07:36.420  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:36.421 ERROR 31144 --- [http-nio-8080-exec-7] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 02:07:36.421  WARN 31144 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 02:07:36.433  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:36.433 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:07:36.433 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:07:36.434 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:07:36.435  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:07:36.435  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:36.445  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:36.446 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 02:07:36.446 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 02:07:36.448 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 02:07:36.448  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 02:07:36.448  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:38.207  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:38.208 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 02:07:38.209 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 02:07:38.210 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 5
2024-04-07 02:07:38.210  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.)]
2024-04-07 02:07:38.210  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:47.987  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@f34ba00, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:47.991 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:07:47.991 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:07:47.994 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:07:47.995 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:07:47.996 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:07:47.997 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:07:47.997  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:07:47.997  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:48.208  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:48.208  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:07:48.210 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:07:48.210 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:07:48.210 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:07:48.211 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:07:48.213 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:07:48.213  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:07:48.213  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:48.215 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:07:48.216 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:07:48.217 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:07:48.219 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:07:48.220 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:07:48.221 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:07:48.222 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:07:48.222 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:07:48.224 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:07:48.225 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:07:48.226 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:07:48.226 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:07:48.228 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:07:48.228 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:07:48.229 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:07:48.230 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:07:48.230  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:07:48.231 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:07:48.231 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:07:48.231  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:07:48.233  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:07:48.233 DEBUG 31144 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 02:07:48.234  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:07:48.234  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:29.151  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/add', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.addFriend', args=[Friend(id=null, user1Id=1, user2Id=6, user1Nickname=卡夫卡, user2Nickname=, user1Description=一息尚存，战斗不止！, user2Description=, user1Avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, user2Avatar=, user1Username=hyf, user2Username=), 6, org.apache.catalina.connector.ResponseFacade@46cd5371]}
2024-04-07 02:08:29.151 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:08:29.152 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 1(Long), 6(Long), 6(Long), 1(Long)
2024-04-07 02:08:29.152 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 0
2024-04-07 02:08:29.153 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:08:29.153 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 6(Long)
2024-04-07 02:08:29.154 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:08:29.154 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.saveFriend    : ==>  Preparing: insert into t_friend (user1username, user2username, user1id, user2id, user1description, user2description, user1avatar, user2avatar, user1nickname, user2nickname) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
2024-04-07 02:08:29.155 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.saveFriend    : ==> Parameters: hyf(String), xzl(String), 1(Long), 6(Long), 一息尚存，战斗不止！(String), 我是一只猫(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg(String), https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg(String), 卡夫卡(String), Solar(String)
2024-04-07 02:08:29.160 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.saveFriend    : <==    Updates: 1
2024-04-07 02:08:29.161 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.deleteApplyById     : ==>  Preparing: delete from t_apply where id = ?
2024-04-07 02:08:29.161 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.deleteApplyById     : ==> Parameters: 6(Long)
2024-04-07 02:08:29.162 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.deleteApplyById     : <==    Updates: 1
2024-04-07 02:08:29.162  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:08:29.162  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:29.215  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:08:29.216 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:08:29.216 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:08:29.217 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 0
2024-04-07 02:08:29.217  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:08:29.217  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:29.226  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:08:29.226 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:08:29.227 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:08:29.228 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 6
2024-04-07 02:08:29.229  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:08:29.229  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:29.240  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:08:29.240 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:08:29.240 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:08:29.241 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:08:29.242  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:08:29.242  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:36.209  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@46cd5371, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:08:36.211 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:08:36.211 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:08:36.212 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:08:36.212 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:08:36.212 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:08:36.213 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:08:36.213  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:08:36.213  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:36.380  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:08:36.380  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:08:36.381 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:08:36.381 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:08:36.381 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:08:36.381 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:08:36.382 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:08:36.382  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:08:36.383  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:36.383 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:08:36.383 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:08:36.384 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:08:36.385 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:08:36.386 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:08:36.386 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:08:36.390 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:08:36.391 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:08:36.391 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:08:36.394 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:08:36.395 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:08:36.395 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:08:36.398 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:08:36.398 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:08:36.398 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:08:36.400 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:08:36.400  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:08:36.400  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:08:36.400  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:36.401 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:08:36.401 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:08:36.402 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 02:08:36.402  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:08:36.402  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:52.441  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:08:52.441 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:08:52.443 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:08:52.444 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:08:52.444  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:08:52.444  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:08:52.451  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xzl, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:08:52.452 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:08:52.453 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:08:52.453 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:08:52.453  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=复试加油, sendTime=Fri Apr 05 15:37:12 CST 2024)]
2024-04-07 02:08:52.457  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:23.790  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:23.791 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 02:09:23.791 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 02:09:23.793 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 5
2024-04-07 02:09:23.793  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.)]
2024-04-07 02:09:23.793  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.241  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 02:09:32.242  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 02:09:32.242  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.468  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:32.468 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:09:32.469 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:09:32.470 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 6
2024-04-07 02:09:32.470  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:09:32.470  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.497  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:32.497 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:09:32.498 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:09:32.499 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 02:09:32.499  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 02:09:32.499  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.523  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:32.524 DEBUG 31144 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 02:09:32.524 DEBUG 31144 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 02:09:32.525 DEBUG 31144 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 02:09:32.525  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 02:09:32.525  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.835  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:32.836 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 02:09:32.836 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 02:09:32.837 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 02:09:32.837  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 02:09:32.837  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.868  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:32.869 DEBUG 31144 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 02:09:32.869 DEBUG 31144 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:09:32.870  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.870 ERROR 31144 --- [http-nio-8080-exec-1] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 02:09:32.871  WARN 31144 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 02:09:32.912  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:32.913 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:09:32.913 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:09:32.914 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:09:32.915  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:09:32.915  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:32.930  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:32.930 DEBUG 31144 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 02:09:32.931 DEBUG 31144 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 02:09:32.933 DEBUG 31144 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 02:09:32.933  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 02:09:32.934  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:42.364  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/delete/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.deleteFriend', args=[6, org.apache.catalina.session.StandardSessionFacade@7f25d00b, org.apache.catalina.connector.ResponseFacade@46cd5371]}
2024-04-07 02:09:42.365 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.deleteFriendById    : ==>  Preparing: delete from t_friend where (user1id = ? and user2id = ?) OR (user1id = ? and user2id = ?)
2024-04-07 02:09:42.365 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.deleteFriendById    : ==> Parameters: 6(Long), 1(Long), 1(Long), 6(Long)
2024-04-07 02:09:42.367 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.deleteFriendById    : <==    Updates: 1
2024-04-07 02:09:42.367  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:09:42.367  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:42.486  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:42.487 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:09:42.487 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:09:42.488 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 02:09:42.489  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:09:42.489  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:42.497  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:42.497 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:09:42.499 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:09:42.499 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:09:42.499  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:09:42.499  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:42.508  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:42.509 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 02:09:42.509 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 02:09:42.511 DEBUG 31144 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 02:09:42.511  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 02:09:42.511  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:50.449  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:50.450 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 02:09:50.450 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 02:09:50.452 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 5
2024-04-07 02:09:50.452  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.)]
2024-04-07 02:09:50.452  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:56.958  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@46cd5371, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:56.959 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:09:56.959 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-07 02:09:56.960 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:09:56.960 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:09:56.961 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-07 02:09:56.962 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:09:56.962  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:09:56.962  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:57.150  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:57.150  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 02:09:57.150 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:09:57.150 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:09:57.150 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:09:57.150 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:09:57.152 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:09:57.152  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 02:09:57.152  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:57.154 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:09:57.154 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:09:57.155 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:09:57.156 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:09:57.157 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:09:57.157 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:09:57.159 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:09:57.159 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:09:57.159 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:09:57.160 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:09:57.162 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:09:57.162 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:09:57.163 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:09:57.163 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:09:57.163 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:09:57.165 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:09:57.165  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:09:57.166  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:09:57.177  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:09:57.177 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:09:57.177 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 02:09:57.179 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 02:09:57.180  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 02:09:57.186  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:04.697  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:10:04.698 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:04.698 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:10:04.699 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:04.699  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:10:04.699  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:04.708  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xzl, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:10:04.708 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:10:04.709 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:10:04.709 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:10:04.711  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=复试加油, sendTime=Fri Apr 05 15:37:12 CST 2024)]
2024-04-07 02:10:04.711  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:11.433  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@46cd5371, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:10:11.434 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:10:11.434 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-07 02:10:11.436 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:10:11.436 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:10:11.437 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-07 02:10:11.438 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:10:11.438  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:10:11.438  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:11.593  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:10:11.593  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 02:10:11.594 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:11.594 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:10:11.594 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:10:11.594 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:10:11.595 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:11.595 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:10:11.596  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 02:10:11.596  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:11.596 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:11.596 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:10:11.597 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:11.597 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:11.597 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:10:11.599 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:11.599 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:11.600 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:10:11.601 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:11.602 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:11.602 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:10:11.603 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:11.603 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:11.603 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:10:11.604 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:11.604  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:10:11.605  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:11.614  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:10:11.614 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:10:11.615 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 02:10:11.616 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 02:10:11.617  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 02:10:11.617  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:15.152  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@46cd5371, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:10:15.152 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:10:15.153 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-07 02:10:15.155 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:10:15.155 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:10:15.155 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-07 02:10:15.156 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:10:15.156  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:10:15.156  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:15.321  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 02:10:15.321  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:10:15.322 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:15.322 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:10:15.323 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:10:15.323 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:10:15.324 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:10:15.324 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:15.324  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 02:10:15.324  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:15.324 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:15.324 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:10:15.326 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:15.326 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:15.327 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:10:15.328 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:15.328 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:15.329 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:10:15.330 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:15.330 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:15.330 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:10:15.331 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:15.332 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:10:15.332 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:10:15.333 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:10:15.333  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:10:15.334  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:10:15.347  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:10:15.347 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:10:15.348 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 02:10:15.349 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 02:10:15.349  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 02:10:15.351  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:05.621  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:11:05.622 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:05.623 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:11:05.623 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:05.624  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:11:05.624  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:05.632  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xzl, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:11:05.633 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:11:05.633 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:11:05.634 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:11:05.634  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=复试加油, sendTime=Fri Apr 05 15:37:12 CST 2024)]
2024-04-07 02:11:05.635  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:13.736 DEBUG 31144 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:11:13.737 DEBUG 31144 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:11:13.738 DEBUG 31144 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 0
2024-04-07 02:11:26.258  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@46cd5371, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:11:26.259 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:11:26.259 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-07 02:11:26.260 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:11:26.260 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:11:26.261 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-07 02:11:26.262 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:11:26.262  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:11:26.262  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:26.345  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 02:11:26.345  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:11:26.346 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:26.346 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:11:26.346 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:11:26.346 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:11:26.347 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:26.347  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 02:11:26.347  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:26.347 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:11:26.348 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:26.348 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:11:26.349 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:26.350 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:26.350 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:11:26.351 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:26.352 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:26.352 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:11:26.353 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:26.354 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:26.354 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:11:26.356 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:26.356 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:26.356 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:11:26.357 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:26.357  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:11:26.358  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:26.369  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:11:26.369 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:11:26.370 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 02:11:26.372 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 02:11:26.373  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 02:11:26.373  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:33.466  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:11:33.467 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:33.468 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:11:33.469 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:33.469  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:11:33.469  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:37.803  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@54303db6, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:11:37.804 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:11:37.805 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-07 02:11:37.806 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:11:37.807 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:11:37.807 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-07 02:11:37.808 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:11:37.808  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:11:37.808  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:37.878  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:11:37.878  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 02:11:37.878 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:11:37.879 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:11:37.879 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:37.879 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:11:37.880 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:37.880 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:11:37.880  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 02:11:37.880  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:37.880 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:37.881 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:11:37.882 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:37.882 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:37.882 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:11:37.883 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:37.883 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:37.884 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:11:37.884 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:37.884 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:37.884 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:11:37.886 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:37.887 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:37.887 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:11:37.888 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:37.888  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:11:37.889  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:37.899  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:11:37.900 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:11:37.900 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 02:11:37.901 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 02:11:37.901  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 02:11:37.901  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:11:40.271  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:11:40.272 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:11:40.272 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:11:40.273 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:11:40.273  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:11:40.273  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:19:31.490  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@f34ba00, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:19:31.490 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:19:31.491 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-07 02:19:31.492 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:19:31.492 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:19:31.492 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-07 02:19:31.493 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:19:31.493  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:19:31.493  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:19:31.605  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:19:31.605  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 02:19:31.606 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:19:31.606 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:19:31.606 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:19:31.606 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:19:31.607 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:19:31.607  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 02:19:31.607  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:19:31.607 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:19:31.608 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:19:31.608 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:19:31.608 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:19:31.609 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:19:31.609 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:19:31.610 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:19:31.610 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:19:31.610 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:19:31.611 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:19:31.611 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:19:31.612 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:19:31.612 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:19:31.613 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:19:31.613 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:19:31.615 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:19:31.615  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:19:31.615  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:19:31.618  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:19:31.619 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:19:31.619 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 02:19:31.620 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 02:19:31.620  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 02:19:31.620  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:17.732  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[6, {}, org.apache.catalina.connector.ResponseFacade@5f6fc495, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:17.733 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:20:17.733 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 6(Long)
2024-04-07 02:20:17.734 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:20:17.735 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:20:17.735 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 6(Long), 1(Long), 1(Long), 6(Long)
2024-04-07 02:20:17.735 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 0
2024-04-07 02:20:17.736  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:20:17.736  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:19.686  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 02:20:19.686  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 02:20:19.686  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:19.928  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:19.928 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:20:19.929 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:20:19.931 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 02:20:19.931  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:20:19.931  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:19.970  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:19.971 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:20:19.971 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:20:19.973 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 02:20:19.973  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 02:20:19.973  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:20.195  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:20.196 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 02:20:20.196 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 02:20:20.197 DEBUG 31144 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 02:20:20.197  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 02:20:20.197  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:20.210  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:20.210 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 02:20:20.210 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 02:20:20.212 DEBUG 31144 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 02:20:20.212  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 02:20:20.212  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:20.221  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:20.221 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 02:20:20.222 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:20:20.223  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:20.224 ERROR 31144 --- [http-nio-8080-exec-8] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/friend/blog/commentMax, Exception : 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;
### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual
2024-04-07 02:20:20.224  WARN 31144 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL><EOL>### The error may exist in file [D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes\com.jxufe.dao\FriendMapper.xml]<EOL><EOL>### The error may involve defaultParameterMap<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: SELECT a.user_id,                u.username,                u.nickname,                u.avatar,                a.comment_count as count         FROM t_user u             JOIN (SELECT c.host_id AS user_id, COUNT (c.id) AS comment_count             FROM t_comment c             JOIN t_blog b ON c.blog_id = b.id             WHERE b.user_id = ? AND c.host_id != ?             GROUP BY c.host_id             ORDER BY comment_count DESC LIMIT 1) AS a         ON a.user_id = u.id;<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: FUNCTION 2jd.COUNT does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual]
2024-04-07 02:20:20.235  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:20.235 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:20:20.236 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:20:20.236 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:20:20.237  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:20:20.237  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:20:20.246  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:20:20.246 DEBUG 31144 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 02:20:20.246 DEBUG 31144 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 02:20:20.248 DEBUG 31144 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 02:20:20.248  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 02:20:20.248  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:21:32.747  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@3038ab5b, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:21:32.748 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:21:32.748 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:21:32.749 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:21:32.750 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:21:32.750 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:21:32.751 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:21:32.751  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:21:32.751  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:21:32.949  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:21:32.949  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:21:32.950 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:21:32.950 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:32.950 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:21:32.950 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:21:32.952 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:32.952 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:21:32.952  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:21:32.952  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:21:32.952 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:32.952 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:21:32.954 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:32.955 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:32.955 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:21:32.956 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:32.957 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:32.957 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:21:32.957 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:32.958 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:32.958 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:21:32.959 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:32.959 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:32.959 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:21:32.961 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:32.961  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:21:32.961  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:21:32.962  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:21:32.962 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:21:32.963 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:21:32.963 DEBUG 31144 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 02:21:32.965  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:21:32.965  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:21:38.833 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:21:38.834 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:21:38.834 DEBUG 31144 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:21:52.317  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@3038ab5b, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:21:52.317 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:21:52.318 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:21:52.318 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:21:52.319 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:21:52.319 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:21:52.319 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:21:52.320  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:21:52.320  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:21:52.394  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:21:52.394  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:21:52.394 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:21:52.395 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:52.395 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:21:52.395 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:21:52.396 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:52.396 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:21:52.396  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:21:52.396  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:21:52.396 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:52.397 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:21:52.398 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:52.398 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:52.398 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:21:52.399 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:52.399 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:52.399 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:21:52.400 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:52.401 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:52.401 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:21:52.401 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:52.402 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:21:52.402 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:21:52.403 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:21:52.403  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:21:52.403  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:12.818  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[7, {}, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:22:12.821 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findView        : ==>  Preparing: select * from t_view where viewer_id = ? and viewed_id = ?
2024-04-07 02:22:12.821 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findView        : ==> Parameters: 1(Long), 7(Long)
2024-04-07 02:22:12.822 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findView        : <==      Total: 0
2024-04-07 02:22:12.823 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.addAboutView    : ==>  Preparing: insert into t_view(viewer_id, viewed_id, count) values (?, ?, 1)
2024-04-07 02:22:12.823 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.addAboutView    : ==> Parameters: 1(Long), 7(Long)
2024-04-07 02:22:12.894 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.addAboutView    : <==    Updates: 1
2024-04-07 02:22:12.894 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:22:12.894 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:22:12.894 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:22:12.895 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 02:22:12.895 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 7(Long), 7(Long)
2024-04-07 02:22:12.896 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : <==      Total: 0
2024-04-07 02:22:12.917 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 02:22:12.918 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : ==> Parameters: 7(Long)
2024-04-07 02:22:12.918 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : <==      Total: 0
2024-04-07 02:22:12.919 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 02:22:12.919 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.C.collectionRecourseList           : ==> Parameters: 7(Long)
2024-04-07 02:22:12.920 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.d.C.collectionRecourseList           : <==      Total: 0
2024-04-07 02:22:12.920  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-07 02:22:12.920  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:19.712  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@54303db6, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:22:19.713 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:22:19.713 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:22:19.714 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:22:19.714 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:22:19.714 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:22:19.715 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:22:19.716  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:22:19.716  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:19.798  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:22:19.798  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:22:19.798 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:22:19.799 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:22:19.799 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:19.799 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:22:19.800 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:22:19.800 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:19.801  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:22:19.801  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:19.801 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:19.801 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:22:19.802 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:19.802 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:19.802 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:22:19.804 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:19.804 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:19.804 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:22:19.805 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:19.806 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:19.806 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:22:19.807 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:19.807 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:19.807 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:22:19.808 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:19.808  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:22:19.808  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:52.022  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[2, {}, org.apache.catalina.connector.ResponseFacade@5298d40f, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:22:52.023 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:22:52.023 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-04-07 02:22:52.024 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:22:52.024 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:22:52.024 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 2(Long), 1(Long), 1(Long), 2(Long)
2024-04-07 02:22:52.027 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:22:52.027  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:22:52.027  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:52.129  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 02:22:52.129  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:22:52.130 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:22:52.130 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:52.130 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:22:52.130 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:22:52.131 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:52.131 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:22:52.131  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 02:22:52.131  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:52.131 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:52.131 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:22:52.132 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:52.133 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:52.133 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:22:52.134 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:52.134 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:52.134 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:22:52.136 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:52.137 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:52.137 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:22:52.138 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:52.139 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:22:52.139 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:22:52.140 DEBUG 31144 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:22:52.140  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:22:52.140  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:22:52.179  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:22:52.180 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:22:52.180 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 02:22:52.182 DEBUG 31144 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 02:22:52.182  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 02:22:52.183  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:34.157  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[3, {}, org.apache.catalina.connector.ResponseFacade@5298d40f, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:23:34.163 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:23:34.163 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 3(Long)
2024-04-07 02:23:34.164 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:23:34.164 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:23:34.164 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 3(Long), 1(Long), 1(Long), 3(Long)
2024-04-07 02:23:34.165 DEBUG 31144 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:23:34.165  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:23:34.165  INFO 31144 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:34.325  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:23:34.325  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-07 02:23:34.325 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:23:34.326 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:23:34.326 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:34.326 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:23:34.326 DEBUG 31144 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:34.326 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:23:34.328  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 3
2024-04-07 02:23:34.328  INFO 31144 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:34.328 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:34.328 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:23:34.329 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:34.329 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:34.329 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:23:34.330 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:34.330 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:34.330 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:23:34.331 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:34.331 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:34.331 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:23:34.332 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:34.332 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:34.332 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:23:34.333 DEBUG 31144 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:34.333  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:23:34.333  INFO 31144 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:34.352  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:23:34.353 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:23:34.353 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-07 02:23:34.354 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-07 02:23:34.355  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-07 02:23:34.355  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:40.878  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[root]}
2024-04-07 02:23:40.878 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:40.878 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:23:40.879 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:40.879  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 4
2024-04-07 02:23:40.879  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:40.887  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:23:40.887 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:23:40.887 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-04-07 02:23:40.889 DEBUG 31144 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-07 02:23:40.889  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=nice！成功了, sendTime=Fri Mar 29 15:19:13 CST 2024)]
2024-04-07 02:23:40.889  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:43.114  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-07 02:23:43.115 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:43.116 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:23:43.118 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:43.118  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 3
2024-04-07 02:23:43.118  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:43.127  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:23:43.128 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:23:43.128 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-07 02:23:43.129 DEBUG 31144 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-07 02:23:43.129  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-07 02:23:43.130  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:44.808  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:23:44.809 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:23:44.809 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:23:44.810 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:23:44.810  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:23:44.810  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:44.822  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:23:44.823 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:23:44.823 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:23:44.824 DEBUG 31144 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 02:23:44.824  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 02:23:44.825  INFO 31144 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:23:59.881 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:23:59.882 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:23:59.883 DEBUG 31144 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:26:27.076  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[3, {}, org.apache.catalina.connector.ResponseFacade@3038ab5b, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:26:27.077 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:26:27.077 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 3(Long)
2024-04-07 02:26:27.077 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:26:27.078 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:26:27.078 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 3(Long), 1(Long), 1(Long), 3(Long)
2024-04-07 02:26:27.079 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:26:27.079  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:26:27.079  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:27.169  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:26:27.169  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-07 02:26:27.170 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:27.170 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:26:27.170 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:26:27.170 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:26:27.172 DEBUG 31144 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:27.172  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : 3
2024-04-07 02:26:27.172  INFO 31144 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:27.173 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:26:27.173 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:27.173 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:26:27.173 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:27.174 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:27.174 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:26:27.174 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:27.175 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:27.175 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:26:27.175 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:27.176 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:27.176 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:26:27.177 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:27.177 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:27.177 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:26:27.178 DEBUG 31144 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:27.178  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:26:27.178  INFO 31144 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:27.193  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:26:27.194 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:26:27.194 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-07 02:26:27.196 DEBUG 31144 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-07 02:26:27.196  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-07 02:26:27.197  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:39.172  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[3, {}, org.apache.catalina.connector.ResponseFacade@5f6fc495, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:26:39.173 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:26:39.173 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 3(Long)
2024-04-07 02:26:39.174 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:26:39.175 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:26:39.175 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 3(Long), 1(Long), 1(Long), 3(Long)
2024-04-07 02:26:39.176 DEBUG 31144 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:26:39.176  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:26:39.176  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:39.244  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:26:39.244  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-07 02:26:39.244 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:39.244 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:26:39.244 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:26:39.245 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:26:39.246 DEBUG 31144 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:39.246  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 3
2024-04-07 02:26:39.246  INFO 31144 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:39.246 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:26:39.247 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:39.247 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:26:39.248 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:39.249 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:39.249 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:26:39.250 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:39.250 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:39.250 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:26:39.251 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:39.251 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:39.251 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:26:39.252 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:39.252 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:39.252 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:26:39.253 DEBUG 31144 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:39.254  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:26:39.254  INFO 31144 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:39.265  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@7f25d00b]}
2024-04-07 02:26:39.266 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:26:39.267 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-07 02:26:39.268 DEBUG 31144 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-07 02:26:39.269  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-07 02:26:39.269  INFO 31144 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:26:59.506  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:26:59.508 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:26:59.508 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:26:59.509 DEBUG 31144 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:26:59.509  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:26:59.509  INFO 31144 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:29:07.305 DEBUG 31144 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:29:07.305 DEBUG 31144 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:29:07.306 DEBUG 31144 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:30:28.368  INFO 31144 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:30:28.370  INFO 31144 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:30:28.376  INFO 31144 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:30:32.626  INFO 27148 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 27148 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:30:32.627 DEBUG 27148 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:30:32.627  INFO 27148 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:30:32.650  INFO 27148 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:30:32.650  INFO 27148 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:30:33.110  INFO 27148 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:30:33.167  INFO 27148 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-04-07 02:30:33.632  INFO 27148 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:30:33.639  INFO 27148 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:30:33.639  INFO 27148 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:30:33.696  INFO 27148 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:30:33.696  INFO 27148 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1045 ms
2024-04-07 02:30:33.809  INFO 27148 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:30:33.832  INFO 27148 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:30:33.928  INFO 27148 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:30:33.987  INFO 27148 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:30:34.215  INFO 27148 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:30:34.227  INFO 27148 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:30:34.790  INFO 27148 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:30:34.796  INFO 27148 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:30:35.595  WARN 27148 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:30:35.788  INFO 27148 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:30:36.098  INFO 27148 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:30:36.132  INFO 27148 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:30:36.140  INFO 27148 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.845 seconds (JVM running for 5.065)
2024-04-07 02:30:47.902  INFO 27148 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:30:47.903  INFO 27148 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:30:47.904  INFO 27148 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 02:30:48.251  WARN 27148 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [323] milliseconds.
2024-04-07 02:30:48.458  INFO 27148 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:30:48.473  INFO 27148 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:30:48.473  INFO 27148 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:30:48.815  INFO 27148 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@1bb5e3f3, org.apache.catalina.connector.ResponseFacade@48585062]}
2024-04-07 02:30:49.156  INFO 27148 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:30:49.156  INFO 27148 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:30:52.401  INFO 27148 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@48585062, hyf, hyfhsy, peba, org.apache.catalina.session.StandardSessionFacade@76630c6b, {}]}
2024-04-07 02:30:52.436 DEBUG 27148 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:30:52.443 DEBUG 27148 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:30:52.453 DEBUG 27148 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:30:52.458  INFO 27148 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:30:52.458  INFO 27148 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:30:52.482  INFO 27148 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:30:52.574  WARN 27148 --- [http-nio-8080-exec-8] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:30:52.586  INFO 27148 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:30:52.586  INFO 27148 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:30:54.308  INFO 27148 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 02:30:54.312  INFO 27148 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:30:54.313  INFO 27148 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:30:54.401  INFO 27148 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@76630c6b]}
2024-04-07 02:30:54.403 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:30:54.403 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:30:54.409 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:30:54.411 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:30:54.412 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:30:54.415 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:30:54.416 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:30:54.416 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:30:54.418 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:30:54.419 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:30:54.419 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:30:54.421 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:30:54.423 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:30:54.423 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:30:54.426 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:30:54.427 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:30:54.427 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:30:54.430 DEBUG 27148 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:30:54.431  INFO 27148 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:30:54.445  INFO 27148 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:30:57.524  INFO 27148 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:30:57.525 DEBUG 27148 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:30:57.525 DEBUG 27148 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:30:57.527 DEBUG 27148 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:30:57.528  INFO 27148 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:30:57.528  INFO 27148 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:30:57.536  INFO 27148 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xzl, org.apache.catalina.session.StandardSessionFacade@76630c6b]}
2024-04-07 02:30:57.536 DEBUG 27148 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:30:57.537 DEBUG 27148 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:30:57.538 DEBUG 27148 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:30:57.539  INFO 27148 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=复试加油, sendTime=Fri Apr 05 15:37:12 CST 2024)]
2024-04-07 02:30:57.544  INFO 27148 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:31:00.878 DEBUG 27148 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:31:00.879 DEBUG 27148 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:31:00.880 DEBUG 27148 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 0
2024-04-07 02:32:30.713  INFO 27148 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:32:30.716  INFO 27148 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:32:30.727  INFO 27148 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:32:33.451  INFO 11644 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 11644 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:32:33.452 DEBUG 11644 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:32:33.452  INFO 11644 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:32:33.478  INFO 11644 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:32:33.478  INFO 11644 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:32:34.105  INFO 11644 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:32:34.186  INFO 11644 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 5 JPA repository interfaces.
2024-04-07 02:32:34.749  INFO 11644 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:32:34.755  INFO 11644 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:32:34.755  INFO 11644 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:32:34.819  INFO 11644 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:32:34.819  INFO 11644 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1340 ms
2024-04-07 02:32:34.959  INFO 11644 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:32:34.995  INFO 11644 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:32:35.083  INFO 11644 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:32:35.142  INFO 11644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:32:35.372  INFO 11644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:32:35.383  INFO 11644 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:32:36.004  INFO 11644 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:32:36.011  INFO 11644 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:32:36.870  WARN 11644 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:32:37.080  INFO 11644 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:32:37.398  INFO 11644 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:32:37.443  INFO 11644 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:32:37.453  INFO 11644 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.369 seconds (JVM running for 5.207)
2024-04-07 02:32:39.971  INFO 11644 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:32:39.971  INFO 11644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:32:39.973  INFO 11644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-07 02:32:40.155  INFO 11644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:32:40.164  INFO 11644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:32:40.164  INFO 11644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:40.400  INFO 11644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@20c2e0b8, org.apache.catalina.connector.ResponseFacade@2923b4be]}
2024-04-07 02:32:40.613  INFO 11644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:32:40.613  INFO 11644 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:45.243  INFO 11644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@2923b4be, hyf, hyfhsy, e8bm, org.apache.catalina.session.StandardSessionFacade@4871052, {}]}
2024-04-07 02:32:45.277 DEBUG 11644 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:32:45.284 DEBUG 11644 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:32:45.294 DEBUG 11644 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:32:45.300  INFO 11644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:32:45.300  INFO 11644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:45.322  INFO 11644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:32:45.412  WARN 11644 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:32:45.423  INFO 11644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:32:45.423  INFO 11644 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:48.678  INFO 11644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 02:32:48.681  INFO 11644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:32:48.681  INFO 11644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:48.768  INFO 11644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4871052]}
2024-04-07 02:32:48.771 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:32:48.771 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:32:48.777 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:32:48.778 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:32:48.779 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:32:48.781 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:32:48.782 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:32:48.782 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:32:48.784 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:32:48.784 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:32:48.786 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:32:48.787 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:32:48.788 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:32:48.788 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:32:48.790 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:32:48.792 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:32:48.793 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:32:48.796 DEBUG 11644 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:32:48.796  INFO 11644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:32:48.810  INFO 11644 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:51.470  INFO 11644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:32:51.471 DEBUG 11644 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:32:51.472 DEBUG 11644 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:32:51.473 DEBUG 11644 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:32:51.473  INFO 11644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:32:51.473  INFO 11644 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:51.482  INFO 11644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xzl, org.apache.catalina.session.StandardSessionFacade@4871052]}
2024-04-07 02:32:51.482 DEBUG 11644 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:32:51.483 DEBUG 11644 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:32:51.485 DEBUG 11644 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:32:51.485  INFO 11644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=复试加油, sendTime=Fri Apr 05 15:37:12 CST 2024)]
2024-04-07 02:32:51.490  INFO 11644 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:32:56.899 DEBUG 11644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:32:56.899 DEBUG 11644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:32:56.901 DEBUG 11644 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 0
2024-04-07 02:33:19.878  INFO 11644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:33:19.879 DEBUG 11644 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:33:19.879 DEBUG 11644 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:33:19.881 DEBUG 11644 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:33:19.882  INFO 11644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:33:19.882  INFO 11644 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:33:19.889  INFO 11644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@4871052]}
2024-04-07 02:33:19.890 DEBUG 11644 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:33:19.890 DEBUG 11644 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:33:19.893 DEBUG 11644 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 02:33:19.893  INFO 11644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 02:33:19.897  INFO 11644 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:33:22.772 DEBUG 11644 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:33:22.772 DEBUG 11644 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:33:22.774 DEBUG 11644 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:34:45.367  INFO 11644 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:34:45.371  INFO 11644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:34:45.384  INFO 11644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:34:47.974  INFO 30708 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 30708 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:34:47.975 DEBUG 30708 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:34:47.975  INFO 30708 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:34:48.002  INFO 30708 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:34:48.002  INFO 30708 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:34:48.459  INFO 30708 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:34:48.516  INFO 30708 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-04-07 02:34:49.029  INFO 30708 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:34:49.037  INFO 30708 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:34:49.037  INFO 30708 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:34:49.100  INFO 30708 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:34:49.101  INFO 30708 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1098 ms
2024-04-07 02:34:49.214  INFO 30708 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:34:49.243  INFO 30708 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:34:49.333  INFO 30708 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:34:49.401  INFO 30708 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:34:49.648  INFO 30708 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:34:49.660  INFO 30708 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:34:50.228  INFO 30708 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:34:50.234  INFO 30708 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:34:51.037  WARN 30708 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:34:51.230  INFO 30708 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:34:51.524  INFO 30708 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:34:51.557  INFO 30708 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:34:51.566  INFO 30708 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.914 seconds (JVM running for 4.725)
2024-04-07 02:34:55.502  INFO 30708 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:34:55.503  INFO 30708 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:34:55.504  INFO 30708 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 02:34:55.651  INFO 30708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:34:55.660  INFO 30708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:34:55.660  INFO 30708 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:34:55.897  INFO 30708 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@47f6de68, org.apache.catalina.connector.ResponseFacade@75695021]}
2024-04-07 02:34:56.114  INFO 30708 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:34:56.114  INFO 30708 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:34:59.463  INFO 30708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@75695021, hyf, hyfhsy, wmnu, org.apache.catalina.session.StandardSessionFacade@365da728, {}]}
2024-04-07 02:34:59.498 DEBUG 30708 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:34:59.506 DEBUG 30708 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:34:59.517 DEBUG 30708 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:34:59.522  INFO 30708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:34:59.522  INFO 30708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:34:59.545  INFO 30708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:34:59.643  WARN 30708 --- [http-nio-8080-exec-2] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:34:59.655  INFO 30708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:34:59.655  INFO 30708 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:35:01.111  INFO 30708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 02:35:01.114  INFO 30708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:35:01.114  INFO 30708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:35:01.203  INFO 30708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@365da728]}
2024-04-07 02:35:01.206 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:35:01.208 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:35:01.212 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:35:01.214 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:35:01.214 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:35:01.216 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:35:01.217 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:35:01.218 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:35:01.221 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:35:01.222 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:35:01.222 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:35:01.224 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:35:01.225 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:35:01.225 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:35:01.228 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:35:01.229 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:35:01.230 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:35:01.233 DEBUG 30708 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:35:01.233  INFO 30708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:35:01.247  INFO 30708 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:35:03.703  INFO 30708 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:35:03.705 DEBUG 30708 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:35:03.706 DEBUG 30708 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:35:03.707 DEBUG 30708 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:35:03.708  INFO 30708 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:35:03.708  INFO 30708 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:35:03.717  INFO 30708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@365da728]}
2024-04-07 02:35:03.717 DEBUG 30708 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:35:03.718 DEBUG 30708 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:35:03.721 DEBUG 30708 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 02:35:03.722  INFO 30708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 02:35:03.733  INFO 30708 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:35:42.517 DEBUG 30708 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:35:42.521 DEBUG 30708 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:35:42.528 DEBUG 30708 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:36:20.963  WARN 30708 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s187ms172?s200ns).
2024-04-07 02:36:21.203  INFO 30708 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:36:21.205  INFO 30708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:36:21.217  INFO 30708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:36:24.853  INFO 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 15820 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:36:24.854 DEBUG 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:36:24.854  INFO 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:36:24.881  INFO 15820 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:36:24.881  INFO 15820 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:36:25.338  INFO 15820 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:36:25.392  INFO 15820 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2024-04-07 02:36:25.879  INFO 15820 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:36:25.885  INFO 15820 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:36:25.885  INFO 15820 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:36:25.948  INFO 15820 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:36:25.948  INFO 15820 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1066 ms
2024-04-07 02:36:26.081  INFO 15820 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:36:26.109  INFO 15820 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:36:26.190  INFO 15820 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:36:26.249  INFO 15820 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:36:26.448  INFO 15820 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:36:26.460  INFO 15820 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:36:27.033  INFO 15820 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:36:27.039  INFO 15820 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:36:27.827  WARN 15820 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:36:28.030  INFO 15820 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:36:28.296  INFO 15820 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:36:28.332  INFO 15820 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:36:28.340  INFO 15820 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.816 seconds (JVM running for 4.619)
2024-04-07 02:36:31.861  INFO 15820 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:36:31.861  INFO 15820 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:36:31.862  INFO 15820 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-04-07 02:36:32.079  WARN 15820 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [201] milliseconds.
2024-04-07 02:36:33.060  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:36:33.069  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:36:33.069  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:33.298  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@6581d530, org.apache.catalina.connector.ResponseFacade@6752a924]}
2024-04-07 02:36:33.506  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:36:33.506  INFO 15820 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:40.767  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@6581d530, org.apache.catalina.connector.ResponseFacade@6752a924]}
2024-04-07 02:36:40.777  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:36:40.777  INFO 15820 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:44.148  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@6752a924, hyf, hyfhsy, zcny, org.apache.catalina.session.StandardSessionFacade@28820220, {}]}
2024-04-07 02:36:44.178 DEBUG 15820 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:36:44.183 DEBUG 15820 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:36:44.192 DEBUG 15820 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:36:44.196  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:36:44.196  INFO 15820 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:44.216  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:36:44.300  WARN 15820 --- [http-nio-8080-exec-8] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:36:44.312  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:36:44.312  INFO 15820 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:46.854  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 02:36:46.857  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:36:46.858  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:46.947  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@28820220]}
2024-04-07 02:36:46.950 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:36:46.950 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:36:46.954 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:36:46.956 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:36:46.957 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:36:46.959 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:36:46.960 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:36:46.960 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:36:46.962 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:36:46.962 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:36:46.962 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:36:46.965 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:36:46.966 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:36:46.966 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:36:46.968 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:36:46.969 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:36:46.969 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:36:46.972 DEBUG 15820 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:36:46.973  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:36:46.981  INFO 15820 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:49.040  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:36:49.042 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:36:49.042 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:36:49.043 DEBUG 15820 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:36:49.044  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:36:49.044  INFO 15820 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:49.052  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xzl, org.apache.catalina.session.StandardSessionFacade@28820220]}
2024-04-07 02:36:49.053 DEBUG 15820 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:36:49.054 DEBUG 15820 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:36:49.055 DEBUG 15820 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:36:49.056  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=复试加油, sendTime=Fri Apr 05 15:37:12 CST 2024)]
2024-04-07 02:36:49.059  INFO 15820 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:50.384  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:36:50.386 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:36:50.386 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:36:50.388 DEBUG 15820 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:36:50.389  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:36:50.389  INFO 15820 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:50.398  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@28820220]}
2024-04-07 02:36:50.398 DEBUG 15820 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:36:50.399 DEBUG 15820 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:36:50.401 DEBUG 15820 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 02:36:50.402  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 02:36:50.406  INFO 15820 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:36:54.196 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:36:54.196 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:36:54.198 DEBUG 15820 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:37:59.169  INFO 15820 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:37:59.172  INFO 15820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:37:59.181  INFO 15820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:38:02.661  INFO 6020 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 6020 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:38:02.662 DEBUG 6020 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:38:02.662  INFO 6020 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:38:02.686  INFO 6020 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:38:02.687  INFO 6020 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:38:03.084  INFO 6020 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:38:03.134  INFO 6020 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2024-04-07 02:38:03.546  INFO 6020 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:38:03.551  INFO 6020 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:38:03.551  INFO 6020 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:38:03.605  INFO 6020 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:38:03.606  INFO 6020 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 919 ms
2024-04-07 02:38:03.726  INFO 6020 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:38:03.748  INFO 6020 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:38:03.825  INFO 6020 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:38:03.878  INFO 6020 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:38:04.068  INFO 6020 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:38:04.085  INFO 6020 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:38:04.579  INFO 6020 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:38:04.584  INFO 6020 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:38:05.334  WARN 6020 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:38:05.522  INFO 6020 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:38:05.809  INFO 6020 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:38:05.845  INFO 6020 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:38:05.854  INFO 6020 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.479 seconds (JVM running for 4.158)
2024-04-07 02:38:09.367  INFO 6020 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:38:09.369  INFO 6020 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:38:09.370  INFO 6020 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 02:38:09.540  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:38:09.548  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:38:09.549  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:09.787  INFO 6020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@1f4823e6, org.apache.catalina.connector.ResponseFacade@11d20075]}
2024-04-07 02:38:10.003  INFO 6020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:38:10.003  INFO 6020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:13.892  INFO 6020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@11d20075, hyf, hyfhsy, 21pc, org.apache.catalina.session.StandardSessionFacade@42163e3e, {}]}
2024-04-07 02:38:13.893  INFO 6020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 02:38:13.893  INFO 6020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:13.917  INFO 6020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:38:13.917  INFO 6020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:38:13.918  INFO 6020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:13.967  INFO 6020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@417c8b83, org.apache.catalina.connector.ResponseFacade@4fbb6ddc]}
2024-04-07 02:38:13.975  INFO 6020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:38:13.975  INFO 6020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:18.780  INFO 6020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4fbb6ddc, hyf, hyfhsy, n7pb, org.apache.catalina.session.StandardSessionFacade@42163e3e, {}]}
2024-04-07 02:38:18.782  INFO 6020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 02:38:18.783  INFO 6020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:18.793  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:38:18.794  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:38:18.794  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:18.836  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@1f4823e6, org.apache.catalina.connector.ResponseFacade@11d20075]}
2024-04-07 02:38:18.842  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:38:18.842  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:23.943  INFO 6020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@11d20075, hyf, hyfhsy, nmuj, org.apache.catalina.session.StandardSessionFacade@42163e3e, {}]}
2024-04-07 02:38:23.944  INFO 6020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 02:38:23.944  INFO 6020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:23.954  INFO 6020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:38:23.954  INFO 6020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:38:23.954  INFO 6020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:23.995  INFO 6020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@417c8b83, org.apache.catalina.connector.ResponseFacade@4fbb6ddc]}
2024-04-07 02:38:24.001  INFO 6020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:38:24.002  INFO 6020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:28.070  INFO 6020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4fbb6ddc, hyf, hyfhsy, uuja, org.apache.catalina.session.StandardSessionFacade@42163e3e, {}]}
2024-04-07 02:38:28.103 DEBUG 6020 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:38:28.109 DEBUG 6020 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:38:28.119 DEBUG 6020 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:38:28.123  INFO 6020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:38:28.123  INFO 6020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:28.137  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:38:28.222  WARN 6020 --- [http-nio-8080-exec-2] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:38:28.232  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:38:28.232  INFO 6020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:30.652  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 02:38:30.654  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:38:30.655  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:30.740  INFO 6020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@42163e3e]}
2024-04-07 02:38:30.743 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:38:30.744 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:38:30.747 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:38:30.749 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:38:30.749 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:38:30.752 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:38:30.753 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:38:30.753 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:38:30.756 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:38:30.757 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:38:30.757 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:38:30.759 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:38:30.759 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:38:30.760 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:38:30.762 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:38:30.764 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:38:30.764 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:38:30.767 DEBUG 6020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:38:30.768  INFO 6020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:38:30.777  INFO 6020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:32.776  INFO 6020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:38:32.777 DEBUG 6020 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:38:32.777 DEBUG 6020 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:38:32.780 DEBUG 6020 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:38:32.780  INFO 6020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:38:32.781  INFO 6020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:32.789  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@42163e3e]}
2024-04-07 02:38:32.790 DEBUG 6020 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:38:32.790 DEBUG 6020 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:38:32.791 DEBUG 6020 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 02:38:32.793  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 02:38:32.800  INFO 6020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:38:35.623 DEBUG 6020 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:38:35.624 DEBUG 6020 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:38:35.626 DEBUG 6020 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:40:27.280  INFO 6020 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:40:27.283  INFO 6020 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:40:27.293  INFO 6020 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:40:31.383  INFO 23260 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 23260 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:40:31.384 DEBUG 23260 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:40:31.384  INFO 23260 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:40:31.406  INFO 23260 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:40:31.407  INFO 23260 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:40:31.873  INFO 23260 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:40:31.939  INFO 23260 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2024-04-07 02:40:32.428  INFO 23260 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:40:32.435  INFO 23260 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:40:32.435  INFO 23260 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:40:32.491  INFO 23260 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:40:32.492  INFO 23260 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1085 ms
2024-04-07 02:40:32.604  INFO 23260 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:40:32.628  INFO 23260 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:40:32.712  INFO 23260 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:40:32.768  INFO 23260 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:40:32.977  INFO 23260 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:40:32.988  INFO 23260 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:40:33.517  INFO 23260 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:40:33.523  INFO 23260 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:40:34.254  WARN 23260 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:40:34.425  INFO 23260 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:40:34.698  INFO 23260 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:40:34.732  INFO 23260 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:40:34.738  INFO 23260 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.679 seconds (JVM running for 4.415)
2024-04-07 02:40:38.721  INFO 23260 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:40:38.722  INFO 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:40:38.723  INFO 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 02:40:38.875  INFO 23260 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:40:38.883  INFO 23260 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:40:38.883  INFO 23260 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:39.120  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@20842197, org.apache.catalina.connector.ResponseFacade@42a5e475]}
2024-04-07 02:40:39.322  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:40:39.322  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:44.316  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@42a5e475, hyf, hyfhsy, 57ny, org.apache.catalina.session.StandardSessionFacade@18798556, {}]}
2024-04-07 02:40:44.346 DEBUG 23260 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:40:44.353 DEBUG 23260 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:40:44.363 DEBUG 23260 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:40:44.370  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:40:44.371  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:44.394  INFO 23260 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:40:44.474  WARN 23260 --- [http-nio-8080-exec-6] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:40:44.488  INFO 23260 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:40:44.488  INFO 23260 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:46.047  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 02:40:46.050  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:40:46.051  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:46.136  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:40:46.139 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:40:46.139 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:40:46.143 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:40:46.145 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:40:46.145 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:40:46.146 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:40:46.147 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:40:46.148 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:40:46.150 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:40:46.151 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:40:46.151 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:40:46.153 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:40:46.154 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:40:46.154 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:40:46.156 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:40:46.157 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:40:46.159 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:40:46.161 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:40:46.161  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:40:46.170  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:47.976  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:40:47.977 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:40:47.977 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:40:47.979 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:40:47.979  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:40:47.979  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:47.988  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:40:47.990 DEBUG 23260 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:40:47.990 DEBUG 23260 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:40:47.992 DEBUG 23260 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 02:40:47.993  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 02:40:48.001  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:40:50.659 DEBUG 23260 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:40:50.660 DEBUG 23260 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 02:40:50.662 DEBUG 23260 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:40:50.663 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 02:40:50.666 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), ls(String), 1(String), 2024-04-07 02:40:50.587(Timestamp), false(Boolean), true(Boolean)
2024-04-07 02:40:50.725 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 02:41:01.018  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 02:41:01.019  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:41:01.019  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:41:01.103  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:41:01.104 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:41:01.104 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:41:01.107 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:41:01.108 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:01.108 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:41:01.111 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:01.113 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:01.113 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:41:01.115 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:01.117 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:01.117 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:41:01.119 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:01.121 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:01.122 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:41:01.124 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:01.126 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:01.127 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:41:01.131 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:01.133  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:41:01.134  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:41:03.922  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 02:41:03.923 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:03.924 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:41:03.926 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:03.926  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:41:03.926  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:41:21.006  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@1de8b595, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:41:21.008 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:41:21.009 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:41:21.010 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:41:21.012 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:41:21.012 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:41:21.013 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:41:21.013  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:41:21.013  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:41:21.173  INFO 23260 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:41:21.173  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:41:21.173 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:21.174 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:41:21.174 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:41:21.174 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:41:21.175 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:21.176  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:41:21.176  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:41:21.177 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:41:21.177 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:21.178 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:41:21.182 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:21.183 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:21.183 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:41:21.186 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:21.186 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:21.187 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:41:21.188 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:21.189 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:21.189  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:41:21.189 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:41:21.191 DEBUG 23260 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:41:21.191 DEBUG 23260 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:41:21.191 DEBUG 23260 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 02:41:21.192 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:21.192  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:41:21.192  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:41:21.192 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:41:21.192 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:41:21.194 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:41:21.194  INFO 23260 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:41:21.195  INFO 23260 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:41:24.743 DEBUG 23260 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:41:24.745 DEBUG 23260 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:41:24.746 DEBUG 23260 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:41:24.747 DEBUG 23260 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 02:41:24.747 DEBUG 23260 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 02:41:24.742(Timestamp), false(Boolean), true(Boolean)
2024-04-07 02:41:24.841 DEBUG 23260 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 02:41:38.389 DEBUG 23260 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:41:38.389 DEBUG 23260 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:41:38.390 DEBUG 23260 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:41:38.391 DEBUG 23260 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 02:41:38.391 DEBUG 23260 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 02:41:38.388(Timestamp), false(Boolean), true(Boolean)
2024-04-07 02:41:38.409 DEBUG 23260 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 02:42:14.646  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@70e8ead0, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:42:14.647 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:42:14.648 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:42:14.649 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:42:14.649 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:42:14.649 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:42:14.650 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:42:14.651  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:42:14.651  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:14.738  INFO 23260 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:42:14.738  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:42:14.738 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:14.738 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:42:14.738 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:42:14.740 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:42:14.740 DEBUG 23260 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:14.740  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:42:14.740  INFO 23260 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:14.741 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 02:42:14.742 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:14.742 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:42:14.744 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:14.745 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:14.745 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:42:14.747 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:14.747 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:14.748 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:42:14.750 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:14.750 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:14.750 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:42:14.751 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:14.752 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:14.752 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:42:14.753 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:14.755 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:14.755 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:42:14.756 DEBUG 23260 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:14.757  INFO 23260 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=54, sendTime=Sun Apr 07 02:41:38 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:42:14.757  INFO 23260 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:19.933  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[zyd]}
2024-04-07 02:42:19.933 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:19.933 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:42:19.935 DEBUG 23260 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:19.935  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 3
2024-04-07 02:42:19.935  INFO 23260 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:19.944  INFO 23260 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:42:19.945 DEBUG 23260 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:42:19.945 DEBUG 23260 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-04-07 02:42:19.947 DEBUG 23260 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-04-07 02:42:19.947  INFO 23260 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024)]
2024-04-07 02:42:19.948  INFO 23260 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:21.551  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[root]}
2024-04-07 02:42:21.552 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:21.552 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:42:21.553 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:21.554  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 4
2024-04-07 02:42:21.554  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:21.562  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:42:21.562 DEBUG 23260 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:42:21.562 DEBUG 23260 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-04-07 02:42:21.564 DEBUG 23260 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-07 02:42:21.564  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=nice！成功了, sendTime=Fri Mar 29 15:19:13 CST 2024)]
2024-04-07 02:42:21.564  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:23.393  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:42:23.394 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:23.394 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:42:23.396 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:23.397  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:42:23.397  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:26.223  INFO 23260 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:42:26.224 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:42:26.224 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:42:26.225 DEBUG 23260 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:42:26.225  INFO 23260 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:42:26.225  INFO 23260 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:26.233  INFO 23260 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xzl, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:42:26.234 DEBUG 23260 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:42:26.234 DEBUG 23260 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:42:26.236 DEBUG 23260 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:42:26.236  INFO 23260 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=复试加油, sendTime=Fri Apr 05 15:37:12 CST 2024)]
2024-04-07 02:42:26.236  INFO 23260 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:42:28.702 DEBUG 23260 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:42:28.702 DEBUG 23260 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: xzl(String), hyf(String), hyf(String), xzl(String)
2024-04-07 02:42:28.703 DEBUG 23260 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 0
2024-04-07 02:43:49.754  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@6cc1cb27, org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:43:49.755 DEBUG 23260 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:43:49.755 DEBUG 23260 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:43:49.756 DEBUG 23260 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:43:49.757 DEBUG 23260 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:43:49.757 DEBUG 23260 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:43:49.758 DEBUG 23260 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:43:49.758  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:43:49.758  INFO 23260 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:43:49.857  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@18798556]}
2024-04-07 02:43:49.857  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:43:49.857 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:43:49.858 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:43:49.858 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:43:49.858 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:43:49.859 DEBUG 23260 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:43:49.859  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:43:49.859  INFO 23260 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:43:49.859 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:43:49.859 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:43:49.859 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:43:49.861 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:43:49.861 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:43:49.861 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:43:49.862 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:43:49.862 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:43:49.862 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:43:49.863 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:43:49.863 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:43:49.863 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:43:49.866 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:43:49.867 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:43:49.867 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:43:49.868 DEBUG 23260 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:43:49.869  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:43:49.869  INFO 23260 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:43:54.968  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xzl', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xzl]}
2024-04-07 02:43:54.969 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:43:54.969 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:43:54.971 DEBUG 23260 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:43:54.971  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 6
2024-04-07 02:43:54.971  INFO 23260 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:03.667  INFO 23260 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:51:03.670  INFO 23260 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:51:03.681  INFO 23260 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:51:06.507  INFO 4456 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 4456 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:51:06.507 DEBUG 4456 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:51:06.507  INFO 4456 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:51:06.530  INFO 4456 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:51:06.530  INFO 4456 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:51:06.992  INFO 4456 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:51:07.050  INFO 4456 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2024-04-07 02:51:07.488  INFO 4456 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:51:07.494  INFO 4456 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:51:07.494  INFO 4456 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:51:07.551  INFO 4456 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:51:07.551  INFO 4456 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1020 ms
2024-04-07 02:51:07.665  INFO 4456 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:51:07.690  INFO 4456 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:51:07.771  INFO 4456 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:51:07.818  INFO 4456 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:51:08.026  INFO 4456 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:51:08.038  INFO 4456 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:51:08.556  INFO 4456 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:51:08.561  INFO 4456 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:51:09.364  WARN 4456 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:51:09.583  INFO 4456 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:51:09.908  INFO 4456 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:51:09.946  INFO 4456 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:51:09.954  INFO 4456 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.774 seconds (JVM running for 4.583)
2024-04-07 02:51:18.743  INFO 4456 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:51:18.746  INFO 4456 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:51:18.747  INFO 4456 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 02:51:19.395  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:51:19.408  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:51:19.408  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:19.718  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@69494153, org.apache.catalina.connector.ResponseFacade@89e9669]}
2024-04-07 02:51:20.028  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:51:20.028  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:26.926  INFO 4456 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@89e9669, hyf, hyfhsy, d0q1, org.apache.catalina.session.StandardSessionFacade@d71d833, {}]}
2024-04-07 02:51:26.927  INFO 4456 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-04-07 02:51:26.927  INFO 4456 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:26.950  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:51:26.950  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:51:26.950  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:26.996  INFO 4456 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@fa92e03, org.apache.catalina.connector.ResponseFacade@16ec186]}
2024-04-07 02:51:27.002  INFO 4456 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:51:27.002  INFO 4456 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:31.628  INFO 4456 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@16ec186, hyf, hyfhsy, guma, org.apache.catalina.session.StandardSessionFacade@d71d833, {}]}
2024-04-07 02:51:31.660 DEBUG 4456 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:51:31.666 DEBUG 4456 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:51:31.675 DEBUG 4456 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:51:31.681  INFO 4456 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:51:31.681  INFO 4456 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:31.695  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:51:31.776  WARN 4456 --- [http-nio-8080-exec-2] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:51:31.787  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:51:31.787  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:34.643  INFO 4456 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 02:51:34.647  INFO 4456 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 02:51:34.649  INFO 4456 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:34.954  INFO 4456 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:34.957 DEBUG 4456 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 02:51:34.958 DEBUG 4456 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 02:51:34.960 DEBUG 4456 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 02:51:34.962  INFO 4456 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 02:51:34.967  INFO 4456 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:35.049  INFO 4456 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:35.050 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 02:51:35.051 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 02:51:35.052 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 02:51:35.053  INFO 4456 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 02:51:35.061  INFO 4456 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:35.131  INFO 4456 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:35.132 DEBUG 4456 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 02:51:35.132 DEBUG 4456 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 02:51:35.135 DEBUG 4456 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 02:51:35.135  INFO 4456 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 02:51:35.137  INFO 4456 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:35.297  INFO 4456 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:35.299 DEBUG 4456 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 02:51:35.299 DEBUG 4456 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 02:51:35.301 DEBUG 4456 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 02:51:35.302  INFO 4456 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 02:51:35.302  INFO 4456 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:35.313  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:35.314 DEBUG 4456 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 02:51:35.315 DEBUG 4456 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:51:35.317 DEBUG 4456 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 02:51:35.318  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=null, count=3)
2024-04-07 02:51:35.318  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:35.329  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:35.330 DEBUG 4456 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 02:51:35.330 DEBUG 4456 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 02:51:35.332 DEBUG 4456 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 02:51:35.333  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 02:51:35.333  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:35.343  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:35.344 DEBUG 4456 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 02:51:35.345 DEBUG 4456 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 02:51:35.348 DEBUG 4456 --- [http-nio-8080-exec-4] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 02:51:35.350  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 02:51:35.350  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:39.342  INFO 4456 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@62399585, org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:39.347 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:51:39.348 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:51:39.350 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:51:39.351 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:51:39.352 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:51:39.354 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:51:39.355  INFO 4456 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:51:39.355  INFO 4456 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:39.526  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:39.526  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:51:39.527 DEBUG 4456 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:51:39.527 DEBUG 4456 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:51:39.527 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:51:39.529 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:51:39.530 DEBUG 4456 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:51:39.530  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:51:39.530  INFO 4456 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:39.532 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:51:39.533 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:51:39.534 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:51:39.536 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:51:39.536 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:51:39.538 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:51:39.540 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:51:39.541 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:51:39.542 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:51:39.544 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:51:39.545 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:51:39.546 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:51:39.551 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:51:39.552  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:39.553 DEBUG 4456 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:51:39.554 DEBUG 4456 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:51:39.554 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:51:39.554 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:51:39.556 DEBUG 4456 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 02:51:39.556  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 02:51:39.556  INFO 4456 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:39.556 DEBUG 4456 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:51:39.557  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:51:39.566  INFO 4456 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:51:48.806  INFO 4456 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[7, {}, org.apache.catalina.session.StandardSessionFacade@d71d833]}
2024-04-07 02:51:48.809 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findView        : ==>  Preparing: select * from t_view where viewer_id = ? and viewed_id = ?
2024-04-07 02:51:48.811 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findView        : ==> Parameters: 1(Long), 7(Long)
2024-04-07 02:51:48.812 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findView        : <==      Total: 1
2024-04-07 02:51:48.812 DEBUG 4456 --- [http-nio-8080-exec-3] c.jxufe.dao.UserMapper.updateAboutView   : ==>  Preparing: update t_view set count = count + 1 where viewer_id = ? and viewed_id = ?
2024-04-07 02:51:48.813 DEBUG 4456 --- [http-nio-8080-exec-3] c.jxufe.dao.UserMapper.updateAboutView   : ==> Parameters: 1(Long), 7(Long)
2024-04-07 02:51:48.862 DEBUG 4456 --- [http-nio-8080-exec-3] c.jxufe.dao.UserMapper.updateAboutView   : <==    Updates: 1
2024-04-07 02:51:48.863 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:51:48.863 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:51:48.865 DEBUG 4456 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:51:48.865 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 02:51:48.866 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 7(Long), 7(Long)
2024-04-07 02:51:48.867 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.F.findJoinForumsByUserId           : <==      Total: 0
2024-04-07 02:51:48.901 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 02:51:48.902 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.C.collectionBlogList               : ==> Parameters: 7(Long)
2024-04-07 02:51:48.903 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.C.collectionBlogList               : <==      Total: 0
2024-04-07 02:51:48.904 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 02:51:48.904 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.C.collectionRecourseList           : ==> Parameters: 7(Long)
2024-04-07 02:51:48.905 DEBUG 4456 --- [http-nio-8080-exec-3] c.j.d.C.collectionRecourseList           : <==      Total: 0
2024-04-07 02:51:48.905  INFO 4456 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-07 02:51:48.906  INFO 4456 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:52:11.542 DEBUG 4456 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:52:11.543 DEBUG 4456 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:52:11.544 DEBUG 4456 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:52:11.544 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 02:52:11.548 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 02:52:11.467(Timestamp), false(Boolean), true(Boolean)
2024-04-07 02:52:11.563 DEBUG 4456 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 02:58:17.953  INFO 4456 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:58:17.956  INFO 4456 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 02:58:17.966  INFO 4456 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 02:58:20.848  INFO 5292 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 5292 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 02:58:20.849 DEBUG 5292 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 02:58:20.849  INFO 5292 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 02:58:20.875  INFO 5292 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 02:58:20.875  INFO 5292 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 02:58:21.358  INFO 5292 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 02:58:21.423  INFO 5292 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2024-04-07 02:58:22.527  INFO 5292 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 02:58:22.540  INFO 5292 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 02:58:22.541  INFO 5292 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 02:58:22.640  INFO 5292 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 02:58:22.641  INFO 5292 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1765 ms
2024-04-07 02:58:22.796  INFO 5292 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 02:58:22.833  INFO 5292 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 02:58:22.923  INFO 5292 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 02:58:22.983  INFO 5292 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 02:58:23.227  INFO 5292 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 02:58:23.242  INFO 5292 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 02:58:23.779  INFO 5292 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 02:58:23.784  INFO 5292 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 02:58:24.532  WARN 5292 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 02:58:24.762  INFO 5292 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 02:58:25.138  INFO 5292 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 02:58:25.177  INFO 5292 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 02:58:25.186  INFO 5292 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.673 seconds (JVM running for 5.559)
2024-04-07 02:58:29.394  INFO 5292 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 02:58:29.394  INFO 5292 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 02:58:29.395  INFO 5292 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 02:58:29.895  INFO 5292 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 02:58:29.907  INFO 5292 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 02:58:29.907  INFO 5292 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:30.217  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@62ac144c, org.apache.catalina.connector.ResponseFacade@194b5681]}
2024-04-07 02:58:30.552  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 02:58:30.553  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:35.862  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@194b5681, hyf, hyfhsy, hmbm, org.apache.catalina.session.StandardSessionFacade@4c6382b9, {}]}
2024-04-07 02:58:35.894 DEBUG 5292 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 02:58:35.900 DEBUG 5292 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 02:58:35.911 DEBUG 5292 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 02:58:35.917  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 02:58:35.917  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:35.943  INFO 5292 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 02:58:36.024  WARN 5292 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 02:58:36.034  INFO 5292 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 02:58:36.034  INFO 5292 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:38.200  INFO 5292 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@5b0e8fc2, org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 02:58:38.205 DEBUG 5292 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:58:38.206 DEBUG 5292 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:58:38.208 DEBUG 5292 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:58:38.209 DEBUG 5292 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:58:38.210 DEBUG 5292 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:58:38.211 DEBUG 5292 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:58:38.211  INFO 5292 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:58:38.211  INFO 5292 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:38.441  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 02:58:38.441  INFO 5292 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:58:38.442 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:58:38.444 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:58:38.444 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:58:38.444 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:58:38.446 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:58:38.446  INFO 5292 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:58:38.447  INFO 5292 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:38.448 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 02:58:38.449 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:58:38.449 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:58:38.452 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:58:38.453 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:58:38.454 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:58:38.456 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:58:38.456 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:58:38.457 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:58:38.459 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:58:38.460 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:58:38.461 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:58:38.462 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:58:38.464 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:58:38.465 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:58:38.467 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:58:38.468 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:58:38.468 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:58:38.470 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:58:38.471  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=55, sendTime=Sun Apr 07 02:52:11 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:58:38.480  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:38.509  INFO 5292 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 02:58:38.511 DEBUG 5292 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 02:58:38.512 DEBUG 5292 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:58:38.514 DEBUG 5292 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 02:58:38.514  INFO 5292 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=1, sendTime=Sun Apr 07 02:52:11 CST 2024)]
2024-04-07 02:58:38.518  INFO 5292 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:58:49.052 DEBUG 5292 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:58:49.054 DEBUG 5292 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:58:49.055 DEBUG 5292 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:58:49.055 DEBUG 5292 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 02:58:49.058 DEBUG 5292 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 02:58:48.97(Timestamp), false(Boolean), true(Boolean)
2024-04-07 02:58:49.094 DEBUG 5292 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 02:59:01.378 DEBUG 5292 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:59:01.379 DEBUG 5292 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:59:01.380 DEBUG 5292 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:59:01.381 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 02:59:01.382 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 2(String), 2024-04-07 02:59:01.376(Timestamp), false(Boolean), true(Boolean)
2024-04-07 02:59:01.475 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 02:59:13.712  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@237be82e, org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 02:59:13.713 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:59:13.714 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:59:13.716 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:59:13.716 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:59:13.716 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:59:13.718 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:59:13.719  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:59:13.719  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:59:13.903  INFO 5292 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 02:59:13.903  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:59:13.904 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:59:13.904 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:13.904 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:59:13.904 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:59:13.906 DEBUG 5292 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:13.906  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:59:13.906 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 02:59:13.906  INFO 5292 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:59:13.908 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:13.908 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:59:13.910 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:13.911 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:13.911 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:59:13.913 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:13.914 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:13.914 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:59:13.916 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:13.917 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:13.917 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:59:13.920 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:13.920 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:13.920 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:59:13.924 DEBUG 5292 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:13.924  INFO 5292 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:59:13.926  INFO 5292 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:59:18.924 DEBUG 5292 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 02:59:18.924 DEBUG 5292 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 02:59:18.926 DEBUG 5292 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 02:59:18.926 DEBUG 5292 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 02:59:18.927 DEBUG 5292 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 02:59:18.922(Timestamp), false(Boolean), true(Boolean)
2024-04-07 02:59:18.947 DEBUG 5292 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 02:59:52.456  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@194b5681, org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 02:59:52.458 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 02:59:52.458 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 02:59:52.460 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 02:59:52.460 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 02:59:52.460 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 02:59:52.461 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 02:59:52.461  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 02:59:52.461  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:59:52.631  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 02:59:52.631  INFO 5292 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 02:59:52.631 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:52.631 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:59:52.632 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 02:59:52.632 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 02:59:52.632 DEBUG 5292 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:52.634  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 02:59:52.634  INFO 5292 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 02:59:52.636 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 02:59:52.637 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:52.637 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 02:59:52.639 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:52.639 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:52.639 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 02:59:52.641 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:52.641 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:52.641 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 02:59:52.642 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:52.643 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:52.643 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 02:59:52.644 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:52.644 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:52.645 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 02:59:52.646 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:52.647 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 02:59:52.648 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 02:59:52.648 DEBUG 5292 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 02:59:52.649  INFO 5292 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=58, sendTime=Sun Apr 07 02:59:19 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 02:59:52.649  INFO 5292 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:06:39.859  INFO 5292 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 03:06:39.863  INFO 5292 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 03:06:39.872  INFO 5292 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 03:06:43.811  INFO 21468 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 21468 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 03:06:43.811 DEBUG 21468 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 03:06:43.812  INFO 21468 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 03:06:43.834  INFO 21468 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 03:06:43.834  INFO 21468 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 03:06:44.279  INFO 21468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 03:06:44.338  INFO 21468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2024-04-07 03:06:44.784  INFO 21468 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 03:06:44.791  INFO 21468 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 03:06:44.792  INFO 21468 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 03:06:44.865  INFO 21468 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 03:06:44.865  INFO 21468 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1031 ms
2024-04-07 03:06:44.999  INFO 21468 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 03:06:45.035  INFO 21468 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 03:06:45.116  INFO 21468 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 03:06:45.177  INFO 21468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 03:06:45.401  INFO 21468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 03:06:45.413  INFO 21468 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 03:06:45.962  INFO 21468 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 03:06:45.967  INFO 21468 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 03:06:46.667  WARN 21468 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 03:06:46.846  INFO 21468 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 03:06:47.110  INFO 21468 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 03:06:47.142  INFO 21468 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 03:06:47.148  INFO 21468 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.628 seconds (JVM running for 4.332)
2024-04-07 03:06:55.176  INFO 21468 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 03:06:55.176  INFO 21468 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 03:06:55.177  INFO 21468 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 03:06:55.352  INFO 21468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 03:06:55.359  INFO 21468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 03:06:55.359  INFO 21468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:06:55.592  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@687751eb, org.apache.catalina.connector.ResponseFacade@5d7d4363]}
2024-04-07 03:06:55.805  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 03:06:55.806  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:01.727  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@5d7d4363, hyf, hyfhsy, epgb, org.apache.catalina.session.StandardSessionFacade@198bdce2, {}]}
2024-04-07 03:07:01.752 DEBUG 21468 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 03:07:01.756 DEBUG 21468 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 03:07:01.762 DEBUG 21468 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 03:07:01.767  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 03:07:01.767  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:01.786  INFO 21468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 03:07:01.846  WARN 21468 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 03:07:01.854  INFO 21468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 03:07:01.854  INFO 21468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:03.835  INFO 21468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@70d37e77, org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:07:03.838 DEBUG 21468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 03:07:03.839 DEBUG 21468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 03:07:03.840 DEBUG 21468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 03:07:03.842 DEBUG 21468 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 03:07:03.842 DEBUG 21468 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 03:07:03.843 DEBUG 21468 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 03:07:03.845  INFO 21468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 03:07:03.845  INFO 21468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:04.052  INFO 21468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:07:04.052  INFO 21468 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 03:07:04.053 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 03:07:04.054 DEBUG 21468 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:04.054 DEBUG 21468 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 03:07:04.054 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 03:07:04.056 DEBUG 21468 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:04.056  INFO 21468 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 03:07:04.056  INFO 21468 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:04.057 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 03:07:04.057 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:04.058 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 03:07:04.061 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:04.062 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:04.062 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 03:07:04.064 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:04.066 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:04.067 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 03:07:04.069 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:04.070 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:04.070 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 03:07:04.073 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:04.073 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:04.074 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 03:07:04.075 DEBUG 21468 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:04.075  INFO 21468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 03:07:04.084  INFO 21468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:04.128  INFO 21468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:07:04.130 DEBUG 21468 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 03:07:04.130 DEBUG 21468 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 03:07:04.132 DEBUG 21468 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 03:07:04.132  INFO 21468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 03:07:04.133  INFO 21468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:08.507  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:07:08.508 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 03:07:08.508 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 03:07:08.510 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 03:07:08.511 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:08.511 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 03:07:08.513 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:08.514 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:08.514 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 03:07:08.515 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:08.515 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:08.515 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 03:07:08.516 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:08.517 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:08.517 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 03:07:08.519 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:08.520 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:08.521 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 03:07:08.522 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:08.522  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 03:07:08.522  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:08.571 DEBUG 21468 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 03:07:08.571 DEBUG 21468 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 03:07:08.572 DEBUG 21468 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 03:07:08.574 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 03:07:08.575 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 03:07:08.501(Timestamp), false(Boolean), true(Boolean)
2024-04-07 03:07:08.631 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 03:07:47.857  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@6b2c6a09, org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:07:47.858 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 03:07:47.858 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 03:07:47.859 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 03:07:47.860 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 03:07:47.860 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 03:07:47.861 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 03:07:47.861  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 03:07:47.861  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:48.036  INFO 21468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:07:48.036  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 03:07:48.036 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:48.037 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 03:07:48.037 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 03:07:48.037 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 03:07:48.038 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:48.039  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 03:07:48.039  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:07:48.040 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 03:07:48.042 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:48.042 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 03:07:48.046 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:48.047 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:48.047 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 03:07:48.049 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:48.049 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:48.051 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 03:07:48.052 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:48.052 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:48.053 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 03:07:48.054 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:48.055 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:48.055 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 03:07:48.057 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:48.057 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:07:48.057 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 03:07:48.059 DEBUG 21468 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:07:48.059  INFO 21468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=59, sendTime=Sun Apr 07 03:07:09 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 03:07:48.059  INFO 21468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:10:55.509  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@5190c61d, org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:10:55.510 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 03:10:55.511 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 03:10:55.512 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 03:10:55.512 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 03:10:55.512 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 03:10:55.513 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 03:10:55.513  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 03:10:55.513  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:10:55.696  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 03:10:55.696  INFO 21468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:10:55.696 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:10:55.697 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 03:10:55.697 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 03:10:55.698 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 03:10:55.698 DEBUG 21468 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:10:55.698  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 03:10:55.698  INFO 21468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:10:55.699 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 03:10:55.700 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:10:55.700 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 03:10:55.701 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:10:55.702 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:10:55.702 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 03:10:55.704 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:10:55.705 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:10:55.705 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 03:10:55.706 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:10:55.706 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:10:55.706 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 03:10:55.707 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:10:55.707 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:10:55.707 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 03:10:55.708 DEBUG 21468 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:10:55.710  INFO 21468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 03:10:55.710  INFO 21468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:11:08.581  INFO 21468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 03:11:08.582  INFO 21468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 03:11:08.582  INFO 21468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:11:08.829  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@198bdce2]}
2024-04-07 03:11:08.830 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 03:11:08.830 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 03:11:08.832 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 03:11:08.834 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:11:08.835 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 03:11:08.837 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:11:08.837 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:11:08.837 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 03:11:08.839 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:11:08.839 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:11:08.840 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 03:11:08.841 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:11:08.842 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:11:08.842 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 03:11:08.843 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:11:08.844 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:11:08.844 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 03:11:08.846 DEBUG 21468 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:11:08.846  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 03:11:08.846  INFO 21468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:16.874  INFO 21468 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 03:13:16.877  INFO 21468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 03:13:16.883  INFO 21468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 03:13:19.680  INFO 11808 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 11808 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 03:13:19.681 DEBUG 11808 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 03:13:19.681  INFO 11808 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 03:13:19.706  INFO 11808 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 03:13:19.706  INFO 11808 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 03:13:20.159  INFO 11808 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 03:13:20.219  INFO 11808 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2024-04-07 03:13:20.688  INFO 11808 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 03:13:20.695  INFO 11808 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 03:13:20.695  INFO 11808 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 03:13:20.750  INFO 11808 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 03:13:20.751  INFO 11808 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1044 ms
2024-04-07 03:13:20.861  INFO 11808 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 03:13:20.889  INFO 11808 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 03:13:20.970  INFO 11808 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 03:13:21.023  INFO 11808 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 03:13:21.228  INFO 11808 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 03:13:21.241  INFO 11808 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 03:13:21.798  INFO 11808 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 03:13:21.803  INFO 11808 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 03:13:22.623  WARN 11808 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 03:13:22.840  INFO 11808 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 03:13:23.161  INFO 11808 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 03:13:23.201  INFO 11808 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 03:13:23.212  INFO 11808 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.87 seconds (JVM running for 4.717)
2024-04-07 03:13:39.591  INFO 11808 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 03:13:39.591  INFO 11808 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 03:13:39.593  INFO 11808 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-07 03:13:40.031  INFO 11808 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 03:13:40.039  INFO 11808 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 03:13:40.039  INFO 11808 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:40.275  INFO 11808 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@6ae5fce7, org.apache.catalina.connector.ResponseFacade@55abd316]}
2024-04-07 03:13:40.488  INFO 11808 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 03:13:40.488  INFO 11808 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:45.978  INFO 11808 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@55abd316, hyf, hyfhsy, agip, org.apache.catalina.session.StandardSessionFacade@4c6382b9, {}]}
2024-04-07 03:13:46.000 DEBUG 11808 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 03:13:46.004 DEBUG 11808 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 03:13:46.011 DEBUG 11808 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 03:13:46.016  INFO 11808 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 03:13:46.016  INFO 11808 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:46.034  INFO 11808 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 03:13:46.093  WARN 11808 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 03:13:46.102  INFO 11808 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 03:13:46.102  INFO 11808 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.210  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 03:13:48.213  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 03:13:48.214  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.466  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:48.468 DEBUG 11808 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 03:13:48.469 DEBUG 11808 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 03:13:48.473 DEBUG 11808 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 03:13:48.475  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 03:13:48.479  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.551  INFO 11808 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:48.553 DEBUG 11808 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 03:13:48.553 DEBUG 11808 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 03:13:48.554 DEBUG 11808 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 03:13:48.555  INFO 11808 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 03:13:48.562  INFO 11808 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.602  INFO 11808 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:48.603 DEBUG 11808 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 03:13:48.603 DEBUG 11808 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 03:13:48.605 DEBUG 11808 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 03:13:48.606  INFO 11808 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 03:13:48.606  INFO 11808 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.791  INFO 11808 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:48.791 DEBUG 11808 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 03:13:48.792 DEBUG 11808 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 03:13:48.793 DEBUG 11808 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 03:13:48.794  INFO 11808 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 03:13:48.794  INFO 11808 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.804  INFO 11808 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:48.804 DEBUG 11808 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 03:13:48.805 DEBUG 11808 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 03:13:48.807 DEBUG 11808 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 03:13:48.808  INFO 11808 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=null, count=3)
2024-04-07 03:13:48.808  INFO 11808 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.816  INFO 11808 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:48.817 DEBUG 11808 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 03:13:48.817 DEBUG 11808 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 03:13:48.819 DEBUG 11808 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 03:13:48.819  INFO 11808 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 03:13:48.819  INFO 11808 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:48.829  INFO 11808 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:48.830 DEBUG 11808 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 03:13:48.830 DEBUG 11808 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 03:13:48.832 DEBUG 11808 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 03:13:48.832  INFO 11808 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 03:13:48.833  INFO 11808 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:50.325  INFO 11808 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@761fec06, org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:50.329 DEBUG 11808 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 03:13:50.329 DEBUG 11808 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 03:13:50.330 DEBUG 11808 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 03:13:50.331 DEBUG 11808 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 03:13:50.332 DEBUG 11808 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 03:13:50.333 DEBUG 11808 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 03:13:50.333  INFO 11808 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 03:13:50.334  INFO 11808 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:50.529  INFO 11808 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:50.529  INFO 11808 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 03:13:50.529 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 03:13:50.530 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 03:13:50.531 DEBUG 11808 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:50.531 DEBUG 11808 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 03:13:50.533 DEBUG 11808 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:50.534  INFO 11808 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 03:13:50.534  INFO 11808 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:50.535 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 03:13:50.535 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:50.537 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 03:13:50.538 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:50.539 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:50.540 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 03:13:50.542 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:50.544 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:50.544 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 03:13:50.546 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:50.549 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:50.550 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 03:13:50.553 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:50.555 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:50.556 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 03:13:50.556  INFO 11808 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:50.557 DEBUG 11808 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 03:13:50.557 DEBUG 11808 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 03:13:50.558 DEBUG 11808 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:50.558 DEBUG 11808 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 03:13:50.558  INFO 11808 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 03:13:50.559  INFO 11808 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:50.558  INFO 11808 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 03:13:50.566  INFO 11808 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:55.951  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4c6382b9]}
2024-04-07 03:13:55.953 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 03:13:55.953 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 03:13:55.956 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 03:13:55.956 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:55.956 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 03:13:55.957 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:55.958 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:55.958 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 03:13:55.959 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:55.959 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:55.960 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 03:13:55.960 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:55.961 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:55.961 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 03:13:55.962 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:55.962 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 03:13:55.962 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 03:13:55.964 DEBUG 11808 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 03:13:55.964  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 03:13:55.964  INFO 11808 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 03:13:56.000 DEBUG 11808 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 03:13:56.000 DEBUG 11808 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 03:13:56.001 DEBUG 11808 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 03:13:56.002 DEBUG 11808 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 03:13:56.004 DEBUG 11808 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 03:13:55.942(Timestamp), false(Boolean), true(Boolean)
2024-04-07 03:13:56.106 DEBUG 11808 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 03:15:38.087  INFO 11808 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 03:15:38.089  INFO 11808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 03:15:38.099  INFO 11808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 09:02:27.873  INFO 11620 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 11620 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 09:02:27.874 DEBUG 11620 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 09:02:27.874  INFO 11620 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 09:02:27.903  INFO 11620 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 09:02:27.904  INFO 11620 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 09:02:28.476  INFO 11620 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 09:02:28.546  INFO 11620 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2024-04-07 09:02:29.094  INFO 11620 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 09:02:29.103  INFO 11620 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 09:02:29.103  INFO 11620 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 09:02:29.172  INFO 11620 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 09:02:29.173  INFO 11620 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1269 ms
2024-04-07 09:02:29.303  INFO 11620 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 09:02:29.350  INFO 11620 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 09:02:29.459  INFO 11620 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 09:02:29.538  INFO 11620 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 09:02:29.863  INFO 11620 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 09:02:29.878  INFO 11620 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 09:02:30.552  INFO 11620 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 09:02:30.557  INFO 11620 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 09:02:31.365  WARN 11620 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 09:02:31.566  INFO 11620 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 09:02:31.854  INFO 11620 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 09:02:31.890  INFO 11620 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 09:02:31.899  INFO 11620 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.411 seconds (JVM running for 5.359)
2024-04-07 09:02:41.039  INFO 11620 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 09:02:41.040  INFO 11620 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 09:02:41.041  INFO 11620 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 09:02:41.351  WARN 11620 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [287] milliseconds.
2024-04-07 09:02:43.038  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 09:02:43.050  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 09:02:43.050  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:02:43.407  INFO 11620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@39105ad, org.apache.catalina.connector.ResponseFacade@602299c8]}
2024-04-07 09:02:43.784  INFO 11620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 09:02:43.784  INFO 11620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:02:47.752  INFO 11620 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@602299c8, hyf, hyfhsy, pgsq, org.apache.catalina.session.StandardSessionFacade@9b21242, {}]}
2024-04-07 09:02:47.785 DEBUG 11620 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 09:02:47.794 DEBUG 11620 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 09:02:47.805 DEBUG 11620 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 09:02:47.809  INFO 11620 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 09:02:47.810  INFO 11620 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:02:47.838  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 09:02:47.913  WARN 11620 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 09:02:47.923  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 09:02:47.924  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:41.374  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 09:03:41.379  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 09:03:41.379  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:41.562  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:41.564 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 09:03:41.564 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 09:03:41.568 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 09:03:41.571 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:03:41.571 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 09:03:41.573 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:03:41.573 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:03:41.574 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 09:03:41.575 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:03:41.576 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:03:41.576 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 09:03:41.577 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:03:41.578 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:03:41.579 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 09:03:41.581 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:03:41.582 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:03:41.583 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 09:03:41.584 DEBUG 11620 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:03:41.586  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 09:03:41.593  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:50.981  INFO 11620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 09:03:50.984  INFO 11620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 09:03:50.984  INFO 11620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:51.118  INFO 11620 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:51.119 DEBUG 11620 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 09:03:51.121 DEBUG 11620 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 09:03:51.123 DEBUG 11620 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 09:03:51.124  INFO 11620 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 09:03:51.130  INFO 11620 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:51.156  INFO 11620 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:51.157 DEBUG 11620 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 09:03:51.158 DEBUG 11620 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 09:03:51.161 DEBUG 11620 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 09:03:51.161  INFO 11620 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 09:03:51.171  INFO 11620 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:51.194  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:51.195 DEBUG 11620 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 09:03:51.196 DEBUG 11620 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 09:03:51.197 DEBUG 11620 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 09:03:51.198  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 09:03:51.199  INFO 11620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:51.259  INFO 11620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:51.259 DEBUG 11620 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 09:03:51.260 DEBUG 11620 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 09:03:51.261 DEBUG 11620 --- [http-nio-8080-exec-3] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 09:03:51.262  INFO 11620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 09:03:51.262  INFO 11620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:51.275  INFO 11620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:51.275 DEBUG 11620 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 09:03:51.276 DEBUG 11620 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:03:51.278 DEBUG 11620 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 09:03:51.278  INFO 11620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=null, count=3)
2024-04-07 09:03:51.279  INFO 11620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:51.289  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:51.290 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 09:03:51.290 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:03:51.291 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 09:03:51.292  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 09:03:51.292  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:03:51.303  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:03:51.304 DEBUG 11620 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 09:03:51.305 DEBUG 11620 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 09:03:51.307 DEBUG 11620 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 09:03:51.308  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 09:03:51.308  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:04:12.132  INFO 11620 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@5e343871, org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:04:12.134 DEBUG 11620 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:04:12.134 DEBUG 11620 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 09:04:12.136 DEBUG 11620 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:04:12.137 DEBUG 11620 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 09:04:12.137 DEBUG 11620 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 09:04:12.140 DEBUG 11620 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 09:04:12.140  INFO 11620 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 09:04:12.140  INFO 11620 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:04:12.292  INFO 11620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:04:12.292  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 09:04:12.292 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 09:04:12.293 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 09:04:12.293 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:04:12.294 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 09:04:12.295 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 5
2024-04-07 09:04:12.296 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:04:12.296 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:04:12.296 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 09:04:12.297  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 09:04:12.297  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:04:12.298 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:04:12.298 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:04:12.298 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 09:04:12.302 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:04:12.302 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:04:12.302 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 09:04:12.304 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:04:12.305 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:04:12.305 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 09:04:12.307 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:04:12.308 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:04:12.308 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 09:04:12.311 DEBUG 11620 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:04:12.312  INFO 11620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 09:04:12.312  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:04:12.312  INFO 11620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:04:12.312 DEBUG 11620 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 09:04:12.313 DEBUG 11620 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 09:04:12.314 DEBUG 11620 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 0
2024-04-07 09:04:12.314  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : []
2024-04-07 09:04:12.314  INFO 11620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:04:39.747 DEBUG 11620 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : ==>  Preparing: select * from t_friend where (user1username = ? and user2username = ?) or (user1username = ? and user2username = ?)
2024-04-07 09:04:39.748 DEBUG 11620 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 09:04:39.749 DEBUG 11620 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.isFriendByName  : <==      Total: 1
2024-04-07 09:04:39.749 DEBUG 11620 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-04-07 09:04:39.752 DEBUG 11620 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), test(String), 1(String), 2024-04-07 09:04:39.678(Timestamp), false(Boolean), true(Boolean)
2024-04-07 09:04:39.835 DEBUG 11620 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-04-07 09:05:08.251  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@110e0808, org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:05:08.252 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:05:08.253 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 09:05:08.254 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:05:08.255 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 09:05:08.255 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 09:05:08.257 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 09:05:08.257  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 09:05:08.257  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:05:08.445  INFO 11620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@9b21242]}
2024-04-07 09:05:08.446  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 09:05:08.446 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 09:05:08.446 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:05:08.446 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 09:05:08.446 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 09:05:08.448 DEBUG 11620 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:05:08.449  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 09:05:08.449  INFO 11620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:05:08.450 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 09:05:08.450 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:05:08.450 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 09:05:08.455 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:05:08.456 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:05:08.457 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 09:05:08.460 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:05:08.460 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:05:08.461 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 09:05:08.463 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:05:08.464 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:05:08.464 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 09:05:08.466 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:05:08.468 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:05:08.468 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 09:05:08.469 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:05:08.469 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:05:08.470 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 09:05:08.472 DEBUG 11620 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:05:08.472  INFO 11620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=61, sendTime=Sun Apr 07 09:04:40 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 09:05:08.473  INFO 11620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:07:15.698  INFO 11620 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 09:07:15.701  INFO 11620 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 09:07:15.706  INFO 11620 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 09:07:18.534  INFO 32636 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 32636 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 09:07:18.535 DEBUG 32636 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 09:07:18.535  INFO 32636 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 09:07:18.558  INFO 32636 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 09:07:18.559  INFO 32636 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 09:07:18.989  INFO 32636 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 09:07:19.048  INFO 32636 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2024-04-07 09:07:19.487  INFO 32636 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 09:07:19.494  INFO 32636 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 09:07:19.496  INFO 32636 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 09:07:19.557  INFO 32636 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 09:07:19.557  INFO 32636 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 998 ms
2024-04-07 09:07:19.668  INFO 32636 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 09:07:19.692  INFO 32636 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 09:07:19.776  INFO 32636 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 09:07:19.830  INFO 32636 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 09:07:20.039  INFO 32636 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 09:07:20.049  INFO 32636 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 09:07:20.551  INFO 32636 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 09:07:20.556  INFO 32636 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 09:07:21.290  WARN 32636 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 09:07:21.458  INFO 32636 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 09:07:21.738  INFO 32636 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 09:07:21.772  INFO 32636 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 09:07:21.779  INFO 32636 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.567 seconds (JVM running for 4.378)
2024-04-07 09:07:39.372  INFO 32636 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 09:07:39.375  INFO 32636 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 09:07:39.385  INFO 32636 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 09:32:41.267  INFO 32020 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 32020 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 09:32:41.268 DEBUG 32020 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 09:32:41.268  INFO 32020 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 09:32:41.289  INFO 32020 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 09:32:41.289  INFO 32020 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 09:32:41.725  INFO 32020 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 09:32:41.776  INFO 32020 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2024-04-07 09:32:42.167  INFO 32020 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 09:32:42.173  INFO 32020 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 09:32:42.173  INFO 32020 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 09:32:42.230  INFO 32020 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 09:32:42.230  INFO 32020 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 940 ms
2024-04-07 09:32:42.326  INFO 32020 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 09:32:42.345  INFO 32020 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 09:32:42.416  INFO 32020 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 09:32:42.471  INFO 32020 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 09:32:42.673  INFO 32020 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 09:32:42.686  INFO 32020 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 09:32:43.219  INFO 32020 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 09:32:43.225  INFO 32020 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 09:32:43.949  WARN 32020 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 09:32:44.117  INFO 32020 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 09:32:44.372  INFO 32020 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 09:32:44.403  INFO 32020 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 09:32:44.414  INFO 32020 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.458 seconds (JVM running for 4.256)
2024-04-07 09:33:05.342  INFO 32020 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 09:33:05.343  INFO 32020 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 09:33:05.344  INFO 32020 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 09:33:05.911  INFO 32020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 09:33:05.925  INFO 32020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 09:33:05.925  INFO 32020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:06.244  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2a269f2, org.apache.catalina.connector.ResponseFacade@2d884da2]}
2024-04-07 09:33:06.535  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 09:33:06.535  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:10.261  INFO 32020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@2d884da2, hyf, hyfhsy, krk7, org.apache.catalina.session.StandardSessionFacade@61a04136, {}]}
2024-04-07 09:33:10.294 DEBUG 32020 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 09:33:10.300 DEBUG 32020 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 09:33:10.312 DEBUG 32020 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 09:33:10.319  INFO 32020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 09:33:10.319  INFO 32020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:10.341  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 09:33:10.421  WARN 32020 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 09:33:10.436  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 09:33:10.436  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.179  INFO 32020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 09:33:13.185  INFO 32020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 09:33:13.185  INFO 32020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.318  INFO 32020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:13.320 DEBUG 32020 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 09:33:13.321 DEBUG 32020 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 09:33:13.323 DEBUG 32020 --- [http-nio-8080-exec-2] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 09:33:13.325  INFO 32020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 09:33:13.332  INFO 32020 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.402  INFO 32020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:13.403 DEBUG 32020 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 09:33:13.403 DEBUG 32020 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 09:33:13.405 DEBUG 32020 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 09:33:13.405  INFO 32020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 09:33:13.415  INFO 32020 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.485  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:13.487 DEBUG 32020 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 09:33:13.487 DEBUG 32020 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 09:33:13.489 DEBUG 32020 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 09:33:13.489  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 09:33:13.490  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.503  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:13.504 DEBUG 32020 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 09:33:13.505 DEBUG 32020 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 09:33:13.507 DEBUG 32020 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 09:33:13.508  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 09:33:13.508  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.518  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:13.519 DEBUG 32020 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 09:33:13.519 DEBUG 32020 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:33:13.524 DEBUG 32020 --- [http-nio-8080-exec-6] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 09:33:13.524  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=null, count=3)
2024-04-07 09:33:13.524  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.533  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:13.534 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 09:33:13.534 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:33:13.535 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 09:33:13.535  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 09:33:13.535  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:13.547  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:13.549 DEBUG 32020 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 09:33:13.549 DEBUG 32020 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 09:33:13.552 DEBUG 32020 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 09:33:13.552  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 09:33:13.553  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:17.793  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[7, {}, org.apache.catalina.connector.ResponseFacade@9cc81e7, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:17.796 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:33:17.796 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 7(Long)
2024-04-07 09:33:17.797 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:33:17.798 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 09:33:17.799 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 7(Long), 1(Long), 1(Long), 7(Long)
2024-04-07 09:33:17.800 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 09:33:17.801  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 09:33:17.801  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:17.958  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:17.958  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[test]}
2024-04-07 09:33:17.959 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:17.959 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 09:33:17.960 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 09:33:17.960 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 09:33:17.961 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:17.962  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 7
2024-04-07 09:33:17.962  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:17.964 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 09:33:17.965 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:17.965 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 09:33:17.967 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:17.968 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:17.969 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 09:33:17.972 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:17.973 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:17.974 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 09:33:17.976 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:17.976  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/test', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[test, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:17.977 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:17.977 DEBUG 32020 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 09:33:17.978 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 09:33:17.978 DEBUG 32020 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: test(String), hyf(String), hyf(String), test(String)
2024-04-07 09:33:17.980 DEBUG 32020 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-04-07 09:33:17.980 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:17.983 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:17.984 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 09:33:17.988 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:17.983  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=1, sendTime=Sun Apr 07 09:04:40 CST 2024)]
2024-04-07 09:33:17.988 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:17.989  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:17.989 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 09:33:17.991 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:17.991  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=61, sendTime=Sun Apr 07 09:04:40 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 09:33:18.002  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:45.059  INFO 32020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[5, {}, org.apache.catalina.connector.ResponseFacade@2223f125, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:45.061 DEBUG 32020 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:33:45.061 DEBUG 32020 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 5(Long)
2024-04-07 09:33:45.063 DEBUG 32020 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:33:45.063 DEBUG 32020 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 09:33:45.064 DEBUG 32020 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 5(Long), 1(Long), 1(Long), 5(Long)
2024-04-07 09:33:45.065 DEBUG 32020 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 09:33:45.065  INFO 32020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 09:33:45.065  INFO 32020 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:45.219  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:45.220  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 09:33:45.220 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 09:33:45.221 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:45.221 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 09:33:45.221 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 09:33:45.223 DEBUG 32020 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:45.224 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 09:33:45.224  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 09:33:45.224  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:45.224 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:45.225 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 09:33:45.227 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:45.227 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:45.227 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 09:33:45.230 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:45.231 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:45.232 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 09:33:45.234 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:45.235 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:45.235 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 09:33:45.237 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:45.238 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:45.238 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 09:33:45.243 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:45.244 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:45.244 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 09:33:45.246 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:45.247  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=61, sendTime=Sun Apr 07 09:04:40 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 09:33:45.247  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:45.250  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:45.250 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 09:33:45.251 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 09:33:45.253 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 09:33:45.255  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 09:33:45.262  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:48.208  INFO 32020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[5, {}, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:48.212 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findView        : ==>  Preparing: select * from t_view where viewer_id = ? and viewed_id = ?
2024-04-07 09:33:48.212 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findView        : ==> Parameters: 1(Long), 5(Long)
2024-04-07 09:33:48.213 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findView        : <==      Total: 0
2024-04-07 09:33:48.214 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.addAboutView    : ==>  Preparing: insert into t_view(viewer_id, viewed_id, count) values (?, ?, 1)
2024-04-07 09:33:48.214 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.addAboutView    : ==> Parameters: 1(Long), 5(Long)
2024-04-07 09:33:48.320 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.addAboutView    : <==    Updates: 1
2024-04-07 09:33:48.321 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:33:48.321 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 5(Long)
2024-04-07 09:33:48.322 DEBUG 32020 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:33:48.323 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 09:33:48.323 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 5(Long), 5(Long)
2024-04-07 09:33:48.325 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.F.findJoinForumsByUserId           : <==      Total: 0
2024-04-07 09:33:48.357 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 09:33:48.358 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.C.collectionBlogList               : ==> Parameters: 5(Long)
2024-04-07 09:33:48.359 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.C.collectionBlogList               : <==      Total: 0
2024-04-07 09:33:48.361 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 09:33:48.361 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.C.collectionRecourseList           : ==> Parameters: 5(Long)
2024-04-07 09:33:48.362 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.C.collectionRecourseList           : <==      Total: 0
2024-04-07 09:33:48.362  INFO 32020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-07 09:33:48.362  INFO 32020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:58.796  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[4, {}, org.apache.catalina.connector.ResponseFacade@9cc81e7, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:58.797 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:33:58.797 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 4(Long)
2024-04-07 09:33:58.798 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:33:58.799 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 09:33:58.799 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 4(Long), 1(Long), 1(Long), 4(Long)
2024-04-07 09:33:58.801 DEBUG 32020 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 1
2024-04-07 09:33:58.801  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 09:33:58.801  INFO 32020 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:58.952  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:58.952  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[root]}
2024-04-07 09:33:58.952 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 09:33:58.953 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 09:33:58.953 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:58.953 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 09:33:58.954 DEBUG 32020 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:58.955  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 4
2024-04-07 09:33:58.955  INFO 32020 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:58.956 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 09:33:58.957 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:58.957 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 09:33:58.958 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:58.959 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:58.960 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 09:33:58.962 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:58.963 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:58.963 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 09:33:58.965 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:58.966 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:58.966 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 09:33:58.968 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:58.969 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:58.969 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 09:33:58.970  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:33:58.970 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:58.971 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 09:33:58.971 DEBUG 32020 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 09:33:58.971 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 09:33:58.971 DEBUG 32020 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-04-07 09:33:58.972 DEBUG 32020 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 09:33:58.973 DEBUG 32020 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-04-07 09:33:58.973  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=nice！成功了, sendTime=Fri Mar 29 15:19:13 CST 2024)]
2024-04-07 09:33:58.973  INFO 32020 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:33:58.973  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=61, sendTime=Sun Apr 07 09:04:40 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 09:33:58.974  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:34:00.248  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[4, {}, org.apache.catalina.session.StandardSessionFacade@61a04136]}
2024-04-07 09:34:00.250 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findView        : ==>  Preparing: select * from t_view where viewer_id = ? and viewed_id = ?
2024-04-07 09:34:00.251 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findView        : ==> Parameters: 1(Long), 4(Long)
2024-04-07 09:34:00.252 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findView        : <==      Total: 1
2024-04-07 09:34:00.252 DEBUG 32020 --- [http-nio-8080-exec-1] c.jxufe.dao.UserMapper.updateAboutView   : ==>  Preparing: update t_view set count = count + 1 where viewer_id = ? and viewed_id = ?
2024-04-07 09:34:00.253 DEBUG 32020 --- [http-nio-8080-exec-1] c.jxufe.dao.UserMapper.updateAboutView   : ==> Parameters: 1(Long), 4(Long)
2024-04-07 09:34:00.347 DEBUG 32020 --- [http-nio-8080-exec-1] c.jxufe.dao.UserMapper.updateAboutView   : <==    Updates: 1
2024-04-07 09:34:00.347 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:34:00.348 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 4(Long)
2024-04-07 09:34:00.348 DEBUG 32020 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:34:00.350 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 09:34:00.351 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 4(Long), 4(Long)
2024-04-07 09:34:00.352 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : <==      Total: 1
2024-04-07 09:34:00.355 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 09:34:00.355 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==> Parameters: 4(Long)
2024-04-07 09:34:00.356 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 09:34:00.357 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 09:34:00.357 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : ==> Parameters: 4(Long)
2024-04-07 09:34:00.358 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : <==      Total: 0
2024-04-07 09:34:00.358  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-07 09:34:00.358  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:37:28.666  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum/fblog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserFblog', args=[Page request [number: 0, size 999, sort: updateTime: DESC], 1, org.apache.catalina.connector.RequestFacade@2a269f2, {}]}
2024-04-07 09:37:28.670 DEBUG 32020 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 09:37:28.671 DEBUG 32020 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 09:37:28.671 DEBUG 32020 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 09:37:28.686  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_fblog
2024-04-07 09:37:28.687  INFO 32020 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:37:32.228  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/21', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[21, {}, org.apache.catalina.connector.RequestFacade@67f0767c]}
2024-04-07 09:37:32.322 DEBUG 32020 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 09:37:32.322 DEBUG 32020 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 21(Long)
2024-04-07 09:37:32.324 DEBUG 32020 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 09:37:32.324  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 09:37:32.324  INFO 32020 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:37:47.247  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/21', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[21, {}, org.apache.catalina.connector.RequestFacade@1dcd3570]}
2024-04-07 09:37:47.311 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 09:37:47.311 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 21(Long)
2024-04-07 09:37:47.312 DEBUG 32020 --- [http-nio-8080-exec-1] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 09:37:47.312  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 09:37:47.312  INFO 32020 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:37:51.656  INFO 32020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/16', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[16, {}, org.apache.catalina.connector.RequestFacade@1dcd3570]}
2024-04-07 09:37:51.679 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 09:37:51.680 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 16(Long)
2024-04-07 09:37:51.680 DEBUG 32020 --- [http-nio-8080-exec-10] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 09:37:51.681  INFO 32020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 09:37:51.681  INFO 32020 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:39:07.161  INFO 32020 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 09:39:07.163  INFO 32020 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 09:39:07.173  INFO 32020 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 09:53:18.926  INFO 1316 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 1316 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 09:53:18.926 DEBUG 1316 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 09:53:18.926  INFO 1316 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 09:53:18.949  INFO 1316 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 09:53:18.949  INFO 1316 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 09:53:19.370  INFO 1316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 09:53:19.422  INFO 1316 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2024-04-07 09:53:19.838  INFO 1316 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 09:53:19.845  INFO 1316 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 09:53:19.845  INFO 1316 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 09:53:19.903  INFO 1316 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 09:53:19.903  INFO 1316 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 953 ms
2024-04-07 09:53:20.006  INFO 1316 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 09:53:20.028  INFO 1316 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 09:53:20.107  INFO 1316 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 09:53:20.162  INFO 1316 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 09:53:20.350  INFO 1316 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 09:53:20.361  INFO 1316 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 09:53:20.920  INFO 1316 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 09:53:20.925  INFO 1316 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 09:53:21.647  WARN 1316 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 09:53:21.812  INFO 1316 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 09:53:22.082  INFO 1316 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 09:53:22.115  INFO 1316 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 09:53:22.123  INFO 1316 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.511 seconds (JVM running for 4.241)
2024-04-07 09:53:33.512  INFO 1316 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 09:53:33.513  INFO 1316 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 09:53:33.515  INFO 1316 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-07 09:53:33.548  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@35f915ad]}
2024-04-07 09:53:33.652  WARN 1316 --- [http-nio-8080-exec-1] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 09:53:33.663  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : index
2024-04-07 09:53:33.663  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:53:43.552  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 09:53:43.554  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 09:53:43.555  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:53:43.609  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2dabb16a, org.apache.catalina.connector.ResponseFacade@1e24d4e]}
2024-04-07 09:53:43.906  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 09:53:43.906  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:53:48.006  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@1e24d4e, hyf, hyfhsy, uhpi, org.apache.catalina.session.StandardSessionFacade@13ba32c8, {}]}
2024-04-07 09:53:48.028 DEBUG 1316 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 09:53:48.035 DEBUG 1316 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 09:53:48.043 DEBUG 1316 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 09:53:48.047  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-04-07 09:53:48.047  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:53:48.064  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 09:53:48.083  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 09:53:48.083  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:53:49.768  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8, {}]}
2024-04-07 09:53:49.772 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:53:49.772 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 09:53:49.774 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:53:49.776  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 09:53:49.776  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:54:51.607  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ArchivesController.archives', args=[{}, org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:54:51.646  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : archives
2024-04-07 09:54:51.646  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:55:19.904  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/fblog/edit/21', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doEditBlog', args=[21, {}]}
2024-04-07 09:55:19.917 DEBUG 1316 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 09:55:19.917 DEBUG 1316 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 09:55:19.919 DEBUG 1316 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 09:55:19.925  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : fblog-input
2024-04-07 09:55:19.925  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:55:45.067  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/fblog/input/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doWriteBlog', args=[Blog{id=21, title='SpringBoot 获取 Request', content='SpringBoot 随时随地获取Request', firstPicture='https://d29fhpw069ctt2.cloudfront.net/photo/thumb/34978/pfHrY2VQaGJuCsrFljKy_IMG_0257.JPG', views=null, published=true, createTime=null, updateTime=null, description='获取request的三种方式：可以封装为静态方法； controller的方法里面； 通过@Autorise直接注入', tag=Tag{id=1, name='null'}, forum=Forum{id=1, forumName='null', peopleNumber=null, blogNumber=null, popular=null, promotionalImage='null', description='null'}, user=null, comments=[]}, org.apache.catalina.session.StandardSessionFacade@13ba32c8, org.apache.catalina.connector.ResponseFacade@58aff9df]}
2024-04-07 09:55:45.124 DEBUG 1316 --- [http-nio-8080-exec-9] c.j.d.C.updateCollectionByBlog           : ==>  Preparing: update t_collection set blog_title = ? where blog_id = ?
2024-04-07 09:55:45.125 DEBUG 1316 --- [http-nio-8080-exec-9] c.j.d.C.updateCollectionByBlog           : ==> Parameters: SpringBoot 获取 Request(String), 21(Long)
2024-04-07 09:55:45.138 DEBUG 1316 --- [http-nio-8080-exec-9] c.j.d.C.updateCollectionByBlog           : <==    Updates: 1
2024-04-07 09:55:45.139  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 09:55:45.139  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:55:45.148  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/21', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[21, {}, org.apache.catalina.connector.RequestFacade@4dbf5413]}
2024-04-07 09:55:45.205 DEBUG 1316 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 09:55:45.207 DEBUG 1316 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 21(Long)
2024-04-07 09:55:45.207 DEBUG 1316 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 09:55:45.207  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 09:55:45.207  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:14.840  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_search', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserSearch', args=[Page request [number: 0, size 10, sort: updateTime: DESC], 江西财经大学, {}, org.apache.catalina.connector.RequestFacade@3902d812]}
2024-04-07 09:56:14.847  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_search
2024-04-07 09:56:14.847  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:27.952  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:27.954 DEBUG 1316 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 09:56:27.955 DEBUG 1316 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 09:56:27.957 DEBUG 1316 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 6
2024-04-07 09:56:27.958  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 09:56:27.960  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.571  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 09:56:32.572  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 09:56:32.572  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.690  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:32.691 DEBUG 1316 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 09:56:32.693 DEBUG 1316 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 09:56:32.696 DEBUG 1316 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 09:56:32.697  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 09:56:32.697  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.712  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:32.713 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 09:56:32.713 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 09:56:32.716 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 09:56:32.717  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 09:56:32.725  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.749  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:32.750 DEBUG 1316 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 09:56:32.750 DEBUG 1316 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 09:56:32.752 DEBUG 1316 --- [http-nio-8080-exec-9] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 09:56:32.753  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 09:56:32.753  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.798  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:32.798 DEBUG 1316 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 09:56:32.800 DEBUG 1316 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 09:56:32.801 DEBUG 1316 --- [http-nio-8080-exec-7] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 09:56:32.801  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 09:56:32.801  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.811  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:32.811 DEBUG 1316 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 09:56:32.812 DEBUG 1316 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:56:32.814 DEBUG 1316 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 09:56:32.814  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=null, count=3)
2024-04-07 09:56:32.814  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.826  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:32.826 DEBUG 1316 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 09:56:32.827 DEBUG 1316 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:56:32.828 DEBUG 1316 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 09:56:32.828  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 09:56:32.828  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:32.839  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:32.840 DEBUG 1316 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 09:56:32.840 DEBUG 1316 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 09:56:32.843 DEBUG 1316 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 09:56:32.844  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 09:56:32.844  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:35.261  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:35.262 DEBUG 1316 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 09:56:35.262 DEBUG 1316 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 09:56:35.264 DEBUG 1316 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 6
2024-04-07 09:56:35.264  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 09:56:35.265  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:43.841  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[6, {}, org.apache.catalina.connector.ResponseFacade@78b7e855, org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:43.846 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 09:56:43.846 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 6(Long)
2024-04-07 09:56:43.847 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 09:56:43.848 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 09:56:43.849 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 6(Long), 1(Long), 1(Long), 6(Long)
2024-04-07 09:56:43.849 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 0
2024-04-07 09:56:43.851  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 09:56:43.852  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.115  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 09:56:47.115  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 09:56:47.115  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.273  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:47.274 DEBUG 1316 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 09:56:47.274 DEBUG 1316 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 09:56:47.276 DEBUG 1316 --- [http-nio-8080-exec-5] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 09:56:47.277  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 09:56:47.277  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.298  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:47.298 DEBUG 1316 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 09:56:47.300 DEBUG 1316 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 09:56:47.301 DEBUG 1316 --- [http-nio-8080-exec-2] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 09:56:47.301  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 09:56:47.301  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.333  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:47.333 DEBUG 1316 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 09:56:47.334 DEBUG 1316 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 09:56:47.335 DEBUG 1316 --- [http-nio-8080-exec-3] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 09:56:47.335  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 09:56:47.335  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.373  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:47.373 DEBUG 1316 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 09:56:47.373 DEBUG 1316 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 09:56:47.374 DEBUG 1316 --- [http-nio-8080-exec-8] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 09:56:47.375  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 09:56:47.375  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.410  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:47.411 DEBUG 1316 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 09:56:47.411 DEBUG 1316 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:56:47.413 DEBUG 1316 --- [http-nio-8080-exec-1] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 09:56:47.413  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=null, count=3)
2024-04-07 09:56:47.413  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.426  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:47.426 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 09:56:47.427 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 09:56:47.428 DEBUG 1316 --- [http-nio-8080-exec-4] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 09:56:47.428  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 09:56:47.428  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:47.436  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:47.437 DEBUG 1316 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 09:56:47.437 DEBUG 1316 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 09:56:47.440 DEBUG 1316 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 09:56:47.440  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 09:56:47.440  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 09:56:51.354  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 09:56:51.355 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 09:56:51.355 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 09:56:51.356 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 6
2024-04-07 09:56:51.357  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 09:56:51.357  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:48.009  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:48.010 DEBUG 1316 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 10:02:48.011 DEBUG 1316 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 10:02:48.012 DEBUG 1316 --- [http-nio-8080-exec-5] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 6
2024-04-07 10:02:48.012  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 10:02:48.013  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:56.280  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecordToUser', args=[6, {}, org.apache.catalina.connector.ResponseFacade@6f45e1a2, org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:56.281 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 10:02:56.283 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 6(Long)
2024-04-07 10:02:56.284 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 10:02:56.285 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==>  Preparing: select * from t_friend where (user1id = ? and user2id = ?) or (user1id = ? and user2id = ?)
2024-04-07 10:02:56.285 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : ==> Parameters: 6(Long), 1(Long), 1(Long), 6(Long)
2024-04-07 10:02:56.286 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.isFriend      : <==      Total: 0
2024-04-07 10:02:56.286  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 10:02:56.286  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.545  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 10:02:57.545  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 10:02:57.545  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.716  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:57.717 DEBUG 1316 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 10:02:57.717 DEBUG 1316 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 10:02:57.719 DEBUG 1316 --- [http-nio-8080-exec-4] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 10:02:57.719  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 10:02:57.720  INFO 1316 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.741  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:57.741 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 10:02:57.741 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 10:02:57.744 DEBUG 1316 --- [http-nio-8080-exec-6] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 10:02:57.744  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 10:02:57.744  INFO 1316 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.784  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:57.785 DEBUG 1316 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 10:02:57.785 DEBUG 1316 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 10:02:57.788 DEBUG 1316 --- [http-nio-8080-exec-5] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 10:02:57.788  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 10:02:57.788  INFO 1316 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.825  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:57.825 DEBUG 1316 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 10:02:57.826 DEBUG 1316 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 10:02:57.827 DEBUG 1316 --- [http-nio-8080-exec-10] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 10:02:57.827  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 10:02:57.828  INFO 1316 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.865  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:57.866 DEBUG 1316 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 10:02:57.866 DEBUG 1316 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 10:02:57.868 DEBUG 1316 --- [http-nio-8080-exec-7] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 10:02:57.869  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=null, count=3)
2024-04-07 10:02:57.869  INFO 1316 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.884  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:57.885 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 10:02:57.886 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 10:02:57.887 DEBUG 1316 --- [http-nio-8080-exec-9] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 10:02:57.888  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 10:02:57.888  INFO 1316 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:02:57.896  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:02:57.897 DEBUG 1316 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 10:02:57.898 DEBUG 1316 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 10:02:57.900 DEBUG 1316 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 10:02:57.900  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 10:02:57.900  INFO 1316 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:03:06.439  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:03:06.440 DEBUG 1316 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 10:03:06.441 DEBUG 1316 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 10:03:06.443 DEBUG 1316 --- [http-nio-8080-exec-8] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 6
2024-04-07 10:03:06.443  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 10:03:06.444  INFO 1316 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:03:12.830  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/often', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendsOften', args=[org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:03:12.831 DEBUG 1316 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : ==>  Preparing: SELECT u.id user_id, u.description, u.username, u.nickname, u.avatar FROM t_user u JOIN (SELECT sender_username, recipient_username, COUNT(*) AS recent_chat_count FROM t_chat WHERE sender_username = ? AND send_time >= CURDATE() - INTERVAL 30 DAY GROUP BY sender_username, recipient_username ORDER BY recent_chat_count DESC) c WHERE c.recipient_username = u.username;
2024-04-07 10:03:12.832 DEBUG 1316 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : ==> Parameters: hyf(String)
2024-04-07 10:03:12.833 DEBUG 1316 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.friendsOften  : <==      Total: 6
2024-04-07 10:03:12.833  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=6, username=xzl, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=我是一只猫, nickname=Solar), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 10:03:12.833  INFO 1316 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:03:14.919  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/userOtherAbout/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doUserOtherAbout', args=[6, {}, org.apache.catalina.session.StandardSessionFacade@13ba32c8]}
2024-04-07 10:03:14.921 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findView        : ==>  Preparing: select * from t_view where viewer_id = ? and viewed_id = ?
2024-04-07 10:03:14.922 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findView        : ==> Parameters: 1(Long), 6(Long)
2024-04-07 10:03:14.922 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findView        : <==      Total: 0
2024-04-07 10:03:14.923 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.addAboutView    : ==>  Preparing: insert into t_view(viewer_id, viewed_id, count) values (?, ?, 1)
2024-04-07 10:03:14.923 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.addAboutView    : ==> Parameters: 1(Long), 6(Long)
2024-04-07 10:03:14.994 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.addAboutView    : <==    Updates: 1
2024-04-07 10:03:14.995 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 10:03:14.995 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 6(Long)
2024-04-07 10:03:14.997 DEBUG 1316 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 10:03:14.998 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 10:03:14.998 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 6(Long), 6(Long)
2024-04-07 10:03:14.999 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : <==      Total: 0
2024-04-07 10:03:15.002 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 10:03:15.002 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==> Parameters: 6(Long)
2024-04-07 10:03:15.004 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : <==      Total: 0
2024-04-07 10:03:15.004 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 10:03:15.005 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : ==> Parameters: 6(Long)
2024-04-07 10:03:15.006 DEBUG 1316 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : <==      Total: 0
2024-04-07 10:03:15.006  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_other_about
2024-04-07 10:03:15.006  INFO 1316 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:08:22.656  INFO 1316 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 10:08:22.660  INFO 1316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 10:08:22.671  INFO 1316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 10:56:12.434  INFO 34496 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 34496 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 10:56:12.434 DEBUG 34496 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 10:56:12.435  INFO 34496 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 10:56:12.456  INFO 34496 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 10:56:12.456  INFO 34496 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 10:56:12.883  INFO 34496 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 10:56:12.938  INFO 34496 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-04-07 10:56:13.356  INFO 34496 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 10:56:13.364  INFO 34496 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 10:56:13.364  INFO 34496 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 10:56:13.420  INFO 34496 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 10:56:13.421  INFO 34496 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 965 ms
2024-04-07 10:56:13.530  INFO 34496 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 10:56:13.555  INFO 34496 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 10:56:13.632  INFO 34496 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 10:56:13.686  INFO 34496 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 10:56:13.877  INFO 34496 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 10:56:13.889  INFO 34496 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 10:56:14.401  INFO 34496 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 10:56:14.407  INFO 34496 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 10:56:15.111  WARN 34496 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 10:56:15.289  INFO 34496 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 10:56:15.570  INFO 34496 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 10:56:15.601  INFO 34496 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 10:56:15.608  INFO 34496 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.466 seconds (JVM running for 4.255)
2024-04-07 10:56:22.529  INFO 34496 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 10:56:22.530  INFO 34496 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 10:56:22.531  INFO 34496 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 10:56:22.567  INFO 34496 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@3ca9a271]}
2024-04-07 10:56:22.862  WARN 34496 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [279] milliseconds.
2024-04-07 10:56:22.946  WARN 34496 --- [http-nio-8080-exec-1] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 10:56:22.959  INFO 34496 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : index
2024-04-07 10:56:22.959  INFO 34496 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:56:48.126  INFO 34496 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@79059533, {}]}
2024-04-07 10:56:48.149 DEBUG 34496 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 10:56:48.157 DEBUG 34496 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 10:56:48.166 DEBUG 34496 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 10:56:48.206  INFO 34496 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 10:56:48.207  INFO 34496 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:57:03.739  INFO 34496 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@11f99459, {}]}
2024-04-07 10:57:03.741 DEBUG 34496 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 10:57:03.741 DEBUG 34496 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 10:57:03.744 DEBUG 34496 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 10:57:03.756  INFO 34496 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 10:57:03.756  INFO 34496 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 10:59:37.981  INFO 34496 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@11f99459]}
2024-04-07 10:59:37.993  INFO 34496 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : types
2024-04-07 10:59:37.993  INFO 34496 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:03:37.661  INFO 34496 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@3ca9a271, {}]}
2024-04-07 11:03:37.662 DEBUG 34496 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:03:37.663 DEBUG 34496 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:03:37.664 DEBUG 34496 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:03:37.669  INFO 34496 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:03:37.670  INFO 34496 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:03:39.564  INFO 34496 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 3, org.apache.catalina.connector.RequestFacade@9452056, {}]}
2024-04-07 11:03:39.564 DEBUG 34496 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:03:39.564 DEBUG 34496 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:03:39.566 DEBUG 34496 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:03:39.574  INFO 34496 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:03:39.575  INFO 34496 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:03:42.025  INFO 34496 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@47e9a3f1, {}]}
2024-04-07 11:03:42.026 DEBUG 34496 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:03:42.027 DEBUG 34496 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:03:42.028 DEBUG 34496 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:03:42.035  INFO 34496 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:03:42.035  INFO 34496 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:05:16.662  INFO 34496 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doForum', args=[org.apache.catalina.connector.RequestFacade@11f99459, {}]}
2024-04-07 11:05:16.665 DEBUG 34496 --- [http-nio-8080-exec-10] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:05:16.665 DEBUG 34496 --- [http-nio-8080-exec-10] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:05:16.669 DEBUG 34496 --- [http-nio-8080-exec-10] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:05:16.673  INFO 34496 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : forum
2024-04-07 11:05:16.673  INFO 34496 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:05:18.817  INFO 34496 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblog', args=[Page request [number: 0, size 999, sort: updateTime: DESC], 6, org.apache.catalina.connector.RequestFacade@47e9a3f1, {}]}
2024-04-07 11:05:18.818 DEBUG 34496 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:05:18.819 DEBUG 34496 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 6(Integer)
2024-04-07 11:05:18.820 DEBUG 34496 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:05:18.831  INFO 34496 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : fblog
2024-04-07 11:05:18.832  INFO 34496 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:08:45.489  INFO 34496 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 11:08:45.492  INFO 34496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 11:08:45.501  INFO 34496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 11:08:47.958  INFO 18688 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 18688 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 11:08:47.958 DEBUG 18688 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 11:08:47.959  INFO 18688 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 11:08:47.979  INFO 18688 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 11:08:47.979  INFO 18688 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 11:08:48.390  INFO 18688 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 11:08:48.442  INFO 18688 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2024-04-07 11:08:48.852  INFO 18688 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 11:08:48.858  INFO 18688 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 11:08:48.858  INFO 18688 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 11:08:48.914  INFO 18688 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 11:08:48.915  INFO 18688 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 935 ms
2024-04-07 11:08:49.016  INFO 18688 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 11:08:49.036  INFO 18688 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 11:08:49.110  INFO 18688 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 11:08:49.164  INFO 18688 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 11:08:49.355  INFO 18688 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 11:08:49.368  INFO 18688 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 11:08:49.875  INFO 18688 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 11:08:49.880  INFO 18688 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 11:08:50.614  WARN 18688 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 11:08:50.785  INFO 18688 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 11:08:51.113  INFO 18688 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 11:08:51.149  INFO 18688 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 11:08:51.156  INFO 18688 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.474 seconds (JVM running for 4.137)
2024-04-07 11:09:06.466  INFO 18688 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 11:09:06.467  INFO 18688 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 11:09:06.467  INFO 18688 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-04-07 11:09:06.510  INFO 18688 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@1be057e9, {}]}
2024-04-07 11:09:06.544 DEBUG 18688 --- [http-nio-8080-exec-1] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:09:06.549 DEBUG 18688 --- [http-nio-8080-exec-1] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:09:06.555 DEBUG 18688 --- [http-nio-8080-exec-1] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:09:06.644  INFO 18688 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:09:06.645  INFO 18688 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:09:16.622  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblog', args=[Page request [number: 0, size 999, sort: updateTime: DESC], 6, org.apache.catalina.connector.RequestFacade@4f4c0925, {}]}
2024-04-07 11:09:16.623 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:09:16.624 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 6(Integer)
2024-04-07 11:09:16.625 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:09:16.636  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : fblog
2024-04-07 11:09:16.636  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:09:19.083  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblog', args=[Page request [number: 0, size 999, sort: updateTime: DESC], 6, org.apache.catalina.connector.RequestFacade@212763ac, {}]}
2024-04-07 11:09:19.085 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:09:19.085 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 6(Integer)
2024-04-07 11:09:19.086 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:09:19.101  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : fblog
2024-04-07 11:09:19.101  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:09:36.140  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/blog/16', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doBlogPage', args=[16, {}, org.apache.catalina.connector.RequestFacade@212763ac]}
2024-04-07 11:09:36.301  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : blog
2024-04-07 11:09:36.302  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:09:41.219  INFO 18688 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/otherAbout/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doOtherAbout', args=[1, {}]}
2024-04-07 11:09:41.226 DEBUG 18688 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 11:09:41.226 DEBUG 18688 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 11:09:41.228 DEBUG 18688 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 11:09:41.229 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 11:09:41.229 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 11:09:41.232 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 11:09:41.253 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 11:09:41.254 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 11:09:41.257 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 11:09:41.262 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 11:09:41.262 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 11:09:41.264 DEBUG 18688 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 11:09:41.264  INFO 18688 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : other_about
2024-04-07 11:09:41.264  INFO 18688 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:09:45.577  INFO 18688 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@4dbf5413, {}]}
2024-04-07 11:09:45.578 DEBUG 18688 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:09:45.578 DEBUG 18688 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:09:45.579 DEBUG 18688 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:09:45.589  INFO 18688 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:09:45.589  INFO 18688 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:07.726  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@212763ac, {}]}
2024-04-07 11:10:07.727 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:07.728 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:07.729 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:07.733  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:07.734  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:08.638  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 3, org.apache.catalina.connector.RequestFacade@4dbf5413, {}]}
2024-04-07 11:10:08.639 DEBUG 18688 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:08.639 DEBUG 18688 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:08.640 DEBUG 18688 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:08.650  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:08.650  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:09.881  INFO 18688 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@1be057e9, {}]}
2024-04-07 11:10:09.882 DEBUG 18688 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:09.883 DEBUG 18688 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:09.884 DEBUG 18688 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:09.892  INFO 18688 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:09.892  INFO 18688 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:13.944  INFO 18688 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 4, org.apache.catalina.connector.RequestFacade@8683a7e, {}]}
2024-04-07 11:10:13.945 DEBUG 18688 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:13.946 DEBUG 18688 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:13.947 DEBUG 18688 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:13.955  INFO 18688 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:13.956  INFO 18688 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:17.520  INFO 18688 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/8', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 8, org.apache.catalina.connector.RequestFacade@4f4c0925, {}]}
2024-04-07 11:10:17.522 DEBUG 18688 --- [http-nio-8080-exec-10] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:17.522 DEBUG 18688 --- [http-nio-8080-exec-10] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:17.524 DEBUG 18688 --- [http-nio-8080-exec-10] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:17.529  INFO 18688 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:17.529  INFO 18688 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:19.382  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/9', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 9, org.apache.catalina.connector.RequestFacade@8683a7e, {}]}
2024-04-07 11:10:19.384 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:19.384 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:19.385 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:19.390  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:19.391  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:20.561  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/7', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 7, org.apache.catalina.connector.RequestFacade@1be057e9, {}]}
2024-04-07 11:10:20.563 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:20.563 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:20.565 DEBUG 18688 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:20.570  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:20.570  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:21.491  INFO 18688 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 6, org.apache.catalina.connector.RequestFacade@212763ac, {}]}
2024-04-07 11:10:21.492 DEBUG 18688 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:21.495 DEBUG 18688 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:21.498 DEBUG 18688 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:21.506  INFO 18688 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:21.506  INFO 18688 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:25.696  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@17a01912, {}]}
2024-04-07 11:10:25.697 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:25.697 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:25.698 DEBUG 18688 --- [http-nio-8080-exec-7] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:25.705  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:25.706  INFO 18688 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:30.267  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/blog/21', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doBlogPage', args=[21, {}, org.apache.catalina.connector.RequestFacade@8683a7e]}
2024-04-07 11:10:30.304  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : blog
2024-04-07 11:10:30.305  INFO 18688 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:44.209  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@4f4c0925, {}]}
2024-04-07 11:10:44.211 DEBUG 18688 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:44.211 DEBUG 18688 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:44.212 DEBUG 18688 --- [http-nio-8080-exec-9] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:44.217  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:44.218  INFO 18688 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:10:45.193  INFO 18688 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@17a01912, {}]}
2024-04-07 11:10:45.194 DEBUG 18688 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:10:45.194 DEBUG 18688 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:10:45.196 DEBUG 18688 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:10:45.204  INFO 18688 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:10:45.204  INFO 18688 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:15:55.057  INFO 18688 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@4dbf5413, {}]}
2024-04-07 11:15:55.058 DEBUG 18688 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:15:55.058 DEBUG 18688 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:15:55.059 DEBUG 18688 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:15:55.064  INFO 18688 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:15:55.064  INFO 18688 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:19:04.035  INFO 18688 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 11:19:04.038  INFO 18688 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 11:19:04.046  INFO 18688 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 11:19:07.720  INFO 15976 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 15976 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 11:19:07.721 DEBUG 15976 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 11:19:07.721  INFO 15976 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 11:19:07.742  INFO 15976 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 11:19:07.742  INFO 15976 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 11:19:08.134  INFO 15976 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 11:19:08.179  INFO 15976 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2024-04-07 11:19:08.705  INFO 15976 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 11:19:08.711  INFO 15976 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 11:19:08.712  INFO 15976 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 11:19:08.795  INFO 15976 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 11:19:08.795  INFO 15976 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1053 ms
2024-04-07 11:19:08.945  INFO 15976 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 11:19:08.972  INFO 15976 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 11:19:09.066  INFO 15976 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 11:19:09.127  INFO 15976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 11:19:09.341  INFO 15976 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 11:19:09.353  INFO 15976 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 11:19:09.868  INFO 15976 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 11:19:09.874  INFO 15976 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 11:19:10.566  WARN 15976 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 11:19:10.792  INFO 15976 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 11:19:11.125  INFO 15976 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 11:19:11.161  INFO 15976 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 11:19:11.169  INFO 15976 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.731 seconds (JVM running for 4.51)
2024-04-07 11:19:20.402  INFO 15976 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 11:19:20.403  INFO 15976 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 11:19:20.405  INFO 15976 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-04-07 11:19:20.441  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@26ddcc93, {}]}
2024-04-07 11:19:20.477 DEBUG 15976 --- [http-nio-8080-exec-1] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:19:20.483 DEBUG 15976 --- [http-nio-8080-exec-1] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:19:20.489 DEBUG 15976 --- [http-nio-8080-exec-1] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:19:20.572  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:19:20.573  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:19:24.052  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblog', args=[Page request [number: 0, size 999, sort: updateTime: DESC], 1, org.apache.catalina.connector.RequestFacade@5d53e6e3, {}]}
2024-04-07 11:19:24.054 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:19:24.055 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:19:24.056 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:19:24.080  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : fblog
2024-04-07 11:19:24.081  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:19:29.699  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@4f3cc3f9, {}]}
2024-04-07 11:19:29.700 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:19:29.701 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:19:29.702 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:19:29.715  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:19:29.715  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:20:51.862  INFO 15976 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@5d53e6e3, {}]}
2024-04-07 11:20:51.865 DEBUG 15976 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:20:51.866 DEBUG 15976 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:20:51.867 DEBUG 15976 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:20:51.876  INFO 15976 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:20:51.877  INFO 15976 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:21:44.427  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 2, org.apache.catalina.connector.RequestFacade@2018cef5, {}]}
2024-04-07 11:21:44.428 DEBUG 15976 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:21:44.429 DEBUG 15976 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:21:44.430 DEBUG 15976 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:21:44.435  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:21:44.436  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:21:46.696  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/1/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[1, 1, org.apache.catalina.connector.RequestFacade@4f3cc3f9, {}]}
2024-04-07 11:21:46.699 DEBUG 15976 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:21:46.699 DEBUG 15976 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 11:21:46.701 DEBUG 15976 --- [http-nio-8080-exec-8] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:21:46.709  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:21:46.709  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:21:56.857  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doForum', args=[org.apache.catalina.connector.RequestFacade@5d53e6e3, {}]}
2024-04-07 11:21:56.860 DEBUG 15976 --- [http-nio-8080-exec-8] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:21:56.861 DEBUG 15976 --- [http-nio-8080-exec-8] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:21:56.864 DEBUG 15976 --- [http-nio-8080-exec-8] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:21:56.868  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : forum
2024-04-07 11:21:56.869  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:21:59.034  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblog', args=[Page request [number: 0, size 999, sort: updateTime: DESC], 4, org.apache.catalina.connector.RequestFacade@5d53e6e3, {}]}
2024-04-07 11:21:59.035 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:21:59.035 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 4(Integer)
2024-04-07 11:21:59.036 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:21:59.048  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : fblog
2024-04-07 11:21:59.048  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:23:40.406  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblog', args=[Page request [number: 0, size 999, sort: updateTime: DESC], 2, org.apache.catalina.connector.RequestFacade@4f3cc3f9, {}]}
2024-04-07 11:23:40.407 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:23:40.408 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:23:40.408 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:23:40.417  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : fblog
2024-04-07 11:23:40.418  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:23:42.960  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/2/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[2, 1, org.apache.catalina.connector.RequestFacade@2018cef5, {}]}
2024-04-07 11:23:42.962 DEBUG 15976 --- [http-nio-8080-exec-10] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:23:42.963 DEBUG 15976 --- [http-nio-8080-exec-10] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:23:42.964 DEBUG 15976 --- [http-nio-8080-exec-10] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:23:42.967  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:23:42.967  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:23:44.441  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/2/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[2, 2, org.apache.catalina.connector.RequestFacade@3a818949, {}]}
2024-04-07 11:23:44.442 DEBUG 15976 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:23:44.443 DEBUG 15976 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:23:44.445 DEBUG 15976 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:23:44.454  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:23:44.454  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:23:45.884  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/2/3', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[2, 3, org.apache.catalina.connector.RequestFacade@2018cef5, {}]}
2024-04-07 11:23:45.885 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:23:45.886 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:23:45.886 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:23:45.890  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:23:45.892  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:23:46.758  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/2/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[2, 4, org.apache.catalina.connector.RequestFacade@2018cef5, {}]}
2024-04-07 11:23:46.759 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:23:46.759 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:23:46.760 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:23:46.767  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:23:46.768  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:23:47.791  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/2/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[2, 6, org.apache.catalina.connector.RequestFacade@2018cef5, {}]}
2024-04-07 11:23:47.792 DEBUG 15976 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:23:47.792 DEBUG 15976 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:23:47.793 DEBUG 15976 --- [http-nio-8080-exec-3] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:23:47.802  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:23:47.802  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:23:49.637  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/forum/fblog/2/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doFblogByTag', args=[2, 1, org.apache.catalina.connector.RequestFacade@2018cef5, {}]}
2024-04-07 11:23:49.639 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:23:49.639 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:23:49.640 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:23:49.646  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : fblog_tags
2024-04-07 11:23:49.646  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:25:49.373  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 11:25:49.377  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 11:25:49.377  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:25:49.414  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@5d53e6e3, org.apache.catalina.connector.ResponseFacade@56806bc3]}
2024-04-07 11:25:49.655  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 11:25:49.655  INFO 15976 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:25:52.781  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@56806bc3, hyf, hyfhsy, kgtg, org.apache.catalina.session.StandardSessionFacade@725a708e, {}]}
2024-04-07 11:25:52.787 DEBUG 15976 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 11:25:52.788 DEBUG 15976 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 11:25:52.789 DEBUG 15976 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 11:25:52.793  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_forum/fblog/2/1
2024-04-07 11:25:52.793  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:25:52.808  INFO 15976 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum/fblog/2/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserFblogByTag', args=[2, 1, {}]}
2024-04-07 11:25:52.808 DEBUG 15976 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:25:52.809 DEBUG 15976 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:25:52.810 DEBUG 15976 --- [http-nio-8080-exec-6] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:25:52.813  INFO 15976 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_fblog
2024-04-07 11:25:52.813  INFO 15976 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:25:59.399  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@5d53e6e3]}
2024-04-07 11:25:59.425  WARN 15976 --- [http-nio-8080-exec-2] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 11:25:59.429  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 11:25:59.430  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:26:02.155  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@26ddcc93, {}, org.apache.catalina.session.StandardSessionFacade@725a708e]}
2024-04-07 11:26:02.156 DEBUG 15976 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:26:02.156 DEBUG 15976 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:26:02.157 DEBUG 15976 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:26:02.159 DEBUG 15976 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 11:26:02.160 DEBUG 15976 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 11:26:02.160 DEBUG 15976 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 11:26:02.161 DEBUG 15976 --- [http-nio-8080-exec-4] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 11:26:02.161 DEBUG 15976 --- [http-nio-8080-exec-4] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 11:26:02.161 DEBUG 15976 --- [http-nio-8080-exec-4] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 11:26:02.161  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 11:26:02.162  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:26:18.373  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 11:26:18.383  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 11:26:18.384  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:26:21.155  INFO 15976 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@2018cef5, {}, org.apache.catalina.session.StandardSessionFacade@725a708e]}
2024-04-07 11:26:21.156 DEBUG 15976 --- [http-nio-8080-exec-9] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:26:21.156 DEBUG 15976 --- [http-nio-8080-exec-9] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:26:21.157 DEBUG 15976 --- [http-nio-8080-exec-9] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:26:21.160 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 11:26:21.160 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 11:26:21.161 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 11:26:21.161 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 11:26:21.162 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 11:26:21.162 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 11:26:21.162  INFO 15976 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 11:26:21.162  INFO 15976 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:26:24.441  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 11:26:24.448  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 11:26:24.448  INFO 15976 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:26:26.205  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@4f3cc3f9, {}, org.apache.catalina.session.StandardSessionFacade@725a708e]}
2024-04-07 11:26:26.206 DEBUG 15976 --- [http-nio-8080-exec-2] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:26:26.206 DEBUG 15976 --- [http-nio-8080-exec-2] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:26:26.207 DEBUG 15976 --- [http-nio-8080-exec-2] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:26:26.210 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 11:26:26.210 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 11:26:26.210 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 11:26:26.211 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 11:26:26.211 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 11:26:26.211 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 11:26:26.212  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 11:26:26.212  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:26:28.909  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 11:26:28.917  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 11:26:28.918  INFO 15976 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:26:31.090  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@2018cef5, {}, org.apache.catalina.session.StandardSessionFacade@725a708e]}
2024-04-07 11:26:31.090 DEBUG 15976 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:26:31.092 DEBUG 15976 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:26:31.093 DEBUG 15976 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:26:31.094 DEBUG 15976 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 11:26:31.095 DEBUG 15976 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 11:26:31.095 DEBUG 15976 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 11:26:31.096 DEBUG 15976 --- [http-nio-8080-exec-1] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 11:26:31.096 DEBUG 15976 --- [http-nio-8080-exec-1] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 11:26:31.096 DEBUG 15976 --- [http-nio-8080-exec-1] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 11:26:31.096  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 11:26:31.097  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:27:38.854  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 11:27:38.863  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 11:27:38.863  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:29:07.592  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@4f3cc3f9, {}, org.apache.catalina.session.StandardSessionFacade@725a708e]}
2024-04-07 11:29:07.593 DEBUG 15976 --- [http-nio-8080-exec-2] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:29:07.593 DEBUG 15976 --- [http-nio-8080-exec-2] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:29:07.594 DEBUG 15976 --- [http-nio-8080-exec-2] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:29:07.596 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 11:29:07.596 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 11:29:07.597 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 11:29:07.597 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 11:29:07.597 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 11:29:07.598 DEBUG 15976 --- [http-nio-8080-exec-2] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 11:29:07.598  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 11:29:07.598  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:30:06.287  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@725a708e, {}]}
2024-04-07 11:30:06.289 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 11:30:06.290 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 11:30:06.291 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 11:30:06.291  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 11:30:06.291  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:30:07.451  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ArchivesController.archives', args=[{}, org.apache.catalina.session.StandardSessionFacade@725a708e]}
2024-04-07 11:30:07.461  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : archives
2024-04-07 11:30:07.463  INFO 15976 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:55:57.698  INFO 15976 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@3a818949, {}, org.apache.catalina.session.StandardSessionFacade@725a708e]}
2024-04-07 11:55:57.699 DEBUG 15976 --- [http-nio-8080-exec-9] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 11:55:57.700 DEBUG 15976 --- [http-nio-8080-exec-9] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 11:55:57.701 DEBUG 15976 --- [http-nio-8080-exec-9] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 11:55:57.706 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 11:55:57.706 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 11:55:57.707 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 11:55:57.708 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 11:55:57.708 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 11:55:57.709 DEBUG 15976 --- [http-nio-8080-exec-9] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 11:55:57.709  INFO 15976 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 11:55:57.709  INFO 15976 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:55:59.220  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum/fblog/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserFblog', args=[2, org.apache.catalina.connector.RequestFacade@5d53e6e3, {}]}
2024-04-07 11:55:59.222 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:55:59.223 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:55:59.224 DEBUG 15976 --- [http-nio-8080-exec-2] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:55:59.230  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : 
2024-04-07 11:55:59.230  INFO 15976 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:55:59.237 ERROR 15976 --- [http-nio-8080-exec-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-2] Exception processing template "": Error resolving template [], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2024-04-07 11:55:59.239 ERROR 15976 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/dev] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2024-04-07 11:57:28.336  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum/fblog/2/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserFblogByTag', args=[2, 1, {}]}
2024-04-07 11:57:28.337 DEBUG 15976 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:57:28.338 DEBUG 15976 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:57:28.339 DEBUG 15976 --- [http-nio-8080-exec-5] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:57:28.344  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_fblog
2024-04-07 11:57:28.344  INFO 15976 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 11:57:33.219  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum/fblog/2/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserFblogByTag', args=[2, 2, {}]}
2024-04-07 11:57:33.220 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 11:57:33.220 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 2(Integer)
2024-04-07 11:57:33.221 DEBUG 15976 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 11:57:33.228  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_fblog
2024-04-07 11:57:33.228  INFO 15976 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:00:13.024  INFO 15976 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 12:00:13.027  INFO 15976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 12:00:13.037  INFO 15976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 12:00:16.668  INFO 10248 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 10248 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 12:00:16.669 DEBUG 10248 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 12:00:16.669  INFO 10248 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 12:00:16.695  INFO 10248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 12:00:16.695  INFO 10248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 12:00:17.092  INFO 10248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 12:00:17.139  INFO 10248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2024-04-07 12:00:17.533  INFO 10248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 12:00:17.539  INFO 10248 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 12:00:17.540  INFO 10248 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 12:00:17.591  INFO 10248 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 12:00:17.592  INFO 10248 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 897 ms
2024-04-07 12:00:17.695  INFO 10248 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 12:00:17.716  INFO 10248 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 12:00:17.798  INFO 10248 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 12:00:17.849  INFO 10248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 12:00:18.026  INFO 10248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 12:00:18.037  INFO 10248 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 12:00:18.515  INFO 10248 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 12:00:18.519  INFO 10248 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 12:00:19.162  WARN 10248 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 12:00:19.351  INFO 10248 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 12:00:19.597  INFO 10248 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 12:00:19.627  INFO 10248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 12:00:19.633  INFO 10248 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.247 seconds (JVM running for 3.896)
2024-04-07 12:01:57.098  INFO 10248 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 12:01:57.098  INFO 10248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 12:01:57.099  INFO 10248 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 12:01:57.126  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@607c3a3]}
2024-04-07 12:01:57.199  WARN 10248 --- [http-nio-8080-exec-1] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 12:01:57.208  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : index
2024-04-07 12:01:57.208  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:00.615  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/types/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], 1, {}, org.apache.catalina.connector.RequestFacade@561fea3b]}
2024-04-07 12:02:00.628  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : types
2024-04-07 12:02:00.629  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:02.644  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/types/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], 2, {}, org.apache.catalina.connector.RequestFacade@766f8847]}
2024-04-07 12:02:02.651  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : types
2024-04-07 12:02:02.651  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:04.366  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@561fea3b]}
2024-04-07 12:02:04.374  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : index
2024-04-07 12:02:04.375  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:05.830  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/types/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], 5, {}, org.apache.catalina.connector.RequestFacade@561fea3b]}
2024-04-07 12:02:05.836  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : types
2024-04-07 12:02:05.836  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:23.906  INFO 10248 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 12:02:23.910  INFO 10248 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 12:02:23.910  INFO 10248 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:23.955  INFO 10248 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@561fea3b, org.apache.catalina.connector.ResponseFacade@3d66a2a5]}
2024-04-07 12:02:24.164  INFO 10248 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 12:02:24.164  INFO 10248 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:27.703  INFO 10248 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@3d66a2a5, hyf, hyfhsy, 0tmp, org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:02:27.723 DEBUG 10248 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 12:02:27.727 DEBUG 10248 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 12:02:27.733 DEBUG 10248 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 12:02:27.737  INFO 10248 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_types/5
2024-04-07 12:02:27.737  INFO 10248 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:27.754  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], 5, {}, org.apache.catalina.connector.RequestFacade@561fea3b]}
2024-04-07 12:02:27.758  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 12:02:27.758  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:29.536  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@215dde4b, {}, org.apache.catalina.session.StandardSessionFacade@3716950d]}
2024-04-07 12:02:29.540 DEBUG 10248 --- [http-nio-8080-exec-3] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 12:02:29.540 DEBUG 10248 --- [http-nio-8080-exec-3] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 12:02:29.542 DEBUG 10248 --- [http-nio-8080-exec-3] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 12:02:29.548 DEBUG 10248 --- [http-nio-8080-exec-3] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 12:02:29.548 DEBUG 10248 --- [http-nio-8080-exec-3] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:02:29.549 DEBUG 10248 --- [http-nio-8080-exec-3] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 12:02:29.550 DEBUG 10248 --- [http-nio-8080-exec-3] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 12:02:29.550 DEBUG 10248 --- [http-nio-8080-exec-3] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 12:02:29.551 DEBUG 10248 --- [http-nio-8080-exec-3] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 12:02:29.551  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 12:02:29.551  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:34.438  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 12:02:34.448  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 12:02:34.448  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:02:41.639  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 12:02:41.648  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 12:02:41.649  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:03:44.497  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@607c3a3, {}, org.apache.catalina.session.StandardSessionFacade@3716950d]}
2024-04-07 12:03:44.498 DEBUG 10248 --- [http-nio-8080-exec-8] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 12:03:44.499 DEBUG 10248 --- [http-nio-8080-exec-8] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 12:03:44.502 DEBUG 10248 --- [http-nio-8080-exec-8] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 12:03:44.504 DEBUG 10248 --- [http-nio-8080-exec-8] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 12:03:44.505 DEBUG 10248 --- [http-nio-8080-exec-8] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:03:44.505 DEBUG 10248 --- [http-nio-8080-exec-8] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 12:03:44.506 DEBUG 10248 --- [http-nio-8080-exec-8] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 12:03:44.506 DEBUG 10248 --- [http-nio-8080-exec-8] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 12:03:44.507 DEBUG 10248 --- [http-nio-8080-exec-8] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 12:03:44.507  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 12:03:44.507  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:04:06.813  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@607c3a3]}
2024-04-07 12:04:06.817  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 12:04:06.818  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:04:07.790  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@766f8847, {}, org.apache.catalina.session.StandardSessionFacade@3716950d]}
2024-04-07 12:04:07.791 DEBUG 10248 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 12:04:07.791 DEBUG 10248 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 12:04:07.792 DEBUG 10248 --- [http-nio-8080-exec-1] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 12:04:07.796 DEBUG 10248 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 12:04:07.796 DEBUG 10248 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:04:07.797 DEBUG 10248 --- [http-nio-8080-exec-1] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 12:04:07.797 DEBUG 10248 --- [http-nio-8080-exec-1] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 12:04:07.797 DEBUG 10248 --- [http-nio-8080-exec-1] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 12:04:07.798 DEBUG 10248 --- [http-nio-8080-exec-1] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 12:04:07.798  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 12:04:07.798  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:04:33.098  INFO 10248 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/feedback', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FeedbackController.doFeedback', args=[]}
2024-04-07 12:04:33.100  INFO 10248 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : feedback
2024-04-07 12:04:33.100  INFO 10248 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:04:57.207  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:04:57.211 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:04:57.211 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:04:57.212 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:04:57.212  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:04:57.212  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:04:59.739  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutEdit', args=[]}
2024-04-07 12:04:59.740  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : about_edit
2024-04-07 12:04:59.740  INFO 10248 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:05:39.684  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ArchivesController.archives', args=[{}, org.apache.catalina.session.StandardSessionFacade@3716950d]}
2024-04-07 12:05:39.730  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : archives
2024-04-07 12:05:39.731  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:07:20.242  INFO 10248 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutEdit', args=[]}
2024-04-07 12:07:20.242  INFO 10248 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : about_edit
2024-04-07 12:07:20.242  INFO 10248 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:07:24.562  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/-1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], -1, {}, org.apache.catalina.connector.RequestFacade@215dde4b]}
2024-04-07 12:07:24.567  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 12:07:24.567  INFO 10248 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:07:25.769  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:07:25.770 DEBUG 10248 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:07:25.770 DEBUG 10248 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:07:25.772 DEBUG 10248 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:07:25.772  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:07:25.772  INFO 10248 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:07:45.463  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/detail', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutDetail', args=[]}
2024-04-07 12:07:45.464  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : about_detail_info
2024-04-07 12:07:45.464  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:07:49.339  INFO 10248 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutEdit', args=[]}
2024-04-07 12:07:49.339  INFO 10248 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : about_edit
2024-04-07 12:07:49.339  INFO 10248 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:07:54.098  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:07:54.099 DEBUG 10248 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:07:54.100 DEBUG 10248 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:07:54.101 DEBUG 10248 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:07:54.101  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:07:54.102  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:07:57.179  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:07:57.180 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:07:57.180 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:07:57.182 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:07:57.182  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:07:57.182  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:08:00.276  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:08:00.277 DEBUG 10248 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:08:00.277 DEBUG 10248 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:08:00.279 DEBUG 10248 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:08:00.279  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:08:00.279  INFO 10248 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:08:06.296  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:08:06.297 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:08:06.298 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:08:06.300 DEBUG 10248 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:08:06.301  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:08:06.302  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:08:09.946  INFO 10248 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ArchivesController.archives', args=[{}, org.apache.catalina.session.StandardSessionFacade@3716950d]}
2024-04-07 12:08:09.958  INFO 10248 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : archives
2024-04-07 12:08:09.958  INFO 10248 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:09:24.751  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@215dde4b, {}, org.apache.catalina.session.StandardSessionFacade@3716950d]}
2024-04-07 12:09:24.752 DEBUG 10248 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 12:09:24.752 DEBUG 10248 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 12:09:24.753 DEBUG 10248 --- [http-nio-8080-exec-4] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 12:09:24.755 DEBUG 10248 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 12:09:24.755 DEBUG 10248 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:09:24.756 DEBUG 10248 --- [http-nio-8080-exec-4] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 12:09:24.756 DEBUG 10248 --- [http-nio-8080-exec-4] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 12:09:24.756 DEBUG 10248 --- [http-nio-8080-exec-4] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 12:09:24.757 DEBUG 10248 --- [http-nio-8080-exec-4] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 12:09:24.757  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 12:09:24.757  INFO 10248 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:13:52.233  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@3716950d, {}]}
2024-04-07 12:13:52.234 DEBUG 10248 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:13:52.234 DEBUG 10248 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:13:52.235 DEBUG 10248 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:13:52.236  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:13:52.236  INFO 10248 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:24:00.551  INFO 10248 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 12:24:00.553  INFO 10248 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 12:24:00.563  INFO 10248 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 12:24:03.268  INFO 3832 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 3832 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 12:24:03.268 DEBUG 3832 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 12:24:03.269  INFO 3832 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 12:24:03.292  INFO 3832 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 12:24:03.292  INFO 3832 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 12:24:03.804  INFO 3832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 12:24:03.869  INFO 3832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2024-04-07 12:24:04.323  INFO 3832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 12:24:04.329  INFO 3832 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 12:24:04.330  INFO 3832 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 12:24:04.392  INFO 3832 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 12:24:04.393  INFO 3832 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1100 ms
2024-04-07 12:24:04.510  INFO 3832 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 12:24:04.535  INFO 3832 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 12:24:04.612  INFO 3832 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 12:24:04.665  INFO 3832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 12:24:04.877  INFO 3832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 12:24:04.887  INFO 3832 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 12:24:05.398  INFO 3832 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 12:24:05.402  INFO 3832 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 12:24:06.053  WARN 3832 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 12:24:06.206  INFO 3832 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 12:24:06.505  INFO 3832 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 12:24:06.537  INFO 3832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 12:24:06.545  INFO 3832 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.589 seconds (JVM running for 4.328)
2024-04-07 12:24:19.766  INFO 3832 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 12:24:19.767  INFO 3832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 12:24:19.768  INFO 3832 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 12:24:21.071  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 12:24:21.082  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 12:24:21.083  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:24:21.388  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@23281c3a, org.apache.catalina.connector.ResponseFacade@4092d54b]}
2024-04-07 12:24:21.690  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 12:24:21.690  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:24:26.164  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4092d54b, hyf, hyfhsy, ttm6, org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:24:26.195 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 12:24:26.201 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 12:24:26.210 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 12:24:26.216  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_types/5
2024-04-07 12:24:26.216  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:24:26.240  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], 5, {}, org.apache.catalina.connector.RequestFacade@23281c3a]}
2024-04-07 12:24:26.251  WARN 3832 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 12:24:26.314  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 12:24:26.315  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:24:27.931  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:24:27.935 DEBUG 3832 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:24:27.935 DEBUG 3832 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:24:27.937 DEBUG 3832 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:24:27.938  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:24:27.939  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:24:30.185  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/archives', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ArchivesController.archives', args=[{}, org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:24:30.240  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : archives
2024-04-07 12:24:30.240  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:21.238  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 12:25:21.240  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 12:25:21.240  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:21.390  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:21.392 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 12:25:21.392 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 12:25:21.395 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 12:25:21.396 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:21.396 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 12:25:21.398 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:21.398 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:21.399 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 12:25:21.401 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:21.402 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:21.402 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 12:25:21.404 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:21.405 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:21.405 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 12:25:21.407 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:21.408 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:21.408 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 12:25:21.409 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:21.411 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:21.411 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 12:25:21.413 DEBUG 3832 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:21.413  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=61, sendTime=Sun Apr 07 09:04:40 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 12:25:21.421  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:28.445  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[ls]}
2024-04-07 12:25:28.447 DEBUG 3832 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:28.447 DEBUG 3832 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 12:25:28.448 DEBUG 3832 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:28.448  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 12:25:28.449  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:28.457  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/ls', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[ls, org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:28.458 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 12:25:28.458 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: ls(String), hyf(String), hyf(String), ls(String)
2024-04-07 12:25:28.461 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-04-07 12:25:28.462  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=ls, message=愚人节快乐！, sendTime=Mon Apr 01 23:11:07 CST 2024), Message(toName=hyf, message=快乐个屁！, sendTime=Mon Apr 01 23:13:12 CST 2024)]
2024-04-07 12:25:28.470  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:36.281  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/friendId/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.FriendIdByUsername', args=[xhc]}
2024-04-07 12:25:36.282 DEBUG 3832 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:25:36.283 DEBUG 3832 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 12:25:36.284 DEBUG 3832 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:25:36.285  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : 2
2024-04-07 12:25:36.285  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:36.297  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:36.298 DEBUG 3832 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-04-07 12:25:36.298 DEBUG 3832 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-04-07 12:25:36.301 DEBUG 3832 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-04-07 12:25:36.302  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024), Message(toName=hyf, message=愚人节快乐！, sendTime=Mon Apr 01 11:03:26 CST 2024)]
2024-04-07 12:25:36.302  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.544  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.doFriends', args=[]}
2024-04-07 12:25:46.548  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends
2024-04-07 12:25:46.548  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.725  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendListByUser', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:46.727 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==>  Preparing: SELECT IF(user1id = ?, user2id, user1id) AS user_id, IF(user1id = ?, user2username, user1username) AS username, IF(user1id = ?, user2avatar, user1avatar) AS avatar, IF(user1id = ?, user2description, user1description) AS description, IF(user1id = ?, user2nickname, user1nickname) AS nickname FROM t_friend WHERE user1id = ? OR user2id = ? order by nickname ASC
2024-04-07 12:25:46.727 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : ==> Parameters: 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long), 1(Long)
2024-04-07 12:25:46.730 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.dao.FriendMapper.friendListByUser    : <==      Total: 5
2024-04-07 12:25:46.731  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [FriendVO(userId=4, username=root, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, description=我是一只羊, nickname=Kafka_Fan), FriendVO(userId=5, username=ls, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, description=我是一只猫, nickname=L.), FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼), FriendVO(userId=3, username=zyd, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, description=我是一只羊, nickname=断背山), FriendVO(userId=7, username=test, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, description=测试, nickname=测试用户)]
2024-04-07 12:25:46.737  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.770  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/apply/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplyList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:46.771 DEBUG 3832 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==>  Preparing: select * from t_apply where recipient_id = ? ORDER BY apply_time DESC
2024-04-07 12:25:46.771 DEBUG 3832 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : ==> Parameters: 1(Long)
2024-04-07 12:25:46.774 DEBUG 3832 --- [http-nio-8080-exec-7] com.jxufe.dao.FriendMapper.applyList     : <==      Total: 1
2024-04-07 12:25:46.774  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Apply(id=6, senderId=6, recipientId=1, senderNickname=Solar, senderAvatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, applyTime=Wed May 01 09:48:57 CST 2024)]
2024-04-07 12:25:46.785  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.809  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/about/viewMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getViewNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:46.810 DEBUG 3832 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==>  Preparing: SELECT u.id as user_id, u.username, u.nickname, u.avatar, v.count FROM t_user AS u JOIN (SELECT t_view.viewer_id, t_view.count FROM t_view WHERE viewed_id = ? ORDER BY t_view.count DESC LIMIT 1) AS v on v.viewer_id = u.id
2024-04-07 12:25:46.811 DEBUG 3832 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : ==> Parameters: 1(Long)
2024-04-07 12:25:46.815 DEBUG 3832 --- [http-nio-8080-exec-2] c.jxufe.dao.FriendMapper.getUserViewMax  : <==      Total: 1
2024-04-07 12:25:46.816  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=9)
2024-04-07 12:25:46.818  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.912  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/collectionMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCollectionNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:46.912 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.getCollectionMax    : ==>  Preparing: SELECT c.user_id, u.username, u.nickname, u.avatar, c.count FROM t_user AS u JOIN (SELECT c.user_id, COUNT(c.id) AS count FROM t_collection c WHERE c.type = 0 AND c.blog_user_id = ? GROUP BY c.user_id ORDER BY count DESC LIMIT 1) AS c ON u.id = c.user_id;
2024-04-07 12:25:46.913 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.getCollectionMax    : ==> Parameters: 1(Long)
2024-04-07 12:25:46.916 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.dao.FriendMapper.getCollectionMax    : <==      Total: 1
2024-04-07 12:25:46.917  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=2, username=xhc, nickname=小熊维尼, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, count=2)
2024-04-07 12:25:46.917  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.935  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/blog/commentMax', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getCommentNumberMax', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:46.936 DEBUG 3832 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getCommentMax   : ==>  Preparing: SELECT a.user_id, u.username, u.nickname, u.avatar, a.comment_count as count FROM t_user u JOIN (SELECT c.host_id AS user_id, COUNT(c.id) AS comment_count FROM t_comment c JOIN t_blog b ON c.blog_id = b.id WHERE b.user_id = ? AND c.host_id != ? GROUP BY c.host_id ORDER BY comment_count DESC LIMIT 1) AS a ON a.user_id = u.id;
2024-04-07 12:25:46.936 DEBUG 3832 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getCommentMax   : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:25:46.937 DEBUG 3832 --- [http-nio-8080-exec-10] c.jxufe.dao.FriendMapper.getCommentMax   : <==      Total: 1
2024-04-07 12:25:46.938  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : FootprintVO(userId=4, username=root, nickname=Kafka_Fan, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, count=3)
2024-04-07 12:25:46.938  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.947  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/count', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.getApplys', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:46.948 DEBUG 3832 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==>  Preparing: select count(*) from t_friend where user1id = ? or user2id = ?;
2024-04-07 12:25:46.948 DEBUG 3832 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:25:46.949 DEBUG 3832 --- [http-nio-8080-exec-3] com.jxufe.dao.FriendMapper.getCount      : <==      Total: 1
2024-04-07 12:25:46.950  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : 5
2024-04-07 12:25:46.950  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:46.958  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/friend/hottest', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.FriendController.friendHottest', args=[org.apache.catalina.session.StandardSessionFacade@7060b872]}
2024-04-07 12:25:46.959 DEBUG 3832 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==>  Preparing: SELECT u.id user_id, u.username, u.nickname, u.avatar, u.description FROM t_user AS u JOIN (SELECT LEAST(sender_username, recipient_username) AS user1, GREATEST(sender_username, recipient_username) AS user2, COUNT(*) AS chat_count FROM (SELECT * FROM t_chat UNION ALL SELECT * FROM t_chat WHERE sender_username = recipient_username) AS combined_chats WHERE sender_username = ? OR recipient_username = ? GROUP BY user1, user2 ORDER BY chat_count DESC LIMIT 1) AS c WHERE IF (c.user1 = ?, c.user2 = u.username, c.user1 = u.username)
2024-04-07 12:25:46.959 DEBUG 3832 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : ==> Parameters: hyf(String), hyf(String), hyf(String)
2024-04-07 12:25:46.962 DEBUG 3832 --- [http-nio-8080-exec-8] c.jxufe.dao.FriendMapper.friendHottest   : <==      Total: 1
2024-04-07 12:25:46.962  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : FriendVO(userId=2, username=xhc, avatar=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, description=大家好，我是小熊维尼，一只来自百亩森林的快乐小熊。我身穿红色的小背心，头上戴着一顶可爱的蜜黄色帽子，标志性的大肚子总是让人忍不住想抱一抱。我热爱生活，对世界充满好奇，每一天都过得甜蜜而充实。我的好朋友有屹耳、跳跳虎、小猪皮杰等，我们一同探索森林里的奇妙，分享蜂蜜的甜美，共同面对生活的小小挑战。, nickname=小熊维尼)
2024-04-07 12:25:46.962  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:25:55.107  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/blog/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionBlogList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:25:55.110 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 12:25:55.112 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 12:25:55.114 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 12:25:55.141 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.getCollectionBlogMax             : ==>  Preparing: SELECT b.* FROM t_blog AS b JOIN (SELECT blog_id, COUNT(*) as collection_count FROM t_collection WHERE type = 0 GROUP BY blog_id ORDER BY collection_count DESC LIMIT 8) AS c ON b.id = c.blog_id
2024-04-07 12:25:55.142 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.getCollectionBlogMax             : ==> Parameters: 
2024-04-07 12:25:55.144 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.getCollectionBlogMax             : <==      Total: 6
2024-04-07 12:25:55.144  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : collection_blog
2024-04-07 12:25:55.144  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:26:09.688  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/resource/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionResourceList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:26:09.689 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 12:26:09.690 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 12:26:09.691 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 12:26:09.702 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.C.getCollectionResourceMax         : ==>  Preparing: SELECT r.* FROM t_resource AS r JOIN (SELECT resource_id, COUNT(*) as collection_count FROM t_collection WHERE type = 1 GROUP BY resource_id ORDER BY collection_count DESC LIMIT 8) AS c ON r.id = c.resource_id
2024-04-07 12:26:09.702 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.C.getCollectionResourceMax         : ==> Parameters: 
2024-04-07 12:26:09.705 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.C.getCollectionResourceMax         : <==      Total: 4
2024-04-07 12:26:09.706  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : collection_resource
2024-04-07 12:26:09.706  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:26:11.161  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/blog/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionBlogList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:26:11.162 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 12:26:11.162 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 12:26:11.164 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 12:26:11.176 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.d.C.getCollectionBlogMax             : ==>  Preparing: SELECT b.* FROM t_blog AS b JOIN (SELECT blog_id, COUNT(*) as collection_count FROM t_collection WHERE type = 0 GROUP BY blog_id ORDER BY collection_count DESC LIMIT 8) AS c ON b.id = c.blog_id
2024-04-07 12:26:11.176 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.d.C.getCollectionBlogMax             : ==> Parameters: 
2024-04-07 12:26:11.178 DEBUG 3832 --- [http-nio-8080-exec-10] c.j.d.C.getCollectionBlogMax             : <==      Total: 6
2024-04-07 12:26:11.178  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : collection_blog
2024-04-07 12:26:11.178  INFO 3832 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:26:15.397  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/blog/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionBlogList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:26:15.398 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 12:26:15.398 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 12:26:15.399 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 12:26:15.413 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionBlogMax             : ==>  Preparing: SELECT b.* FROM t_blog AS b JOIN (SELECT blog_id, COUNT(*) as collection_count FROM t_collection WHERE type = 0 GROUP BY blog_id ORDER BY collection_count DESC LIMIT 8) AS c ON b.id = c.blog_id
2024-04-07 12:26:15.413 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionBlogMax             : ==> Parameters: 
2024-04-07 12:26:15.417 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionBlogMax             : <==      Total: 6
2024-04-07 12:26:15.417  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : collection_blog
2024-04-07 12:26:15.417  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:26:22.506  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/blog/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionBlogList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:26:22.507 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 12:26:22.508 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 12:26:22.509 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 12:26:22.522 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.getCollectionBlogMax             : ==>  Preparing: SELECT b.* FROM t_blog AS b JOIN (SELECT blog_id, COUNT(*) as collection_count FROM t_collection WHERE type = 0 GROUP BY blog_id ORDER BY collection_count DESC LIMIT 8) AS c ON b.id = c.blog_id
2024-04-07 12:26:22.522 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.getCollectionBlogMax             : ==> Parameters: 
2024-04-07 12:26:22.523 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.C.getCollectionBlogMax             : <==      Total: 6
2024-04-07 12:26:22.524  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : collection_blog
2024-04-07 12:26:22.524  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:26:27.876  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/resource/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionResourceList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:26:27.878 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 12:26:27.878 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 12:26:27.880 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 12:26:27.888 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.getCollectionResourceMax         : ==>  Preparing: SELECT r.* FROM t_resource AS r JOIN (SELECT resource_id, COUNT(*) as collection_count FROM t_collection WHERE type = 1 GROUP BY resource_id ORDER BY collection_count DESC LIMIT 8) AS c ON r.id = c.resource_id
2024-04-07 12:26:27.889 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.getCollectionResourceMax         : ==> Parameters: 
2024-04-07 12:26:27.891 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.getCollectionResourceMax         : <==      Total: 4
2024-04-07 12:26:27.891  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : collection_resource
2024-04-07 12:26:27.891  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:26:33.451  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/blog/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionBlogList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:26:33.452 DEBUG 3832 --- [http-nio-8080-exec-8] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 12:26:33.452 DEBUG 3832 --- [http-nio-8080-exec-8] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 12:26:33.453 DEBUG 3832 --- [http-nio-8080-exec-8] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 12:26:33.464 DEBUG 3832 --- [http-nio-8080-exec-8] c.j.d.C.getCollectionBlogMax             : ==>  Preparing: SELECT b.* FROM t_blog AS b JOIN (SELECT blog_id, COUNT(*) as collection_count FROM t_collection WHERE type = 0 GROUP BY blog_id ORDER BY collection_count DESC LIMIT 8) AS c ON b.id = c.blog_id
2024-04-07 12:26:33.464 DEBUG 3832 --- [http-nio-8080-exec-8] c.j.d.C.getCollectionBlogMax             : ==> Parameters: 
2024-04-07 12:26:33.465 DEBUG 3832 --- [http-nio-8080-exec-8] c.j.d.C.getCollectionBlogMax             : <==      Total: 6
2024-04-07 12:26:33.466  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : collection_blog
2024-04-07 12:26:33.466  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:26:34.107  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/resource/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionResourceList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:26:34.108 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 12:26:34.108 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 12:26:34.109 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 12:26:34.117 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.C.getCollectionResourceMax         : ==>  Preparing: SELECT r.* FROM t_resource AS r JOIN (SELECT resource_id, COUNT(*) as collection_count FROM t_collection WHERE type = 1 GROUP BY resource_id ORDER BY collection_count DESC LIMIT 8) AS c ON r.id = c.resource_id
2024-04-07 12:26:34.118 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.C.getCollectionResourceMax         : ==> Parameters: 
2024-04-07 12:26:34.120 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.C.getCollectionResourceMax         : <==      Total: 4
2024-04-07 12:26:34.120  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : collection_resource
2024-04-07 12:26:34.120  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:27:04.382  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:27:04.384 DEBUG 3832 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:27:04.384 DEBUG 3832 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:27:04.385 DEBUG 3832 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:27:04.385  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:27:04.385  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:27:09.264  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/detail', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutDetail', args=[]}
2024-04-07 12:27:09.264  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : about_detail_info
2024-04-07 12:27:09.264  INFO 3832 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:27:10.958  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutEdit', args=[]}
2024-04-07 12:27:10.958  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : about_edit
2024-04-07 12:27:10.959  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:27:28.076  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutEdit', args=[]}
2024-04-07 12:27:28.076  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : about_edit
2024-04-07 12:27:28.076  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:27:32.561  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutEdit', args=[]}
2024-04-07 12:27:32.562  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : about_edit
2024-04-07 12:27:32.562  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:27:56.194  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/resource/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionResourceList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:27:56.195 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 12:27:56.195 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 12:27:56.197 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 12:27:56.203 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.getCollectionResourceMax         : ==>  Preparing: SELECT r.* FROM t_resource AS r JOIN (SELECT resource_id, COUNT(*) as collection_count FROM t_collection WHERE type = 1 GROUP BY resource_id ORDER BY collection_count DESC LIMIT 8) AS c ON r.id = c.resource_id
2024-04-07 12:27:56.203 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.getCollectionResourceMax         : ==> Parameters: 
2024-04-07 12:27:56.205 DEBUG 3832 --- [http-nio-8080-exec-4] c.j.d.C.getCollectionResourceMax         : <==      Total: 4
2024-04-07 12:27:56.206  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : collection_resource
2024-04-07 12:27:56.206  INFO 3832 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:27:58.765  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/6', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[6, {}, org.apache.catalina.connector.RequestFacade@260e224a]}
2024-04-07 12:27:58.877 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 12:27:58.877 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 6(Long)
2024-04-07 12:27:58.877 DEBUG 3832 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 12:27:58.879  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 12:27:58.879  INFO 3832 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:28:02.978  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_resource/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserResource', args=[2, {}, org.apache.catalina.connector.RequestFacade@23281c3a]}
2024-04-07 12:28:03.016 DEBUG 3832 --- [http-nio-8080-exec-9] c.j.d.C.isCollectionResource             : ==>  Preparing: select * from t_collection where user_id = ? and resource_id = ?
2024-04-07 12:28:03.016 DEBUG 3832 --- [http-nio-8080-exec-9] c.j.d.C.isCollectionResource             : ==> Parameters: 1(Long), 2(Long)
2024-04-07 12:28:03.018 DEBUG 3832 --- [http-nio-8080-exec-9] c.j.d.C.isCollectionResource             : <==      Total: 1
2024-04-07 12:28:03.018  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_resource
2024-04-07 12:28:03.018  INFO 3832 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:28:26.604  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_resource/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserResource', args=[1, {}, org.apache.catalina.connector.RequestFacade@179f8c81]}
2024-04-07 12:28:26.715 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.d.C.isCollectionResource             : ==>  Preparing: select * from t_collection where user_id = ? and resource_id = ?
2024-04-07 12:28:26.716 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.d.C.isCollectionResource             : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:28:26.716 DEBUG 3832 --- [http-nio-8080-exec-6] c.j.d.C.isCollectionResource             : <==      Total: 1
2024-04-07 12:28:26.717  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_resource
2024-04-07 12:28:26.717  INFO 3832 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:28:29.164  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/blog/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionBlogList', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:28:29.165 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==>  Preparing: SELECT a.blog_id as id, a.blog_title as title, a.time, t.NAME AS tag FROM t_tag AS t JOIN (SELECT c.blog_id, c.blog_title, c.time, b.tag_id FROM t_blog AS b JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 0) AS c ON b.id = c.blog_id) AS a ON a.tag_id = t.id
2024-04-07 12:28:29.165 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : ==> Parameters: 1(Long)
2024-04-07 12:28:29.166 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.collectionBlogList               : <==      Total: 2
2024-04-07 12:28:29.175 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionBlogMax             : ==>  Preparing: SELECT b.* FROM t_blog AS b JOIN (SELECT blog_id, COUNT(*) as collection_count FROM t_collection WHERE type = 0 GROUP BY blog_id ORDER BY collection_count DESC LIMIT 8) AS c ON b.id = c.blog_id
2024-04-07 12:28:29.175 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionBlogMax             : ==> Parameters: 
2024-04-07 12:28:29.176 DEBUG 3832 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionBlogMax             : <==      Total: 6
2024-04-07 12:28:29.176  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : collection_blog
2024-04-07 12:28:29.176  INFO 3832 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:28:30.434  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/10', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[10, {}, org.apache.catalina.connector.RequestFacade@260e224a]}
2024-04-07 12:28:30.461 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 12:28:30.461 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 10(Long)
2024-04-07 12:28:30.462 DEBUG 3832 --- [http-nio-8080-exec-5] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 1
2024-04-07 12:28:30.462  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 12:28:30.462  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:28:33.743  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/25', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[25, {}, org.apache.catalina.connector.RequestFacade@23281c3a]}
2024-04-07 12:28:33.758 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 12:28:33.758 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 25(Long)
2024-04-07 12:28:33.759 DEBUG 3832 --- [http-nio-8080-exec-7] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 12:28:33.759  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 12:28:33.759  INFO 3832 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:32:01.852  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-04-07 12:32:01.871  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_index
2024-04-07 12:32:01.871  INFO 3832 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:32:03.074  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@7060b872, {}]}
2024-04-07 12:32:03.075 DEBUG 3832 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:32:03.075 DEBUG 3832 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:32:03.076 DEBUG 3832 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:32:03.076  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:32:03.077  INFO 3832 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:35:56.290  INFO 3832 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 12:35:56.292  INFO 3832 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 12:35:56.301  INFO 3832 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-04-07 12:35:58.832  INFO 34372 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 34372 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-04-07 12:35:58.832 DEBUG 34372 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-04-07 12:35:58.833  INFO 34372 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-04-07 12:35:58.856  INFO 34372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-04-07 12:35:58.856  INFO 34372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-04-07 12:35:59.277  INFO 34372 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-04-07 12:35:59.335  INFO 34372 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2024-04-07 12:35:59.768  INFO 34372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-04-07 12:35:59.774  INFO 34372 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-04-07 12:35:59.774  INFO 34372 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-04-07 12:35:59.842  INFO 34372 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-04-07 12:35:59.843  INFO 34372 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 986 ms
2024-04-07 12:35:59.956  INFO 34372 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-04-07 12:35:59.981  INFO 34372 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-04-07 12:36:00.061  INFO 34372 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-04-07 12:36:00.116  INFO 34372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-04-07 12:36:00.316  INFO 34372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-04-07 12:36:00.330  INFO 34372 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-04-07 12:36:00.866  INFO 34372 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-04-07 12:36:00.872  INFO 34372 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 12:36:01.649  WARN 34372 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-04-07 12:36:01.833  INFO 34372 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-04-07 12:36:02.106  INFO 34372 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-04-07 12:36:02.141  INFO 34372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-04-07 12:36:02.148  INFO 34372 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.615 seconds (JVM running for 4.308)
2024-04-07 12:36:23.363  INFO 34372 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-04-07 12:36:23.364  INFO 34372 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-04-07 12:36:23.365  INFO 34372 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-04-07 12:36:23.864  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-04-07 12:36:23.872  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-04-07 12:36:23.872  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:36:24.091  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@3af501d2, org.apache.catalina.connector.ResponseFacade@3e0dd6b8]}
2024-04-07 12:36:24.303  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-04-07 12:36:24.303  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:36:28.190  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@3e0dd6b8, hyf, hyfhsy, s935, org.apache.catalina.session.StandardSessionFacade@4ebb969d, {}]}
2024-04-07 12:36:28.214 DEBUG 34372 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-04-07 12:36:28.219 DEBUG 34372 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-04-07 12:36:28.226 DEBUG 34372 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-04-07 12:36:28.231  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_types/5
2024-04-07 12:36:28.231  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:36:28.251  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_types/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.TypeShowController.doUserTypes', args=[Page request [number: 0, size 6, sort: updateTime: DESC], 5, {}, org.apache.catalina.connector.RequestFacade@3af501d2]}
2024-04-07 12:36:28.259  WARN 34372 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-04-07 12:36:28.306  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_types
2024-04-07 12:36:28.306  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:36:29.785  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@4ebb969d, {}]}
2024-04-07 12:36:29.787 DEBUG 34372 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:36:29.788 DEBUG 34372 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:36:29.790 DEBUG 34372 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:36:29.791  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:36:29.791  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:36:37.232  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-04-07 12:36:37.235  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-04-07 12:36:37.235  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:36:37.398  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4ebb969d]}
2024-04-07 12:36:37.400 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-04-07 12:36:37.401 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-04-07 12:36:37.404 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : <==      Total: 6
2024-04-07 12:36:37.405 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:36:37.406 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: test(String)
2024-04-07 12:36:37.407 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:36:37.408 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:36:37.408 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xzl(String)
2024-04-07 12:36:37.410 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:36:37.410 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:36:37.411 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: ls(String)
2024-04-07 12:36:37.413 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:36:37.414 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:36:37.414 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-04-07 12:36:37.416 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:36:37.416 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:36:37.416 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-04-07 12:36:37.419 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:36:37.420 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-04-07 12:36:37.420 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-04-07 12:36:37.422 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-04-07 12:36:37.423  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=test, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=测试用户, chat=Chat(id=61, sendTime=Sun Apr 07 09:04:40 CST 2024, senderUsername=hyf, recipientUsername=test, content=1, type=false, isRead=true)), ChatVO(usernameTa=xzl, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_8.jpg, nicknameTa=Solar, chat=Chat(id=36, sendTime=Fri Apr 05 15:37:12 CST 2024, senderUsername=hyf, recipientUsername=xzl, content=复试加油, type=false, isRead=true)), ChatVO(usernameTa=ls, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_5.jpg, nicknameTa=L., chat=Chat(id=50, sendTime=Mon Apr 01 23:13:12 CST 2024, senderUsername=hyf, recipientUsername=ls, content=快乐个屁！, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=48, sendTime=Mon Apr 01 11:03:26 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=愚人节快乐！, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=47, sendTime=Fri Mar 29 15:19:13 CST 2024, senderUsername=hyf, recipientUsername=root, content=nice！成功了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true))]
2024-04-07 12:36:37.428  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:36:41.890  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/space', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutSpace', args=[]}
2024-04-07 12:36:41.891  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : personal_space
2024-04-07 12:36:41.891  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:37:39.020  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about/space', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAboutSpace', args=[]}
2024-04-07 12:37:39.020  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : personal_space
2024-04-07 12:37:39.021  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:37:49.155  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/resource/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionResourceList', args=[org.apache.catalina.session.StandardSessionFacade@4ebb969d, {}]}
2024-04-07 12:37:49.159 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 12:37:49.160 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 12:37:49.162 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 12:37:49.197 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionResourceMax         : ==>  Preparing: SELECT r.* FROM t_resource AS r JOIN (SELECT resource_id, COUNT(*) as collection_count FROM t_collection WHERE type = 1 GROUP BY resource_id ORDER BY collection_count DESC LIMIT 8) AS c ON r.id = c.resource_id
2024-04-07 12:37:49.197 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionResourceMax         : ==> Parameters: 
2024-04-07 12:37:49.200 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.C.getCollectionResourceMax         : <==      Total: 4
2024-04-07 12:37:49.200  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : collection_resource
2024-04-07 12:37:49.200  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:37:52.812  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[1, {}, org.apache.catalina.connector.RequestFacade@2a8def28]}
2024-04-07 12:37:52.857  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:37:52.859 ERROR 34372 --- [http-nio-8080-exec-3] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/user_blog/1, Exception : Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException
2024-04-07 12:37:52.860  WARN 34372 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.beans.FatalBeanException: Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException]
2024-04-07 12:38:59.715  INFO 34372 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/4', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[4, {}, org.apache.catalina.connector.RequestFacade@2a8def28]}
2024-04-07 12:38:59.721  INFO 34372 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:38:59.721 ERROR 34372 --- [http-nio-8080-exec-10] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/user_blog/4, Exception : Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException
2024-04-07 12:38:59.721  WARN 34372 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.beans.FatalBeanException: Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException]
2024-04-07 12:39:04.153  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_resource/2', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserResource', args=[2, {}, org.apache.catalina.connector.RequestFacade@2a8def28]}
2024-04-07 12:39:04.314 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.isCollectionResource             : ==>  Preparing: select * from t_collection where user_id = ? and resource_id = ?
2024-04-07 12:39:04.314 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.isCollectionResource             : ==> Parameters: 1(Long), 2(Long)
2024-04-07 12:39:04.316 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.isCollectionResource             : <==      Total: 1
2024-04-07 12:39:04.316  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_resource
2024-04-07 12:39:04.316  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:39:08.527  INFO 34372 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserForum', args=[org.apache.catalina.connector.RequestFacade@8df7267, {}, org.apache.catalina.session.StandardSessionFacade@4ebb969d]}
2024-04-07 12:39:08.531 DEBUG 34372 --- [http-nio-8080-exec-5] c.jxufe.dao.ForumMapper.findListForums   : ==>  Preparing: select * from t_forum order by popular DESC
2024-04-07 12:39:08.532 DEBUG 34372 --- [http-nio-8080-exec-5] c.jxufe.dao.ForumMapper.findListForums   : ==> Parameters: 
2024-04-07 12:39:08.534 DEBUG 34372 --- [http-nio-8080-exec-5] c.jxufe.dao.ForumMapper.findListForums   : <==      Total: 6
2024-04-07 12:39:08.543 DEBUG 34372 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = ?
2024-04-07 12:39:08.543 DEBUG 34372 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : ==> Parameters: 1(Long), 1(Long)
2024-04-07 12:39:08.545 DEBUG 34372 --- [http-nio-8080-exec-5] c.j.d.F.findJoinForumsByUserId           : <==      Total: 4
2024-04-07 12:39:08.545 DEBUG 34372 --- [http-nio-8080-exec-5] c.j.d.F.findNotJoinForumsByUserId        : ==>  Preparing: SELECT tt.* FROM (SELECT t_forum.*, IFNULL(t_forum_users.users_id, 0) as uid FROM t_forum LEFT JOIN t_forum_users ON t_forum_users.users_id = ? AND t_forum_users.forums_id = t_forum.id) AS tt WHERE uid = 0
2024-04-07 12:39:08.546 DEBUG 34372 --- [http-nio-8080-exec-5] c.j.d.F.findNotJoinForumsByUserId        : ==> Parameters: 1(Long)
2024-04-07 12:39:08.547 DEBUG 34372 --- [http-nio-8080-exec-5] c.j.d.F.findNotJoinForumsByUserId        : <==      Total: 2
2024-04-07 12:39:08.547  INFO 34372 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_forum
2024-04-07 12:39:08.548  INFO 34372 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:39:09.727  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_forum/fblog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ForumShowController.doUserFblog', args=[1, org.apache.catalina.connector.RequestFacade@2a8def28, {}]}
2024-04-07 12:39:09.728 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==>  Preparing: select * from t_forum where id = ?
2024-04-07 12:39:09.729 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : ==> Parameters: 1(Integer)
2024-04-07 12:39:09.731 DEBUG 34372 --- [http-nio-8080-exec-4] com.jxufe.dao.ForumMapper.findForumById  : <==      Total: 1
2024-04-07 12:39:09.742  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_fblog
2024-04-07 12:39:09.743  INFO 34372 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:39:10.787  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/16', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[16, {}, org.apache.catalina.connector.RequestFacade@3524218d]}
2024-04-07 12:39:10.826 DEBUG 34372 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 12:39:10.827 DEBUG 34372 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 16(Long)
2024-04-07 12:39:10.827 DEBUG 34372 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 12:39:10.828  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 12:39:10.828  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:39:21.440  INFO 34372 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/16', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[16, {}, org.apache.catalina.connector.RequestFacade@7fdb64ae]}
2024-04-07 12:39:21.543 DEBUG 34372 --- [http-nio-8080-exec-9] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 12:39:21.544 DEBUG 34372 --- [http-nio-8080-exec-9] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 16(Long)
2024-04-07 12:39:21.544 DEBUG 34372 --- [http-nio-8080-exec-9] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 12:39:21.545  INFO 34372 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 12:39:21.545  INFO 34372 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:39:24.535  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/1', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[1, {}, org.apache.catalina.connector.RequestFacade@2a8def28]}
2024-04-07 12:39:24.545  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:39:24.545 ERROR 34372 --- [http-nio-8080-exec-2] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/user_blog/1, Exception : Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException
2024-04-07 12:39:24.545  WARN 34372 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.beans.FatalBeanException: Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException]
2024-04-07 12:40:29.680  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/5', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[5, {}, org.apache.catalina.connector.RequestFacade@2a8def28]}
2024-04-07 12:40:29.789 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 12:40:29.790 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 5(Long)
2024-04-07 12:40:29.791 DEBUG 34372 --- [http-nio-8080-exec-1] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 12:40:29.791  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 12:40:29.791  INFO 34372 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:40:44.952  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@4ebb969d, {}]}
2024-04-07 12:40:44.953 DEBUG 34372 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-04-07 12:40:44.954 DEBUG 34372 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 1(Long)
2024-04-07 12:40:44.955 DEBUG 34372 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-04-07 12:40:44.956  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : about
2024-04-07 12:40:44.956  INFO 34372 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:40:47.404  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/collection/resource/list', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.CollectionController.getCollectionResourceList', args=[org.apache.catalina.session.StandardSessionFacade@4ebb969d, {}]}
2024-04-07 12:40:47.406 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.collectionRecourseList           : ==>  Preparing: SELECT a.resource_id as id, a.resource_title as title, a.time, t.NAME as tag FROM t_type AS t JOIN (SELECT c.resource_id, c.resource_title, c.time, r.type_id FROM t_resource AS r JOIN (SELECT * FROM t_collection WHERE user_id = ? AND type = 1) AS c ON r.id = c.resource_id) AS a ON a.type_id = t.id
2024-04-07 12:40:47.406 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.collectionRecourseList           : ==> Parameters: 1(Long)
2024-04-07 12:40:47.407 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.collectionRecourseList           : <==      Total: 4
2024-04-07 12:40:47.417 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.getCollectionResourceMax         : ==>  Preparing: SELECT r.* FROM t_resource AS r JOIN (SELECT resource_id, COUNT(*) as collection_count FROM t_collection WHERE type = 1 GROUP BY resource_id ORDER BY collection_count DESC LIMIT 8) AS c ON r.id = c.resource_id
2024-04-07 12:40:47.417 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.getCollectionResourceMax         : ==> Parameters: 
2024-04-07 12:40:47.419 DEBUG 34372 --- [http-nio-8080-exec-2] c.j.d.C.getCollectionResourceMax         : <==      Total: 4
2024-04-07 12:40:47.420  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : collection_resource
2024-04-07 12:40:47.420  INFO 34372 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:40:50.685  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/26', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[26, {}, org.apache.catalina.connector.RequestFacade@8df7267]}
2024-04-07 12:40:50.731 DEBUG 34372 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : ==>  Preparing: select * from t_collection where user_id = ? and blog_id = ?
2024-04-07 12:40:50.732 DEBUG 34372 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : ==> Parameters: 1(Long), 26(Long)
2024-04-07 12:40:50.733 DEBUG 34372 --- [http-nio-8080-exec-3] c.j.d.CollectionMapper.isCollectionBlog  : <==      Total: 0
2024-04-07 12:40:50.733  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_blog
2024-04-07 12:40:50.735  INFO 34372 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:40:53.503  INFO 34372 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/23', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[23, {}, org.apache.catalina.connector.RequestFacade@8df7267]}
2024-04-07 12:40:53.509  INFO 34372 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:40:53.509 ERROR 34372 --- [http-nio-8080-exec-8] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/user_blog/23, Exception : Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException
2024-04-07 12:40:53.509  WARN 34372 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.beans.FatalBeanException: Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException]
2024-04-07 12:41:50.095  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_blog/23', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserBlogPage', args=[23, {}, org.apache.catalina.connector.RequestFacade@8df7267]}
2024-04-07 12:41:50.100  INFO 34372 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-04-07 12:41:50.100 ERROR 34372 --- [http-nio-8080-exec-7] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/user_blog/23, Exception : Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException
2024-04-07 12:41:50.100  WARN 34372 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.beans.FatalBeanException: Could not copy property 'comments' from source to target; nested exception is java.lang.reflect.InvocationTargetException]
2024-04-07 12:42:33.790  INFO 34372 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-04-07 12:42:33.795  INFO 34372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-04-07 12:42:33.805  INFO 34372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
