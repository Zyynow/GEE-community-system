2024-03-28 09:46:56.745  INFO 24660 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 24660 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 09:46:56.749 DEBUG 24660 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 09:46:56.749  INFO 24660 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 09:46:56.780  INFO 24660 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 09:46:56.780  INFO 24660 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 09:46:57.329  INFO 24660 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 09:46:57.390  INFO 24660 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2024-03-28 09:46:57.938  INFO 24660 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 09:46:57.946  INFO 24660 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 09:46:57.947  INFO 24660 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 09:46:58.016  INFO 24660 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 09:46:58.017  INFO 24660 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1236 ms
2024-03-28 09:46:58.161  INFO 24660 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 09:46:58.212  INFO 24660 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 09:46:58.355  INFO 24660 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 09:46:58.434  INFO 24660 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 09:46:58.747  INFO 24660 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 09:46:58.759  INFO 24660 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 09:46:59.358  INFO 24660 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 09:46:59.363  INFO 24660 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 09:47:00.100  WARN 24660 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 09:47:00.313  INFO 24660 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 09:47:00.603  INFO 24660 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 09:47:00.619  INFO 24660 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-03-28 09:47:00.627  INFO 24660 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-03-28 09:47:00.643 ERROR 24660 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to register @ServerEndpoint class: class com.jxufe.websocket.ChatEndpoint
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:159)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoints(ServerEndpointExporter.java:134)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterSingletonsInstantiated(ServerEndpointExporter.java:112)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)
	at com.jxufe.GuideSystemApplication.main(GuideSystemApplication.java:17)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.websocket.DeploymentException: No decoder was found for message parameters present on the method [onMessage] of class [com.jxufe.websocket.ChatEndpoint] that was annotated with OnMessage
	at org.apache.tomcat.websocket.pojo.PojoMethodMapping$MessageHandlerInfo.<init>(PojoMethodMapping.java:517)
	at org.apache.tomcat.websocket.pojo.PojoMethodMapping.<init>(PojoMethodMapping.java:168)
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:155)
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:279)
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:229)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:156)
	... 17 common frames omitted

2024-03-28 09:47:00.647  INFO 24660 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 09:47:00.649  INFO 24660 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 09:47:00.661  INFO 24660 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 09:50:36.882  INFO 19244 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 19244 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 09:50:36.882 DEBUG 19244 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 09:50:36.883  INFO 19244 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 09:50:36.907  INFO 19244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 09:50:36.908  INFO 19244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 09:50:37.328  INFO 19244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 09:50:37.385  INFO 19244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-03-28 09:50:37.787  INFO 19244 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 09:50:37.794  INFO 19244 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 09:50:37.794  INFO 19244 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 09:50:37.857  INFO 19244 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 09:50:37.858  INFO 19244 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 950 ms
2024-03-28 09:50:37.957  INFO 19244 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 09:50:37.977  INFO 19244 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 09:50:38.048  INFO 19244 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 09:50:38.105  INFO 19244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 09:50:38.324  INFO 19244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 09:50:38.336  INFO 19244 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 09:50:38.819  INFO 19244 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 09:50:38.825  INFO 19244 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 09:50:39.445  WARN 19244 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 09:50:39.627  INFO 19244 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 09:50:39.919  INFO 19244 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 09:50:39.956  INFO 19244 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 09:50:39.963  INFO 19244 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.399 seconds (JVM running for 4.116)
2024-03-28 09:50:57.552  INFO 19244 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 09:50:57.553  INFO 19244 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 09:50:57.555  INFO 19244 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-28 09:50:57.589  INFO 19244 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 09:50:57.602  INFO 19244 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 09:50:57.603  INFO 19244 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:50:57.971  INFO 19244 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@218d214a, org.apache.catalina.connector.ResponseFacade@373d70eb]}
2024-03-28 09:50:58.638  WARN 19244 --- [http-nio-8080-exec-3] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [322] milliseconds.
2024-03-28 09:50:58.684  INFO 19244 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 09:50:58.684  INFO 19244 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:51:03.277  INFO 19244 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@373d70eb, hyf, hyfhsy, 7vd5, org.apache.catalina.session.StandardSessionFacade@210c18b5, {}]}
2024-03-28 09:51:03.310 DEBUG 19244 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 09:51:03.317 DEBUG 19244 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 09:51:03.328 DEBUG 19244 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 09:51:03.332  INFO 19244 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 09:51:03.332  INFO 19244 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:51:03.354  INFO 19244 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 09:51:03.444  WARN 19244 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 09:51:03.456  INFO 19244 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 09:51:03.457  INFO 19244 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:51:11.667  INFO 19244 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 09:51:11.671  INFO 19244 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 09:51:11.671  INFO 19244 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:51:11.788  INFO 19244 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@210c18b5]}
2024-03-28 09:51:11.791 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 09:51:11.792 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 09:51:11.796 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 09:51:11.798 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 09:51:11.799 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 09:51:11.801 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 09:51:11.802 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 09:51:11.803 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 09:51:11.804 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 09:51:11.805 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 09:51:11.805 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 09:51:11.807 DEBUG 19244 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 09:51:11.817  INFO 19244 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 09:51:11.818  INFO 19244 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:52:28.649 ERROR 19244 --- [http-nio-8080-exec-4] c.j.handler.ControllerExceptionHandler   : Request URL : http://localhost:8080/dev/chat/record/root, Exception : Ambiguous handler methods mapped for '/dev/chat/record/root': {public java.lang.String com.jxufe.web.ChatController.recordByUserId(java.lang.Long), public java.util.List com.jxufe.web.ChatController.recordByUsername(java.lang.String,javax.servlet.http.HttpSession)}
2024-03-28 09:52:28.650  WARN 19244 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalStateException: Ambiguous handler methods mapped for '/dev/chat/record/root': {public java.lang.String com.jxufe.web.ChatController.recordByUserId(java.lang.Long), public java.util.List com.jxufe.web.ChatController.recordByUsername(java.lang.String,javax.servlet.http.HttpSession)}]
2024-03-28 09:54:19.979  INFO 19244 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 09:54:19.981  INFO 19244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 09:54:19.990  INFO 19244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 09:54:23.452  INFO 5556 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 5556 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 09:54:23.452 DEBUG 5556 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 09:54:23.452  INFO 5556 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 09:54:23.482  INFO 5556 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 09:54:23.482  INFO 5556 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 09:54:23.956  INFO 5556 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 09:54:24.018  INFO 5556 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2024-03-28 09:54:24.527  INFO 5556 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 09:54:24.533  INFO 5556 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 09:54:24.533  INFO 5556 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 09:54:24.587  INFO 5556 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 09:54:24.587  INFO 5556 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1105 ms
2024-03-28 09:54:24.690  INFO 5556 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 09:54:24.711  INFO 5556 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 09:54:24.785  INFO 5556 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 09:54:24.846  INFO 5556 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 09:54:25.046  INFO 5556 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 09:54:25.058  INFO 5556 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 09:54:25.546  INFO 5556 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 09:54:25.550  INFO 5556 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 09:54:26.334  WARN 5556 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 09:54:26.545  INFO 5556 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 09:54:26.885  INFO 5556 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 09:54:26.915  INFO 5556 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 09:54:26.923  INFO 5556 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.773 seconds (JVM running for 4.481)
2024-03-28 09:54:30.627  INFO 5556 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 09:54:30.627  INFO 5556 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 09:54:30.629  INFO 5556 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-28 09:54:31.745  INFO 5556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 09:54:31.757  INFO 5556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 09:54:31.757  INFO 5556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:54:32.071  INFO 5556 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@551d8080, org.apache.catalina.connector.ResponseFacade@7bf4c0db]}
2024-03-28 09:54:32.377  INFO 5556 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 09:54:32.377  INFO 5556 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:54:37.685  INFO 5556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7bf4c0db, hyf, hyfhsy, 1huf, org.apache.catalina.session.StandardSessionFacade@170b99f, {}]}
2024-03-28 09:54:37.719 DEBUG 5556 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 09:54:37.726 DEBUG 5556 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 09:54:37.736 DEBUG 5556 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 09:54:37.741  INFO 5556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 09:54:37.742  INFO 5556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:54:37.767  INFO 5556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 09:54:37.854  WARN 5556 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 09:54:37.866  INFO 5556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 09:54:37.866  INFO 5556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:54:44.972  INFO 5556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 09:54:44.975  INFO 5556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 09:54:44.976  INFO 5556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:54:45.108  INFO 5556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@170b99f]}
2024-03-28 09:54:45.112 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 09:54:45.112 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 09:54:45.116 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 09:54:45.119 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 09:54:45.120 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 09:54:45.122 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 09:54:45.123 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 09:54:45.123 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 09:54:45.126 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 09:54:45.127 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 09:54:45.127 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 09:54:45.130 DEBUG 5556 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 09:54:45.142  INFO 5556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 09:54:45.142  INFO 5556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 09:54:48.103  INFO 5556 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@170b99f]}
2024-03-28 09:54:48.105 DEBUG 5556 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 09:54:48.105 DEBUG 5556 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 09:54:48.107 DEBUG 5556 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 09:54:48.107  INFO 5556 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Chat(id=4, sendTime=Tue Mar 26 19:49:59 CST 2024, senderUsername=hyf, recipientUsername=root, content=我喜欢你, type=false, isRead=true), Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true)]
2024-03-28 09:54:48.107  INFO 5556 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:21:19.836  INFO 5556 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 10:21:19.839  INFO 5556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 10:21:19.849  INFO 5556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 10:21:23.925  INFO 6620 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 6620 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 10:21:23.926 DEBUG 6620 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 10:21:23.926  INFO 6620 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 10:21:23.952  INFO 6620 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 10:21:23.953  INFO 6620 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 10:21:24.348  INFO 6620 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 10:21:24.393  INFO 6620 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2024-03-28 10:21:24.826  INFO 6620 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 10:21:24.831  INFO 6620 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 10:21:24.831  INFO 6620 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 10:21:24.884  INFO 6620 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 10:21:24.884  INFO 6620 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 931 ms
2024-03-28 10:21:24.994  INFO 6620 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 10:21:25.015  INFO 6620 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 10:21:25.091  INFO 6620 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 10:21:25.147  INFO 6620 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 10:21:25.347  INFO 6620 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 10:21:25.358  INFO 6620 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 10:21:25.850  INFO 6620 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 10:21:25.856  INFO 6620 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 10:21:26.537  WARN 6620 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 10:21:26.750  INFO 6620 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 10:21:27.037  INFO 6620 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 10:21:27.071  INFO 6620 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 10:21:27.079  INFO 6620 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.453 seconds (JVM running for 4.123)
2024-03-28 10:21:31.173  INFO 6620 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 10:21:31.173  INFO 6620 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 10:21:31.175  INFO 6620 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-28 10:21:32.694  INFO 6620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 10:21:32.703  INFO 6620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 10:21:32.703  INFO 6620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:21:32.927  INFO 6620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@67768537, org.apache.catalina.connector.ResponseFacade@ccdd185]}
2024-03-28 10:21:33.140  INFO 6620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 10:21:33.140  INFO 6620 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:21:40.447  INFO 6620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@ccdd185, hyf, hyfhsy, e23p, org.apache.catalina.session.StandardSessionFacade@5bf520c0, {}]}
2024-03-28 10:21:40.478 DEBUG 6620 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 10:21:40.483 DEBUG 6620 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 10:21:40.494 DEBUG 6620 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 10:21:40.501  INFO 6620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 10:21:40.501  INFO 6620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:21:40.526  INFO 6620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 10:21:40.613  WARN 6620 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 10:21:40.625  INFO 6620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 10:21:40.625  INFO 6620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:21:47.303  INFO 6620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 10:21:47.307  INFO 6620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 10:21:47.308  INFO 6620 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:21:47.505  INFO 6620 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@5bf520c0]}
2024-03-28 10:21:47.507 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 10:21:47.509 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 10:21:47.513 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 10:21:47.515 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:21:47.516 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 10:21:47.518 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:21:47.519 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:21:47.519 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 10:21:47.521 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:21:47.522 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:21:47.522 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 10:21:47.524 DEBUG 6620 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:21:47.534  INFO 6620 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 10:21:47.534  INFO 6620 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:22:08.789  INFO 6620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@5bf520c0]}
2024-03-28 10:22:08.791 DEBUG 6620 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:22:08.792 DEBUG 6620 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 10:22:08.793 DEBUG 6620 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 10:22:08.794  INFO 6620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！)]
2024-03-28 10:22:08.799  INFO 6620 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:22:23.875  INFO 6620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@5bf520c0]}
2024-03-28 10:22:23.877 DEBUG 6620 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:22:23.878 DEBUG 6620 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:22:23.881 DEBUG 6620 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:22:23.882  INFO 6620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:22:23.882  INFO 6620 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:25:16.136  INFO 6620 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@5bf520c0]}
2024-03-28 10:25:16.138 DEBUG 6620 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:25:16.138 DEBUG 6620 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 10:25:16.140 DEBUG 6620 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-03-28 10:25:16.140  INFO 6620 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？)]
2024-03-28 10:25:16.141  INFO 6620 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:25:48.774  INFO 6620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@5bf520c0]}
2024-03-28 10:25:48.775 DEBUG 6620 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:25:48.775 DEBUG 6620 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:25:48.777 DEBUG 6620 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:25:48.778  INFO 6620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:25:48.778  INFO 6620 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:28:10.792  INFO 6620 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@5bf520c0]}
2024-03-28 10:28:10.794 DEBUG 6620 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:28:10.795 DEBUG 6620 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:28:10.797 DEBUG 6620 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:28:10.798  INFO 6620 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:28:10.799  INFO 6620 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:28:16.060  INFO 6620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@5bf520c0]}
2024-03-28 10:28:16.061 DEBUG 6620 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:28:16.062 DEBUG 6620 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 10:28:16.065 DEBUG 6620 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 10:28:16.066  INFO 6620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！)]
2024-03-28 10:28:16.066  INFO 6620 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:48:36.540  INFO 6620 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 10:48:36.542  INFO 6620 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 10:48:36.552  INFO 6620 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 10:48:39.834  INFO 16416 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 16416 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 10:48:39.835 DEBUG 16416 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 10:48:39.835  INFO 16416 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 10:48:39.861  INFO 16416 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 10:48:39.863  INFO 16416 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 10:48:40.317  INFO 16416 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 10:48:40.376  INFO 16416 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2024-03-28 10:48:40.774  INFO 16416 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 10:48:40.779  INFO 16416 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 10:48:40.779  INFO 16416 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 10:48:40.829  INFO 16416 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 10:48:40.829  INFO 16416 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 966 ms
2024-03-28 10:48:40.924  INFO 16416 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 10:48:40.945  INFO 16416 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 10:48:41.017  INFO 16416 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 10:48:41.079  INFO 16416 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 10:48:41.283  INFO 16416 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 10:48:41.296  INFO 16416 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 10:48:41.819  INFO 16416 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 10:48:41.824  INFO 16416 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 10:48:42.491  WARN 16416 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 10:48:42.702  INFO 16416 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 10:48:42.983  INFO 16416 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 10:48:43.013  INFO 16416 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 10:48:43.021  INFO 16416 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.509 seconds (JVM running for 4.332)
2024-03-28 10:48:46.103  INFO 16416 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 10:48:46.105  INFO 16416 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 10:48:46.106  INFO 16416 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 10:48:47.159  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 10:48:47.167  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 10:48:47.167  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:48:47.408  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@56e28db, org.apache.catalina.connector.ResponseFacade@328c6080]}
2024-03-28 10:48:47.629  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 10:48:47.629  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:48:50.951  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@328c6080, hyf, hyfhsy, dsyp, org.apache.catalina.session.StandardSessionFacade@68627c7a, {}]}
2024-03-28 10:48:50.982 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 10:48:50.989 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 10:48:50.998 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 10:48:51.006  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 10:48:51.006  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:48:51.029  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 10:48:51.120  WARN 16416 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 10:48:51.134  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 10:48:51.134  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:48:59.674  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 10:48:59.678  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 10:48:59.678  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:48:59.875  INFO 16416 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:48:59.878 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 10:48:59.878 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 10:48:59.887 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 10:48:59.889 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:48:59.890 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 10:48:59.892 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:48:59.894 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:48:59.894 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 10:48:59.897 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:48:59.899 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:48:59.899 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 10:48:59.901 DEBUG 16416 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:48:59.912  INFO 16416 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 10:48:59.914  INFO 16416 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:49:11.192  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:49:11.193 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:49:11.193 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:49:11.195 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:49:11.196  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:49:11.202  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:49:21.948  INFO 16416 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:49:21.949 DEBUG 16416 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:49:21.950 DEBUG 16416 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 10:49:21.953 DEBUG 16416 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 10:49:21.953  INFO 16416 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！)]
2024-03-28 10:49:21.953  INFO 16416 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:49:24.092  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:49:24.093 DEBUG 16416 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:49:24.094 DEBUG 16416 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 10:49:24.095 DEBUG 16416 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-03-28 10:49:24.096  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？)]
2024-03-28 10:49:24.096  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:49:48.464  INFO 16416 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:49:48.465 DEBUG 16416 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:49:48.465 DEBUG 16416 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:49:48.469 DEBUG 16416 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:49:48.469  INFO 16416 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:49:48.469  INFO 16416 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:49:55.997  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:49:55.999 DEBUG 16416 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:49:55.999 DEBUG 16416 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:49:56.001 DEBUG 16416 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:49:56.001  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:49:56.002  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:49:59.084  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:49:59.086 DEBUG 16416 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:49:59.086 DEBUG 16416 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 10:49:59.089 DEBUG 16416 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 10:49:59.089  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！)]
2024-03-28 10:49:59.090  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:00.572  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:50:00.573 DEBUG 16416 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:50:00.574 DEBUG 16416 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:50:00.576 DEBUG 16416 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:50:00.576  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:50:00.577  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:12.248  INFO 16416 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:50:12.250 DEBUG 16416 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:50:12.250 DEBUG 16416 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 10:50:12.251 DEBUG 16416 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 10:50:12.252  INFO 16416 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！)]
2024-03-28 10:50:12.252  INFO 16416 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:33.169  WARN 16416 --- [http-nio-8080-exec-2] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [306] milliseconds.
2024-03-28 10:50:34.323  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 10:50:34.323  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 10:50:34.324  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:34.333  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@48578db9, org.apache.catalina.connector.ResponseFacade@7ccdf9c9]}
2024-03-28 10:50:34.341  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 10:50:34.342  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:40.789  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7ccdf9c9, root, hyfhsy, h7t6, org.apache.catalina.session.StandardSessionFacade@63f38abe, {}]}
2024-03-28 10:50:40.793 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 10:50:40.793 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 10:50:40.795 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 10:50:40.796  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 10:50:40.796  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:40.802  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 10:50:40.821  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 10:50:40.821  INFO 16416 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:43.397  INFO 16416 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@63f38abe]}
2024-03-28 10:50:43.399 DEBUG 16416 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 10:50:43.400 DEBUG 16416 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 10:50:43.402 DEBUG 16416 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 10:50:43.403 DEBUG 16416 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:50:43.404 DEBUG 16416 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 10:50:43.406 DEBUG 16416 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:50:43.407  INFO 16416 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 10:50:43.407  INFO 16416 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:47.837  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 10:50:47.837  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 10:50:47.837  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:47.921  INFO 16416 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@63f38abe]}
2024-03-28 10:50:47.922 DEBUG 16416 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 10:50:47.922 DEBUG 16416 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 10:50:47.924 DEBUG 16416 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 10:50:47.925 DEBUG 16416 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 10:50:47.925 DEBUG 16416 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 10:50:47.927 DEBUG 16416 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 10:50:47.927  INFO 16416 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 10:50:47.927  INFO 16416 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:50:51.008  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@63f38abe]}
2024-03-28 10:50:51.010 DEBUG 16416 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:50:51.011 DEBUG 16416 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), root(String), root(String), hyf(String)
2024-03-28 10:50:51.012 DEBUG 16416 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 10:50:51.013  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=我喜欢你), Message(toName=root, message=我也喜欢你呀！)]
2024-03-28 10:50:51.013  INFO 16416 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:52:54.981  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:52:54.982 DEBUG 16416 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:52:54.982 DEBUG 16416 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:52:54.983 DEBUG 16416 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:52:54.983  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:52:54.984  INFO 16416 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:53:09.642  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:53:09.643 DEBUG 16416 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:53:09.645 DEBUG 16416 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:53:09.646 DEBUG 16416 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:53:09.646  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:53:09.646  INFO 16416 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:53:39.780  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:53:39.781 DEBUG 16416 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:53:39.781 DEBUG 16416 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:53:39.783 DEBUG 16416 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:53:39.783  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:53:39.784  INFO 16416 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:53:51.573  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:53:51.575 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:53:51.575 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:53:51.577 DEBUG 16416 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:53:51.577  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:53:51.578  INFO 16416 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 10:53:57.140  INFO 16416 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 10:53:57.141 DEBUG 16416 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 10:53:57.142 DEBUG 16416 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 10:53:57.143 DEBUG 16416 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 10:53:57.144  INFO 16416 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello), ResultMessage(isSystem=false, fromName=xhc, message=hi), Message(toName=hyf, message=好久不见)]
2024-03-28 10:53:57.144  INFO 16416 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:11:46.160  INFO 16416 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:11:46.164  INFO 16416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 11:11:46.191  INFO 16416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 11:11:50.754  INFO 16060 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 16060 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 11:11:50.755 DEBUG 16060 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 11:11:50.755  INFO 16060 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 11:11:50.780  INFO 16060 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 11:11:50.780  INFO 16060 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 11:11:51.214  INFO 16060 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 11:11:51.261  INFO 16060 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2024-03-28 11:11:51.683  INFO 16060 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 11:11:51.690  INFO 16060 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 11:11:51.690  INFO 16060 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 11:11:51.744  INFO 16060 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 11:11:51.745  INFO 16060 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 964 ms
2024-03-28 11:11:51.847  INFO 16060 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 11:11:51.869  INFO 16060 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 11:11:51.950  INFO 16060 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 11:11:52.005  INFO 16060 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 11:11:52.206  INFO 16060 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 11:11:52.216  INFO 16060 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 11:11:52.719  INFO 16060 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 11:11:52.724  INFO 16060 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:11:53.382  WARN 16060 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 11:11:53.585  INFO 16060 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 11:11:53.861  INFO 16060 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 11:11:53.894  INFO 16060 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 11:11:53.901  INFO 16060 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.448 seconds (JVM running for 4.151)
2024-03-28 11:11:58.222  INFO 16060 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 11:11:58.222  INFO 16060 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 11:11:58.224  INFO 16060 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-28 11:11:59.589  INFO 16060 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 11:11:59.598  INFO 16060 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 11:11:59.598  INFO 16060 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:11:59.821  INFO 16060 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@351da588, org.apache.catalina.connector.ResponseFacade@1b4da504]}
2024-03-28 11:12:00.036  INFO 16060 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 11:12:00.037  INFO 16060 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:12:04.971  INFO 16060 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@1b4da504, hyf, hyfhsy, q5mn, org.apache.catalina.session.StandardSessionFacade@289b7265, {}]}
2024-03-28 11:12:05.002 DEBUG 16060 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 11:12:05.009 DEBUG 16060 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 11:12:05.020 DEBUG 16060 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 11:12:05.026  INFO 16060 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 11:12:05.027  INFO 16060 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:12:05.053  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 11:12:05.138  WARN 16060 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 11:12:05.149  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 11:12:05.149  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:12:10.741  INFO 16060 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 11:12:10.743  INFO 16060 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 11:12:10.743  INFO 16060 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:12:10.949  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@289b7265]}
2024-03-28 11:12:10.952 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 11:12:10.953 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 11:12:10.957 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 11:12:10.960 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:12:10.961 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 11:12:10.963 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:12:10.964 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:12:10.965 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 11:12:10.967 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:12:10.968 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:12:10.968 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 11:12:10.970 DEBUG 16060 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:12:10.982  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 11:12:10.982  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:17:13.078  INFO 16060 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@289b7265]}
2024-03-28 11:17:13.080 DEBUG 16060 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:17:13.080 DEBUG 16060 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:17:13.083 DEBUG 16060 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:17:13.084  INFO 16060 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:17:13.092  INFO 16060 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:20:29.647  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@289b7265]}
2024-03-28 11:20:29.648 DEBUG 16060 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:20:29.649 DEBUG 16060 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 11:20:29.650 DEBUG 16060 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:20:29.651  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:20:29.651  INFO 16060 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:20:31.484  INFO 16060 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@289b7265]}
2024-03-28 11:20:31.486 DEBUG 16060 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:20:31.486 DEBUG 16060 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 11:20:31.488 DEBUG 16060 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-03-28 11:20:31.488  INFO 16060 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024)]
2024-03-28 11:20:31.488  INFO 16060 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:20:35.485  INFO 16060 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@289b7265]}
2024-03-28 11:20:35.486 DEBUG 16060 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:20:35.487 DEBUG 16060 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:20:35.489 DEBUG 16060 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:20:35.489  INFO 16060 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:20:35.489  INFO 16060 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:20:39.918  INFO 16060 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@289b7265]}
2024-03-28 11:20:39.919 DEBUG 16060 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:20:39.920 DEBUG 16060 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 11:20:39.922 DEBUG 16060 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:20:39.922  INFO 16060 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:20:39.923  INFO 16060 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:20:41.072  INFO 16060 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@289b7265]}
2024-03-28 11:20:41.073 DEBUG 16060 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:20:41.074 DEBUG 16060 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:20:41.077 DEBUG 16060 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:20:41.078  INFO 16060 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:20:41.078  INFO 16060 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:28:13.436  INFO 16060 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:28:13.439  INFO 16060 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 11:28:13.449  INFO 16060 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 11:28:17.033  INFO 27952 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 27952 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 11:28:17.033 DEBUG 27952 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 11:28:17.034  INFO 27952 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 11:28:17.058  INFO 27952 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 11:28:17.059  INFO 27952 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 11:28:17.499  INFO 27952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 11:28:17.546  INFO 27952 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2024-03-28 11:28:17.959  INFO 27952 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 11:28:17.966  INFO 27952 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 11:28:17.966  INFO 27952 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 11:28:18.021  INFO 27952 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 11:28:18.022  INFO 27952 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 963 ms
2024-03-28 11:28:18.133  INFO 27952 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 11:28:18.153  INFO 27952 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 11:28:18.234  INFO 27952 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 11:28:18.297  INFO 27952 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 11:28:18.504  INFO 27952 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 11:28:18.514  INFO 27952 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 11:28:19.010  INFO 27952 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 11:28:19.016  INFO 27952 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:28:19.642  WARN 27952 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 11:28:19.839  INFO 27952 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 11:28:20.148  INFO 27952 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 11:28:20.175  INFO 27952 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 11:28:20.182  INFO 27952 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.461 seconds (JVM running for 4.148)
2024-03-28 11:28:26.172  INFO 27952 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 11:28:26.173  INFO 27952 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 11:28:26.174  INFO 27952 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 11:28:27.415  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 11:28:27.430  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 11:28:27.430  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:28:27.739  INFO 27952 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@44ccafdb, org.apache.catalina.connector.ResponseFacade@627d52bc]}
2024-03-28 11:28:28.052  INFO 27952 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 11:28:28.052  INFO 27952 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:28:31.681  INFO 27952 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@627d52bc, hyf, hyfhsy, caju, org.apache.catalina.session.StandardSessionFacade@3875e7c3, {}]}
2024-03-28 11:28:31.710 DEBUG 27952 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 11:28:31.717 DEBUG 27952 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 11:28:31.729 DEBUG 27952 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 11:28:31.738  INFO 27952 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 11:28:31.738  INFO 27952 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:28:31.764  INFO 27952 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 11:28:31.852  WARN 27952 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 11:28:31.863  INFO 27952 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 11:28:31.864  INFO 27952 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:28:36.509  INFO 27952 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 11:28:36.513  INFO 27952 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 11:28:36.513  INFO 27952 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:28:36.709  INFO 27952 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:28:36.711 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 11:28:36.712 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 11:28:36.717 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 11:28:36.718 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:28:36.719 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 11:28:36.721 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:28:36.722 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:28:36.723 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 11:28:36.726 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:28:36.727 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:28:36.727 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 11:28:36.728 DEBUG 27952 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:28:36.739  INFO 27952 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 11:28:36.740  INFO 27952 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:28:42.540  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:28:42.542 DEBUG 27952 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:28:42.542 DEBUG 27952 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 11:28:42.544 DEBUG 27952 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:28:42.545  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:28:42.552  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:00.414  INFO 27952 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:00.415 DEBUG 27952 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:00.415 DEBUG 27952 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 11:30:00.417 DEBUG 27952 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:30:00.417  INFO 27952 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:30:00.417  INFO 27952 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:03.109  INFO 27952 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:03.110 DEBUG 27952 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:03.110 DEBUG 27952 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:30:03.113 DEBUG 27952 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:30:03.113  INFO 27952 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:30:03.113  INFO 27952 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:06.737  INFO 27952 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:06.739 DEBUG 27952 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:06.739 DEBUG 27952 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 11:30:06.740 DEBUG 27952 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-03-28 11:30:06.741  INFO 27952 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024)]
2024-03-28 11:30:06.741  INFO 27952 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:08.427  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:08.429 DEBUG 27952 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:08.429 DEBUG 27952 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:30:08.430 DEBUG 27952 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:30:08.432  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:30:08.432  INFO 27952 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:10.851  INFO 27952 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:10.853 DEBUG 27952 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:10.853 DEBUG 27952 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 11:30:10.855 DEBUG 27952 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:30:10.856  INFO 27952 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:30:10.856  INFO 27952 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:13.248  INFO 27952 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:13.249 DEBUG 27952 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:13.249 DEBUG 27952 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:30:13.251 DEBUG 27952 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:30:13.251  INFO 27952 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:30:13.252  INFO 27952 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:31.829  INFO 27952 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:31.830 DEBUG 27952 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:31.831 DEBUG 27952 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 11:30:31.832 DEBUG 27952 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-03-28 11:30:31.833  INFO 27952 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024)]
2024-03-28 11:30:31.833  INFO 27952 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:30:33.569  INFO 27952 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@3875e7c3]}
2024-03-28 11:30:33.570 DEBUG 27952 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:30:33.570 DEBUG 27952 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:30:33.572 DEBUG 27952 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:30:33.573  INFO 27952 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:30:33.573  INFO 27952 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:34:59.127  INFO 27952 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:34:59.130  INFO 27952 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 11:34:59.139  INFO 27952 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 11:35:03.392  INFO 11300 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 11300 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 11:35:03.393 DEBUG 11300 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 11:35:03.393  INFO 11300 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 11:35:03.424  INFO 11300 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 11:35:03.425  INFO 11300 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 11:35:03.866  INFO 11300 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 11:35:03.926  INFO 11300 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2024-03-28 11:35:04.376  INFO 11300 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 11:35:04.385  INFO 11300 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 11:35:04.386  INFO 11300 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 11:35:04.445  INFO 11300 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 11:35:04.445  INFO 11300 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1020 ms
2024-03-28 11:35:04.554  INFO 11300 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 11:35:04.580  INFO 11300 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 11:35:04.659  INFO 11300 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 11:35:04.713  INFO 11300 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 11:35:04.917  INFO 11300 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 11:35:04.928  INFO 11300 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 11:35:05.409  INFO 11300 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 11:35:05.416  INFO 11300 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:35:06.209  WARN 11300 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 11:35:06.411  INFO 11300 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 11:35:06.724  INFO 11300 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 11:35:06.755  INFO 11300 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 11:35:06.763  INFO 11300 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.712 seconds (JVM running for 4.408)
2024-03-28 11:35:19.322  INFO 11300 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 11:35:19.324  INFO 11300 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 11:35:19.325  INFO 11300 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 11:35:20.224  INFO 11300 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 11:35:20.236  INFO 11300 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 11:35:20.237  INFO 11300 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:35:20.551  INFO 11300 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@67768537, org.apache.catalina.connector.ResponseFacade@ccdd185]}
2024-03-28 11:35:20.870  INFO 11300 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 11:35:20.870  INFO 11300 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:35:25.232  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@ccdd185, hyf, hyfhsy, 3b3i, org.apache.catalina.session.StandardSessionFacade@9c639d7, {}]}
2024-03-28 11:35:25.261 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 11:35:25.267 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 11:35:25.276 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 11:35:25.282  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 11:35:25.282  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:35:25.303  INFO 11300 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 11:35:25.382  WARN 11300 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 11:35:25.392  INFO 11300 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 11:35:25.393  INFO 11300 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:35:30.206  INFO 11300 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 11:35:30.209  INFO 11300 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 11:35:30.209  INFO 11300 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:35:30.418  INFO 11300 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@9c639d7]}
2024-03-28 11:35:30.420 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 11:35:30.421 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 11:35:30.425 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 11:35:30.428 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:35:30.429 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 11:35:30.431 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:35:30.432 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:35:30.433 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 11:35:30.435 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:35:30.436 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:35:30.436 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 11:35:30.438 DEBUG 11300 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:35:30.449  INFO 11300 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 11:35:30.450  INFO 11300 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:35:34.649  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@9c639d7]}
2024-03-28 11:35:34.650 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:35:34.650 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 11:35:34.653 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:35:34.654  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:35:34.663  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:35:46.604  INFO 11300 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@9c639d7]}
2024-03-28 11:35:46.604 DEBUG 11300 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:35:46.605 DEBUG 11300 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:35:46.608 DEBUG 11300 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:35:46.609  INFO 11300 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:35:46.610  INFO 11300 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:43:48.272  INFO 11300 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@9c639d7]}
2024-03-28 11:43:48.273 DEBUG 11300 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:43:48.274 DEBUG 11300 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:43:48.275 DEBUG 11300 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:43:48.276  INFO 11300 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:43:48.276  INFO 11300 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:43:52.383  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@9c639d7]}
2024-03-28 11:43:52.385 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:43:52.386 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 11:43:52.389 DEBUG 11300 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-03-28 11:43:52.389  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024)]
2024-03-28 11:43:52.390  INFO 11300 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:43:55.855  INFO 11300 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@9c639d7]}
2024-03-28 11:43:55.856 DEBUG 11300 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:43:55.858 DEBUG 11300 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:43:55.860 DEBUG 11300 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:43:55.861  INFO 11300 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:43:55.861  INFO 11300 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:45:11.725  INFO 11300 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:45:11.728  INFO 11300 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 11:45:11.734  INFO 11300 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 11:45:15.894  INFO 15088 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 15088 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 11:45:15.895 DEBUG 15088 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 11:45:15.895  INFO 15088 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 11:45:15.916  INFO 15088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 11:45:15.916  INFO 15088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 11:45:16.340  INFO 15088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 11:45:16.390  INFO 15088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2024-03-28 11:45:16.878  INFO 15088 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 11:45:16.885  INFO 15088 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 11:45:16.886  INFO 15088 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 11:45:16.963  INFO 15088 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 11:45:16.963  INFO 15088 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1046 ms
2024-03-28 11:45:17.105  INFO 15088 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 11:45:17.133  INFO 15088 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 11:45:17.211  INFO 15088 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 11:45:17.270  INFO 15088 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 11:45:17.565  INFO 15088 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 11:45:17.580  INFO 15088 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 11:45:18.113  INFO 15088 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 11:45:18.120  INFO 15088 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 11:45:18.852  WARN 15088 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 11:45:19.048  INFO 15088 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 11:45:19.335  INFO 15088 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 11:45:19.373  INFO 15088 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 11:45:19.382  INFO 15088 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.808 seconds (JVM running for 4.568)
2024-03-28 11:45:23.831  INFO 15088 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 11:45:23.831  INFO 15088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 11:45:23.831  INFO 15088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-03-28 11:45:24.895  INFO 15088 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 11:45:24.902  INFO 15088 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 11:45:24.903  INFO 15088 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:45:25.134  INFO 15088 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@35d6eebf, org.apache.catalina.connector.ResponseFacade@7c7bc66b]}
2024-03-28 11:45:25.355  INFO 15088 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 11:45:25.355  INFO 15088 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:45:29.864  INFO 15088 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7c7bc66b, hyf, hyfhsy, 52v8, org.apache.catalina.session.StandardSessionFacade@6343b3bf, {}]}
2024-03-28 11:45:29.894 DEBUG 15088 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 11:45:29.901 DEBUG 15088 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 11:45:29.912 DEBUG 15088 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 11:45:29.917  INFO 15088 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 11:45:29.917  INFO 15088 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:45:29.940  INFO 15088 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 11:45:30.036  WARN 15088 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 11:45:30.047  INFO 15088 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 11:45:30.047  INFO 15088 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:45:34.581  INFO 15088 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 11:45:34.585  INFO 15088 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 11:45:34.585  INFO 15088 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:45:34.787  INFO 15088 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@6343b3bf]}
2024-03-28 11:45:34.790 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 11:45:34.792 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 11:45:34.802 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 11:45:34.804 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:45:34.805 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 11:45:34.807 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:45:34.808 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:45:34.808 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 11:45:34.811 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:45:34.813 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:45:34.813 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 11:45:34.815 DEBUG 15088 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:45:34.825  INFO 15088 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 11:45:34.826  INFO 15088 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:45:38.995  INFO 15088 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@6343b3bf]}
2024-03-28 11:45:38.996 DEBUG 15088 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:45:38.997 DEBUG 15088 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 11:45:38.998 DEBUG 15088 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:45:38.999  INFO 15088 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:45:39.007  INFO 15088 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:23.010  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@6343b3bf]}
2024-03-28 11:47:23.012 DEBUG 15088 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:47:23.012 DEBUG 15088 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 11:47:23.015 DEBUG 15088 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 11:47:23.015  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 11:47:23.016  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:43.835  WARN 15088 --- [http-nio-8080-exec-2] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [305] milliseconds.
2024-03-28 11:47:44.177  INFO 15088 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 11:47:44.177  INFO 15088 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 11:47:44.177  INFO 15088 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:44.188  INFO 15088 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@35d6eebf, org.apache.catalina.connector.ResponseFacade@7c7bc66b]}
2024-03-28 11:47:44.196  INFO 15088 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 11:47:44.197  INFO 15088 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:49.703  INFO 15088 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7c7bc66b, root, hyfhsy, 6jkv, org.apache.catalina.session.StandardSessionFacade@b104c0f, {}]}
2024-03-28 11:47:49.706 DEBUG 15088 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 11:47:49.707 DEBUG 15088 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 11:47:49.708 DEBUG 15088 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 11:47:49.710  INFO 15088 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 11:47:49.710  INFO 15088 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:49.717  INFO 15088 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 11:47:49.737  INFO 15088 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 11:47:49.737  INFO 15088 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:52.090  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 11:47:52.091  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 11:47:52.091  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:52.177  INFO 15088 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@b104c0f]}
2024-03-28 11:47:52.178 DEBUG 15088 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 11:47:52.179 DEBUG 15088 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 11:47:52.181 DEBUG 15088 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 11:47:52.181 DEBUG 15088 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 11:47:52.181 DEBUG 15088 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 11:47:52.182 DEBUG 15088 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 11:47:52.183  INFO 15088 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 11:47:52.183  INFO 15088 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 11:47:57.965  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@b104c0f]}
2024-03-28 11:47:57.967 DEBUG 15088 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 11:47:57.967 DEBUG 15088 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), root(String), root(String), hyf(String)
2024-03-28 11:47:57.969 DEBUG 15088 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 11:47:57.969  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), Message(toName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 11:47:57.970  INFO 15088 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:11:50.787  INFO 15088 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:11:50.790  INFO 15088 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 12:11:50.797  INFO 15088 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 12:11:54.914  INFO 12468 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 12468 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 12:11:54.915 DEBUG 12468 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 12:11:54.915  INFO 12468 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 12:11:54.938  INFO 12468 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 12:11:54.938  INFO 12468 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 12:11:55.371  INFO 12468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 12:11:55.420  INFO 12468 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2024-03-28 12:11:55.852  INFO 12468 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 12:11:55.859  INFO 12468 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 12:11:55.859  INFO 12468 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 12:11:55.914  INFO 12468 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 12:11:55.915  INFO 12468 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 976 ms
2024-03-28 12:11:56.026  INFO 12468 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 12:11:56.049  INFO 12468 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 12:11:56.133  INFO 12468 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 12:11:56.188  INFO 12468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 12:11:56.391  INFO 12468 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 12:11:56.402  INFO 12468 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 12:11:56.891  INFO 12468 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 12:11:56.896  INFO 12468 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:11:57.584  WARN 12468 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 12:11:57.754  INFO 12468 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 12:11:58.041  INFO 12468 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 12:11:58.073  INFO 12468 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 12:11:58.079  INFO 12468 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.488 seconds (JVM running for 4.27)
2024-03-28 12:12:02.803  INFO 12468 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 12:12:02.804  INFO 12468 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 12:12:02.805  INFO 12468 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 12:12:04.358  INFO 12468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 12:12:04.365  INFO 12468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 12:12:04.366  INFO 12468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:12:04.603  INFO 12468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@551d8080, org.apache.catalina.connector.ResponseFacade@7bf4c0db]}
2024-03-28 12:12:04.819  INFO 12468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 12:12:04.819  INFO 12468 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:12:09.323  INFO 12468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7bf4c0db, hyf, hyfhsy, n4i3, org.apache.catalina.session.StandardSessionFacade@7a2ed7bb, {}]}
2024-03-28 12:12:09.354 DEBUG 12468 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 12:12:09.362 DEBUG 12468 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 12:12:09.375 DEBUG 12468 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 12:12:09.381  INFO 12468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 12:12:09.381  INFO 12468 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:12:09.407  INFO 12468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 12:12:09.505  WARN 12468 --- [http-nio-8080-exec-4] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 12:12:09.517  INFO 12468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 12:12:09.517  INFO 12468 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:12:13.754  INFO 12468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:12:13.757  INFO 12468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:12:13.759  INFO 12468 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:12:13.971  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7a2ed7bb]}
2024-03-28 12:12:13.973 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:12:13.973 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 12:12:13.979 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 12:12:13.981 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:12:13.983 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 12:12:13.986 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:12:13.987 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:12:13.987 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 12:12:13.990 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:12:13.991 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:12:13.993 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 12:12:13.995 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:12:14.005  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 12:12:14.006  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:12:17.330  INFO 12468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@7a2ed7bb]}
2024-03-28 12:12:17.331 DEBUG 12468 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 12:12:17.332 DEBUG 12468 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 12:12:17.334 DEBUG 12468 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 12:12:17.335  INFO 12468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 12:12:17.345  INFO 12468 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:13:18.505  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7a2ed7bb]}
2024-03-28 12:13:18.505 DEBUG 12468 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 12:13:18.506 DEBUG 12468 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 12:13:18.508 DEBUG 12468 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 12:13:18.508  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 12:13:18.508  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:13:21.708  INFO 12468 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:13:21.709  INFO 12468 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:13:21.709  INFO 12468 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:13:21.886  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7a2ed7bb]}
2024-03-28 12:13:21.887 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:13:21.888 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 12:13:21.891 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 12:13:21.891 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:13:21.892 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 12:13:21.893 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:13:21.894 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:13:21.895 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 12:13:21.897 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:13:21.898 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:13:21.899 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 12:13:21.901 DEBUG 12468 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:13:21.901  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 12:13:21.903  INFO 12468 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:14:41.226  INFO 12468 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:14:41.229  INFO 12468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 12:14:41.237  INFO 12468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 12:14:44.653  INFO 19724 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 19724 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 12:14:44.653 DEBUG 19724 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 12:14:44.654  INFO 19724 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 12:14:44.677  INFO 19724 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 12:14:44.677  INFO 19724 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 12:14:45.155  INFO 19724 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 12:14:45.208  INFO 19724 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2024-03-28 12:14:45.694  INFO 19724 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 12:14:45.700  INFO 19724 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 12:14:45.701  INFO 19724 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 12:14:45.760  INFO 19724 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 12:14:45.760  INFO 19724 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1081 ms
2024-03-28 12:14:45.884  INFO 19724 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 12:14:45.915  INFO 19724 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 12:14:46.006  INFO 19724 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 12:14:46.068  INFO 19724 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 12:14:46.296  INFO 19724 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 12:14:46.309  INFO 19724 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 12:14:46.879  INFO 19724 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 12:14:46.885  INFO 19724 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:14:47.692  WARN 19724 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 12:14:47.894  INFO 19724 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 12:14:48.202  INFO 19724 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 12:14:48.237  INFO 19724 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 12:14:48.244  INFO 19724 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.927 seconds (JVM running for 5.278)
2024-03-28 12:14:51.161  INFO 19724 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 12:14:51.162  INFO 19724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 12:14:51.163  INFO 19724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 12:14:51.385  WARN 19724 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [207] milliseconds.
2024-03-28 12:14:52.703  INFO 19724 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 12:14:52.712  INFO 19724 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 12:14:52.712  INFO 19724 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:14:52.952  INFO 19724 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@43b3ca4f, org.apache.catalina.connector.ResponseFacade@48739ef8]}
2024-03-28 12:14:53.182  INFO 19724 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 12:14:53.184  INFO 19724 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:15:01.453  INFO 19724 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@48739ef8, hyf, hyfhsy, f8vk, org.apache.catalina.session.StandardSessionFacade@23fa0031, {}]}
2024-03-28 12:15:01.492 DEBUG 19724 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 12:15:01.499 DEBUG 19724 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 12:15:01.511 DEBUG 19724 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 12:15:01.516  INFO 19724 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 12:15:01.516  INFO 19724 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:15:01.544  INFO 19724 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 12:15:01.634  WARN 19724 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 12:15:01.647  INFO 19724 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 12:15:01.647  INFO 19724 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:15:05.353  INFO 19724 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:15:05.357  INFO 19724 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:15:05.357  INFO 19724 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:15:05.547  INFO 19724 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-03-28 12:15:05.550 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:15:05.551 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 12:15:05.555 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 12:15:05.557 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:15:05.558 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 12:15:05.560 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:15:05.562 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:15:05.563 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 12:15:05.565 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:15:05.566 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:15:05.566 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 12:15:05.568 DEBUG 19724 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:15:05.581  INFO 19724 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 12:15:05.581  INFO 19724 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:15:07.507  INFO 19724 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@23fa0031]}
2024-03-28 12:15:07.508 DEBUG 19724 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 12:15:07.509 DEBUG 19724 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 12:15:07.510 DEBUG 19724 --- [http-nio-8080-exec-7] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 12:15:07.511  INFO 19724 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 12:15:07.523  INFO 19724 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:18:31.126  WARN 19724 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m6s476ms555?s).
2024-03-28 12:18:31.357  INFO 19724 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:18:31.360  INFO 19724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 12:18:31.371  INFO 19724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 12:29:36.348  INFO 22232 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 22232 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 12:29:36.354 DEBUG 22232 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 12:29:36.354  INFO 22232 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 12:29:36.379  INFO 22232 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 12:29:36.379  INFO 22232 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 12:29:36.861  INFO 22232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 12:29:36.917  INFO 22232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-03-28 12:29:37.412  INFO 22232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 12:29:37.419  INFO 22232 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 12:29:37.419  INFO 22232 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 12:29:37.478  INFO 22232 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 12:29:37.478  INFO 22232 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1099 ms
2024-03-28 12:29:37.609  INFO 22232 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 12:29:37.640  INFO 22232 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 12:29:37.728  INFO 22232 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 12:29:37.788  INFO 22232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 12:29:38.035  INFO 22232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 12:29:38.057  INFO 22232 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 12:29:38.624  INFO 22232 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 12:29:38.630  INFO 22232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:29:39.447  WARN 22232 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 12:29:39.681  INFO 22232 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 12:29:40.000  INFO 22232 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 12:29:40.040  INFO 22232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 12:29:40.049  INFO 22232 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.05 seconds (JVM running for 4.883)
2024-03-28 12:29:43.054  INFO 22232 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 12:29:43.054  INFO 22232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 12:29:43.055  INFO 22232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 12:29:43.267  WARN 22232 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [196] milliseconds.
2024-03-28 12:29:44.202  INFO 22232 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 12:29:44.209  INFO 22232 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 12:29:44.211  INFO 22232 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:29:44.453  INFO 22232 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@6cfd3ec5, org.apache.catalina.connector.ResponseFacade@8514709]}
2024-03-28 12:29:44.688  INFO 22232 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 12:29:44.689  INFO 22232 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:29:56.779  INFO 22232 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@8514709, hyf, hyfhsy, 3q9n, org.apache.catalina.session.StandardSessionFacade@55d6cb5e, {}]}
2024-03-28 12:29:56.814 DEBUG 22232 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 12:29:56.822 DEBUG 22232 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 12:29:56.832 DEBUG 22232 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 12:29:56.836  INFO 22232 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 12:29:56.836  INFO 22232 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:29:56.863  INFO 22232 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 12:29:56.960  WARN 22232 --- [http-nio-8080-exec-8] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 12:29:56.974  INFO 22232 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 12:29:56.974  INFO 22232 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:30:01.252  INFO 22232 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:30:01.257  INFO 22232 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:30:01.257  INFO 22232 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:30:01.468  INFO 22232 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@55d6cb5e]}
2024-03-28 12:30:01.470 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:30:01.471 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 12:30:01.477 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 12:30:01.480 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:30:01.480 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 12:30:01.484 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:30:01.485 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:30:01.486 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 12:30:01.488 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:30:01.488 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:30:01.489 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 12:30:01.490 DEBUG 22232 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:30:01.503  INFO 22232 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=5, sendTime=Tue Mar 26 19:59:54 CST 2024, senderUsername=root, recipientUsername=hyf, content=我也喜欢你呀！, type=false, isRead=true))]
2024-03-28 12:30:01.503  INFO 22232 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:30:03.816  INFO 22232 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@55d6cb5e]}
2024-03-28 12:30:03.817 DEBUG 22232 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 12:30:03.818 DEBUG 22232 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 12:30:03.819 DEBUG 22232 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 2
2024-03-28 12:30:03.820  INFO 22232 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024)]
2024-03-28 12:30:03.832  INFO 22232 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:30:40.308 DEBUG 22232 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 12:30:40.321 DEBUG 22232 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 嘿嘿(String), 2024-03-28 12:30:08.729(Timestamp), false(Boolean), true(Boolean)
2024-03-28 12:30:40.362 DEBUG 22232 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 12:31:19.486  INFO 22232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:31:19.490  INFO 22232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 12:31:19.500  INFO 22232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 12:31:23.530  INFO 3252 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 3252 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 12:31:23.531 DEBUG 3252 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 12:31:23.531  INFO 3252 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 12:31:23.557  INFO 3252 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 12:31:23.558  INFO 3252 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 12:31:24.034  INFO 3252 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 12:31:24.093  INFO 3252 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2024-03-28 12:31:24.590  INFO 3252 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 12:31:24.597  INFO 3252 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 12:31:24.597  INFO 3252 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 12:31:24.655  INFO 3252 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 12:31:24.657  INFO 3252 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1098 ms
2024-03-28 12:31:24.792  INFO 3252 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 12:31:24.828  INFO 3252 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 12:31:24.913  INFO 3252 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 12:31:24.971  INFO 3252 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 12:31:25.214  INFO 3252 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 12:31:25.229  INFO 3252 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 12:31:25.830  INFO 3252 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 12:31:25.837  INFO 3252 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:31:26.602  WARN 3252 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 12:31:26.848  INFO 3252 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 12:31:27.142  INFO 3252 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 12:31:27.181  INFO 3252 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 12:31:27.189  INFO 3252 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.994 seconds (JVM running for 4.745)
2024-03-28 12:31:27.386  INFO 3252 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:31:27.389  INFO 3252 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 12:31:27.400  INFO 3252 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 12:32:02.649  INFO 30692 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 30692 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 12:32:02.650 DEBUG 30692 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 12:32:02.650  INFO 30692 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 12:32:02.672  INFO 30692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 12:32:02.673  INFO 30692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 12:32:03.108  INFO 30692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 12:32:03.167  INFO 30692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2024-03-28 12:32:03.671  INFO 30692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 12:32:03.679  INFO 30692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 12:32:03.679  INFO 30692 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 12:32:03.744  INFO 30692 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 12:32:03.744  INFO 30692 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms
2024-03-28 12:32:03.860  INFO 30692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 12:32:03.885  INFO 30692 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 12:32:03.961  INFO 30692 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 12:32:04.025  INFO 30692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 12:32:04.266  INFO 30692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 12:32:04.278  INFO 30692 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 12:32:04.868  INFO 30692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 12:32:04.875  INFO 30692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:32:05.673  WARN 30692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 12:32:05.911  INFO 30692 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 12:32:06.272  INFO 30692 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 12:32:06.310  INFO 30692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 12:32:06.322  INFO 30692 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.021 seconds (JVM running for 4.763)
2024-03-28 12:32:16.697  INFO 30692 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 12:32:16.697  INFO 30692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 12:32:16.698  INFO 30692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 12:32:16.921  WARN 30692 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [208] milliseconds.
2024-03-28 12:32:18.071  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 12:32:18.079  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 12:32:18.079  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:18.299  INFO 30692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@607474ff, org.apache.catalina.connector.ResponseFacade@3eb1e271]}
2024-03-28 12:32:18.515  INFO 30692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 12:32:18.515  INFO 30692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:21.984  INFO 30692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@3eb1e271, hyf, hyfhsy, i433, org.apache.catalina.session.StandardSessionFacade@8ca82d7, {}]}
2024-03-28 12:32:22.007 DEBUG 30692 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 12:32:22.013 DEBUG 30692 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 12:32:22.020 DEBUG 30692 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 12:32:22.024  INFO 30692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 12:32:22.025  INFO 30692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:22.045  INFO 30692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 12:32:22.108  WARN 30692 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 12:32:22.118  INFO 30692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 12:32:22.118  INFO 30692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:26.674  INFO 30692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:32:26.678  INFO 30692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:32:26.678  INFO 30692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:26.871  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@8ca82d7]}
2024-03-28 12:32:26.872 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:32:26.872 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 12:32:26.875 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 12:32:26.876 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:32:26.877 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 12:32:26.878 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:32:26.878 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:32:26.879 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 12:32:26.879 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:32:26.879 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:32:26.879 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 12:32:26.881 DEBUG 30692 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:32:26.887  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=7, sendTime=Thu Mar 28 12:30:09 CST 2024, senderUsername=hyf, recipientUsername=root, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 12:32:26.887  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:28.787  INFO 30692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@8ca82d7]}
2024-03-28 12:32:28.788 DEBUG 30692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 12:32:28.789 DEBUG 30692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 12:32:28.791 DEBUG 30692 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 12:32:28.791  INFO 30692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 12:32:28.796  INFO 30692 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:34.205  INFO 30692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@8ca82d7]}
2024-03-28 12:32:34.207 DEBUG 30692 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 12:32:34.207 DEBUG 30692 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 12:32:34.209 DEBUG 30692 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 12:32:34.209  INFO 30692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024)]
2024-03-28 12:32:34.209  INFO 30692 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:49.277  INFO 30692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 12:32:49.277  INFO 30692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 12:32:49.277  INFO 30692 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:49.285  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@105243a9, org.apache.catalina.connector.ResponseFacade@24cef9b3]}
2024-03-28 12:32:49.290  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 12:32:49.290  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:58.309  INFO 30692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@24cef9b3, root, hyfhsy, 8zq8, org.apache.catalina.session.StandardSessionFacade@1d674a53, {}]}
2024-03-28 12:32:58.312 DEBUG 30692 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 12:32:58.314 DEBUG 30692 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 12:32:58.315 DEBUG 30692 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 12:32:58.316  INFO 30692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 12:32:58.316  INFO 30692 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:32:58.320  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 12:32:58.332  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 12:32:58.333  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:33:01.658  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:33:01.658  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:33:01.659  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:33:01.768  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@1d674a53]}
2024-03-28 12:33:01.769 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:33:01.770 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 12:33:01.773 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 12:33:01.774 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:33:01.774 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 12:33:01.776 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:33:01.777  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=7, sendTime=Thu Mar 28 12:30:09 CST 2024, senderUsername=hyf, recipientUsername=root, content=嘿嘿, type=false, isRead=true))]
2024-03-28 12:33:01.778  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:33:03.483  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@1d674a53]}
2024-03-28 12:33:03.486 DEBUG 30692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 12:33:03.486 DEBUG 30692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), root(String), root(String), hyf(String)
2024-03-28 12:33:03.489 DEBUG 30692 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 12:33:03.489  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), Message(toName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024)]
2024-03-28 12:33:03.489  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:33:10.897 DEBUG 30692 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 12:33:10.900 DEBUG 30692 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), O(∩_∩)O哈哈~(String), 2024-03-28 12:33:10.847(Timestamp), false(Boolean), true(Boolean)
2024-03-28 12:33:10.963 DEBUG 30692 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 12:33:52.074 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 12:33:52.074 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 消息怎么没了(String), 2024-03-28 12:33:52.071(Timestamp), false(Boolean), true(Boolean)
2024-03-28 12:33:52.158 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 12:33:59.066  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:33:59.066  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:33:59.066  INFO 30692 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:33:59.237  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@8ca82d7]}
2024-03-28 12:33:59.239 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:33:59.239 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 12:33:59.241 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 12:33:59.242 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:33:59.243 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 12:33:59.244 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:33:59.246 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:33:59.247 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 12:33:59.248 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:33:59.250 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:33:59.250 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 12:33:59.252 DEBUG 30692 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:33:59.254  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=9, sendTime=Thu Mar 28 12:33:52 CST 2024, senderUsername=hyf, recipientUsername=root, content=消息怎么没了, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 12:33:59.254  INFO 30692 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:34:11.119 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 12:34:11.120 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 不知道啊
(String), 2024-03-28 12:34:11.117(Timestamp), false(Boolean), true(Boolean)
2024-03-28 12:34:11.194 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 12:34:25.032  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 12:34:25.033  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 12:34:25.033  INFO 30692 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:34:25.197  INFO 30692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@8ca82d7]}
2024-03-28 12:34:25.198 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 12:34:25.199 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 12:34:25.201 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 12:34:25.203 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:34:25.203 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 12:34:25.205 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:34:25.205 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:34:25.206 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 12:34:25.207 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:34:25.209 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 12:34:25.209 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 12:34:25.211 DEBUG 30692 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 12:34:25.212  INFO 30692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=10, sendTime=Thu Mar 28 12:34:11 CST 2024, senderUsername=root, recipientUsername=hyf, content=不知道啊
, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 12:34:25.212  INFO 30692 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 12:36:12.598  INFO 30692 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 12:36:12.601  INFO 30692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 12:36:12.610  INFO 30692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 14:43:46.548  INFO 32716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 32716 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 14:43:46.549 DEBUG 32716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 14:43:46.550  INFO 32716 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 14:43:46.575  INFO 32716 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 14:43:46.575  INFO 32716 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 14:43:47.011  INFO 32716 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 14:43:47.064  INFO 32716 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2024-03-28 14:43:47.494  INFO 32716 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 14:43:47.500  INFO 32716 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 14:43:47.500  INFO 32716 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 14:43:47.555  INFO 32716 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 14:43:47.556  INFO 32716 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 980 ms
2024-03-28 14:43:47.665  INFO 32716 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 14:43:47.690  INFO 32716 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 14:43:47.769  INFO 32716 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 14:43:47.822  INFO 32716 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 14:43:48.020  INFO 32716 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 14:43:48.032  INFO 32716 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 14:43:48.570  INFO 32716 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 14:43:48.576  INFO 32716 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 14:43:49.308  WARN 32716 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 14:43:49.533  INFO 32716 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 14:43:49.801  INFO 32716 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 14:43:49.835  INFO 32716 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 14:43:49.843  INFO 32716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.617 seconds (JVM running for 4.313)
2024-03-28 14:43:58.862  INFO 32716 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 14:43:58.863  INFO 32716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 14:43:58.864  INFO 32716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 14:43:59.173  WARN 32716 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [291] milliseconds.
2024-03-28 14:44:00.348  INFO 32716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 14:44:00.360  INFO 32716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 14:44:00.360  INFO 32716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:00.697  INFO 32716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@74eb0821, org.apache.catalina.connector.ResponseFacade@223bd37d]}
2024-03-28 14:44:01.010  INFO 32716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 14:44:01.011  INFO 32716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:05.629  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@223bd37d, hyf, hyfhsy, 8hp5, org.apache.catalina.session.StandardSessionFacade@294434b3, {}]}
2024-03-28 14:44:05.659 DEBUG 32716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 14:44:05.667 DEBUG 32716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 14:44:05.680 DEBUG 32716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 14:44:05.685  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 14:44:05.685  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:05.711  INFO 32716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 14:44:05.798  WARN 32716 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 14:44:05.811  INFO 32716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 14:44:05.811  INFO 32716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:09.729  INFO 32716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 14:44:09.732  INFO 32716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 14:44:09.733  INFO 32716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:09.947  INFO 32716 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@294434b3]}
2024-03-28 14:44:09.950 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 14:44:09.951 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 14:44:09.955 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 14:44:09.957 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:09.958 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 14:44:09.959 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:09.960 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:09.961 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 14:44:09.963 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:09.964 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:09.964 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 14:44:09.967 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:09.968  INFO 32716 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=10, sendTime=Thu Mar 28 12:34:11 CST 2024, senderUsername=root, recipientUsername=hyf, content=不知道啊
, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 14:44:09.978  INFO 32716 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:15.453  INFO 32716 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@294434b3]}
2024-03-28 14:44:15.455 DEBUG 32716 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 14:44:15.455 DEBUG 32716 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 14:44:15.457 DEBUG 32716 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 1
2024-03-28 14:44:15.463  INFO 32716 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024)]
2024-03-28 14:44:15.463  INFO 32716 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:21.109  INFO 32716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@294434b3]}
2024-03-28 14:44:21.110 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 14:44:21.112 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 14:44:21.115 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 14:44:21.115 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:21.115 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 14:44:21.117 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:21.118 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:21.119 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 14:44:21.120 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:21.121 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:21.121 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 14:44:21.122 DEBUG 32716 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:21.123  INFO 32716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=10, sendTime=Thu Mar 28 12:34:11 CST 2024, senderUsername=root, recipientUsername=hyf, content=不知道啊
, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=6, sendTime=Wed Mar 27 19:59:20 CST 2024, senderUsername=zyd, recipientUsername=hyf, content=Kafka，在吗？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 14:44:21.123  INFO 32716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:21.175 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 14:44:21.178 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), zyd(String), 在啊(String), 2024-03-28 14:44:21.103(Timestamp), false(Boolean), true(Boolean)
2024-03-28 14:44:21.279 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 14:44:43.315  INFO 32716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 14:44:43.315  INFO 32716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 14:44:43.315  INFO 32716 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:44:43.519  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@294434b3]}
2024-03-28 14:44:43.520 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 14:44:43.522 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 14:44:43.530 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 14:44:43.533 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:43.535 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 14:44:43.540 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:43.541 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:43.542 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 14:44:43.545 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:43.546 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:44:43.546 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 14:44:43.548 DEBUG 32716 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:44:43.550  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=11, sendTime=Thu Mar 28 14:44:21 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=在啊, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=10, sendTime=Thu Mar 28 12:34:11 CST 2024, senderUsername=root, recipientUsername=hyf, content=不知道啊
, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 14:44:43.550  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:46:07.869  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@294434b3]}
2024-03-28 14:46:07.872 DEBUG 32716 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 14:46:07.873 DEBUG 32716 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 14:46:07.877 DEBUG 32716 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-03-28 14:46:07.882  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=消息怎么没了, sendTime=Thu Mar 28 12:33:52 CST 2024), ResultMessage(isSystem=false, fromName=root, message=不知道啊
, sendTime=Thu Mar 28 12:34:11 CST 2024)]
2024-03-28 14:46:07.882  INFO 32716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:49:37.468 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 14:49:37.469 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 最新消息更新测试(String), 2024-03-28 14:49:37.465(Timestamp), false(Boolean), true(Boolean)
2024-03-28 14:49:37.472  INFO 32716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@294434b3]}
2024-03-28 14:49:37.474 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 14:49:37.474 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 14:49:37.477 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 14:49:37.478 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:49:37.478 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 14:49:37.479 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:49:37.480 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:49:37.480 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 14:49:37.482 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:49:37.483 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 14:49:37.483 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 14:49:37.485 DEBUG 32716 --- [http-nio-8080-exec-4] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 14:49:37.485  INFO 32716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=11, sendTime=Thu Mar 28 14:44:21 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=在啊, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=10, sendTime=Thu Mar 28 12:34:11 CST 2024, senderUsername=root, recipientUsername=hyf, content=不知道啊
, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 14:49:37.485  INFO 32716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 14:49:37.572 DEBUG 32716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:05:40.837  INFO 32716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:05:40.840  INFO 32716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 15:05:40.865  INFO 32716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 15:05:44.521  INFO 20524 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 20524 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 15:05:44.521 DEBUG 20524 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 15:05:44.521  INFO 20524 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 15:05:44.542  INFO 20524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 15:05:44.543  INFO 20524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 15:05:44.968  INFO 20524 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 15:05:45.018  INFO 20524 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2024-03-28 15:05:45.443  INFO 20524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 15:05:45.449  INFO 20524 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 15:05:45.450  INFO 20524 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 15:05:45.510  INFO 20524 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 15:05:45.511  INFO 20524 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 968 ms
2024-03-28 15:05:45.672  INFO 20524 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 15:05:45.704  INFO 20524 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 15:05:45.788  INFO 20524 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 15:05:45.855  INFO 20524 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 15:05:46.071  INFO 20524 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 15:05:46.083  INFO 20524 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 15:05:46.654  INFO 20524 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 15:05:46.660  INFO 20524 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:05:47.356  WARN 20524 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 15:05:47.568  INFO 20524 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 15:05:47.857  INFO 20524 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 15:05:47.887  INFO 20524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 15:05:47.894  INFO 20524 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.678 seconds (JVM running for 4.841)
2024-03-28 15:05:56.144  INFO 20524 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 15:05:56.145  INFO 20524 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 15:05:56.146  INFO 20524 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 15:05:58.682  INFO 20524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 15:05:58.690  INFO 20524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 15:05:58.690  INFO 20524 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:05:58.904  INFO 20524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@46010c00, org.apache.catalina.connector.ResponseFacade@48c6fab0]}
2024-03-28 15:05:59.115  INFO 20524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 15:05:59.115  INFO 20524 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:06:04.893  INFO 20524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@48c6fab0, hyf, hyfhsy, ru72, org.apache.catalina.session.StandardSessionFacade@1720558c, {}]}
2024-03-28 15:06:04.914 DEBUG 20524 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 15:06:04.918 DEBUG 20524 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 15:06:04.926 DEBUG 20524 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 15:06:04.932  INFO 20524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 15:06:04.933  INFO 20524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:06:04.952  INFO 20524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 15:06:05.022  WARN 20524 --- [http-nio-8080-exec-2] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 15:06:05.029  INFO 20524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 15:06:05.029  INFO 20524 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:06:22.321  INFO 20524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 15:06:22.326  INFO 20524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 15:06:22.326  INFO 20524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:06:22.543  INFO 20524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@1720558c]}
2024-03-28 15:06:22.545 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:06:22.546 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:06:22.549 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:06:22.550 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:06:22.551 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:06:22.553 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:06:22.554 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:06:22.554 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:06:22.556 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:06:22.557 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:06:22.558 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:06:22.560 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:06:22.560  INFO 20524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=11, sendTime=Thu Mar 28 14:44:21 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=在啊, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:06:22.570  INFO 20524 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:07:13.915  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@1720558c]}
2024-03-28 15:07:13.917 DEBUG 20524 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 15:07:13.918 DEBUG 20524 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 15:07:13.920 DEBUG 20524 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 15:07:13.929  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 15:07:13.929  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:07:17.059  INFO 20524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@1720558c]}
2024-03-28 15:07:17.062 DEBUG 20524 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 15:07:17.063 DEBUG 20524 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 15:07:17.066 DEBUG 20524 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 15:07:17.067  INFO 20524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 15:07:17.067  INFO 20524 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:08:09.498  INFO 20524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@1720558c]}
2024-03-28 15:08:09.499 DEBUG 20524 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 15:08:09.500 DEBUG 20524 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 15:08:09.502 DEBUG 20524 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 15:08:09.502  INFO 20524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 15:08:09.503  INFO 20524 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:08:24.505  INFO 20524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@1720558c]}
2024-03-28 15:08:24.507 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:08:24.507 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:08:24.509 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:08:24.510 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:08:24.510 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:08:24.513 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:08:24.514 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:08:24.514 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:08:24.515 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:08:24.515 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:08:24.517 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:08:24.517 DEBUG 20524 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:08:24.517  INFO 20524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=11, sendTime=Thu Mar 28 14:44:21 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=在啊, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:08:24.519  INFO 20524 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:08:24.576 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:08:24.581 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), zyd(String), 找我什么事情？(String), 2024-03-28 15:08:24.498(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:08:24.675 DEBUG 20524 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:12:05.732  INFO 20524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@1720558c]}
2024-03-28 15:12:05.733 DEBUG 20524 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 15:12:05.734 DEBUG 20524 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 15:12:05.736 DEBUG 20524 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 15:12:05.736  INFO 20524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 15:12:05.736  INFO 20524 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:12:22.641  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 15:12:22.642  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 15:12:22.642  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:12:22.816  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@1720558c]}
2024-03-28 15:12:22.819 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:12:22.819 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:12:22.822 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:12:22.823 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:12:22.824 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:12:22.830 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:12:22.832 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:12:22.833 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:12:22.838 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:12:22.840 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:12:22.840 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:12:22.842 DEBUG 20524 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:12:22.843  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:12:22.843  INFO 20524 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:13:39.244  INFO 20524 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:13:39.247  INFO 20524 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 15:13:39.255  INFO 20524 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 15:13:43.245  INFO 22732 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 22732 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 15:13:43.245 DEBUG 22732 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 15:13:43.246  INFO 22732 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 15:13:43.270  INFO 22732 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 15:13:43.270  INFO 22732 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 15:13:43.702  INFO 22732 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 15:13:43.758  INFO 22732 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-03-28 15:13:44.219  INFO 22732 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 15:13:44.225  INFO 22732 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 15:13:44.225  INFO 22732 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 15:13:44.296  INFO 22732 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 15:13:44.297  INFO 22732 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1027 ms
2024-03-28 15:13:44.429  INFO 22732 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 15:13:44.458  INFO 22732 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 15:13:44.544  INFO 22732 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 15:13:44.593  INFO 22732 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 15:13:44.802  INFO 22732 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 15:13:44.811  INFO 22732 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 15:13:45.414  INFO 22732 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 15:13:45.423  INFO 22732 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:13:46.278  WARN 22732 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 15:13:46.501  INFO 22732 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 15:13:46.788  INFO 22732 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 15:13:46.823  INFO 22732 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 15:13:46.831  INFO 22732 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.924 seconds (JVM running for 4.64)
2024-03-28 15:13:54.753  INFO 22732 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 15:13:54.754  INFO 22732 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 15:13:54.754  INFO 22732 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-03-28 15:13:55.214  INFO 22732 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 15:13:55.222  INFO 22732 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 15:13:55.222  INFO 22732 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:13:55.448  INFO 22732 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@56e28db, org.apache.catalina.connector.ResponseFacade@328c6080]}
2024-03-28 15:13:55.657  INFO 22732 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 15:13:55.658  INFO 22732 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:14:01.263  INFO 22732 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@328c6080, hyf, hyfhsy, d1ao, org.apache.catalina.session.StandardSessionFacade@68627c7a, {}]}
2024-03-28 15:14:01.298 DEBUG 22732 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 15:14:01.304 DEBUG 22732 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 15:14:01.314 DEBUG 22732 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 15:14:01.320  INFO 22732 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 15:14:01.320  INFO 22732 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:14:01.346  INFO 22732 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 15:14:01.440  WARN 22732 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 15:14:01.451  INFO 22732 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 15:14:01.452  INFO 22732 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:14:05.746  INFO 22732 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 15:14:05.749  INFO 22732 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 15:14:05.749  INFO 22732 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:14:05.978  INFO 22732 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 15:14:05.980 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:14:05.981 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:14:05.985 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:14:05.988 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:05.988 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:14:05.989 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:05.990 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:05.991 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:14:05.993 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:05.994 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:05.994 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:14:05.996 DEBUG 22732 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:06.004  INFO 22732 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:14:06.004  INFO 22732 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:14:41.079  INFO 22732 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 15:14:41.080 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:14:41.080 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:14:41.083 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:14:41.083 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:41.084 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:14:41.086 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:41.086 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:41.087 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:14:41.088 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:41.089 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:41.089 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:14:41.090 DEBUG 22732 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:41.091  INFO 22732 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:14:41.091  INFO 22732 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:14:41.150 DEBUG 22732 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:14:41.153 DEBUG 22732 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 1(String), 2024-03-28 15:14:41.072(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:14:41.205 DEBUG 22732 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:14:54.683  INFO 22732 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 15:14:54.684  INFO 22732 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 15:14:54.684  INFO 22732 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:14:54.873  INFO 22732 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@68627c7a]}
2024-03-28 15:14:54.874 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:14:54.874 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:14:54.878 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:14:54.878 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:54.879 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:14:54.881 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:54.882 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:54.882 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:14:54.884 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:54.885 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:14:54.886 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:14:54.888 DEBUG 22732 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:14:54.889  INFO 22732 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:14:54.889  INFO 22732 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:21:35.459  INFO 22732 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:21:35.462  INFO 22732 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 15:21:35.471  INFO 22732 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 15:21:38.250  INFO 25036 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 25036 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 15:21:38.251 DEBUG 25036 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 15:21:38.251  INFO 25036 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 15:21:38.276  INFO 25036 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 15:21:38.276  INFO 25036 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 15:21:38.679  INFO 25036 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 15:21:38.733  INFO 25036 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2024-03-28 15:21:39.135  INFO 25036 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 15:21:39.141  INFO 25036 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 15:21:39.141  INFO 25036 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 15:21:39.206  INFO 25036 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 15:21:39.207  INFO 25036 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 931 ms
2024-03-28 15:21:39.317  INFO 25036 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 15:21:39.339  INFO 25036 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 15:21:39.414  INFO 25036 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 15:21:39.463  INFO 25036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 15:21:39.663  INFO 25036 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 15:21:39.675  INFO 25036 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 15:21:40.173  INFO 25036 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 15:21:40.179  INFO 25036 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:21:40.814  WARN 25036 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 15:21:41.022  INFO 25036 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 15:21:41.287  INFO 25036 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 15:21:41.318  INFO 25036 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 15:21:41.324  INFO 25036 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.357 seconds (JVM running for 4.03)
2024-03-28 15:21:57.989  INFO 25036 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 15:21:57.990  INFO 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 15:21:57.991  INFO 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 15:21:59.074  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 15:21:59.081  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 15:21:59.081  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:21:59.309  INFO 25036 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2880539f, org.apache.catalina.connector.ResponseFacade@5290e054]}
2024-03-28 15:21:59.517  INFO 25036 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 15:21:59.517  INFO 25036 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:04.747  INFO 25036 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@5290e054, hyf, hyfhsy, 1ynu, org.apache.catalina.session.StandardSessionFacade@318d9ebd, {}]}
2024-03-28 15:22:04.747  INFO 25036 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-03-28 15:22:04.748  INFO 25036 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:04.774  INFO 25036 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 15:22:04.774  INFO 25036 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 15:22:04.774  INFO 25036 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:04.825  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@41b8ee04, org.apache.catalina.connector.ResponseFacade@4f7f0843]}
2024-03-28 15:22:04.835  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 15:22:04.835  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:09.166  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4f7f0843, hyf, hyfhsy, hrmx, org.apache.catalina.session.StandardSessionFacade@318d9ebd, {}]}
2024-03-28 15:22:09.198 DEBUG 25036 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 15:22:09.204 DEBUG 25036 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 15:22:09.213 DEBUG 25036 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 15:22:09.219  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 15:22:09.220  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:09.234  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 15:22:09.315  WARN 25036 --- [http-nio-8080-exec-3] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 15:22:09.328  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 15:22:09.328  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:13.036  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 15:22:13.039  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 15:22:13.039  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:13.248  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@318d9ebd]}
2024-03-28 15:22:13.250 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:22:13.251 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:22:13.254 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:22:13.256 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:13.257 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:22:13.258 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:13.259 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:13.261 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:22:13.263 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:13.263 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:13.264 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:22:13.265 DEBUG 25036 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:13.278  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:22:13.279  INFO 25036 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:13.299  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@318d9ebd]}
2024-03-28 15:22:13.300 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:22:13.300 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:22:13.303 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:22:13.304 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:13.304 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:22:13.306 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:13.307 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:13.307 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:22:13.309 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:13.310 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:13.311 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:22:13.312 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:13.313  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:22:13.313  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:23.958  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@318d9ebd]}
2024-03-28 15:22:23.959 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:22:23.960 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:22:23.962 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:22:23.963 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:23.963 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:22:23.965 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:23.965 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:23.966 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:22:23.967 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:23.967 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:22:23.968 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:22:23.969 DEBUG 25036 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:22:23.969  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=12, sendTime=Thu Mar 28 14:49:37 CST 2024, senderUsername=hyf, recipientUsername=root, content=最新消息更新测试, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:22:23.969  INFO 25036 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:22:24.034 DEBUG 25036 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:22:24.039 DEBUG 25036 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 2(String), 2024-03-28 15:22:23.951(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:22:24.072 DEBUG 25036 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:23:46.796 DEBUG 25036 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:23:46.797 DEBUG 25036 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 3(String), 2024-03-28 15:23:46.794(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:23:46.802  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@318d9ebd]}
2024-03-28 15:23:46.803 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:23:46.804 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:23:46.806 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:23:46.806 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:23:46.808 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:23:46.810 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:23:46.811 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:23:46.811 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:23:46.812 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:23:46.812 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:23:46.813 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:23:46.813 DEBUG 25036 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:23:46.814  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=15, sendTime=Thu Mar 28 15:22:24 CST 2024, senderUsername=hyf, recipientUsername=root, content=2, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:23:46.814  INFO 25036 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:23:46.877 DEBUG 25036 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:26:03.642  INFO 25036 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@318d9ebd]}
2024-03-28 15:26:03.642 DEBUG 25036 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 15:26:03.643 DEBUG 25036 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 15:26:03.645 DEBUG 25036 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 15:26:03.648  INFO 25036 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 15:26:03.648  INFO 25036 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:26:30.043  INFO 25036 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:26:30.046  INFO 25036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 15:26:30.055  INFO 25036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 15:26:32.724  INFO 20716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 20716 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 15:26:32.725 DEBUG 20716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 15:26:32.725  INFO 20716 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 15:26:32.750  INFO 20716 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 15:26:32.751  INFO 20716 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 15:26:33.206  INFO 20716 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 15:26:33.264  INFO 20716 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2024-03-28 15:26:33.751  INFO 20716 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 15:26:33.760  INFO 20716 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 15:26:33.760  INFO 20716 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 15:26:33.828  INFO 20716 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 15:26:33.828  INFO 20716 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1077 ms
2024-03-28 15:26:33.974  INFO 20716 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 15:26:34.011  INFO 20716 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 15:26:34.102  INFO 20716 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 15:26:34.165  INFO 20716 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 15:26:34.410  INFO 20716 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 15:26:34.428  INFO 20716 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 15:26:35.054  INFO 20716 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 15:26:35.060  INFO 20716 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:26:35.836  WARN 20716 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 15:26:36.038  INFO 20716 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 15:26:36.362  INFO 20716 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 15:26:36.401  INFO 20716 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 15:26:36.409  INFO 20716 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 4.005 seconds (JVM running for 4.786)
2024-03-28 15:27:05.524  INFO 20716 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 15:27:05.525  INFO 20716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 15:27:05.526  INFO 20716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 15:27:06.856  INFO 20716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 15:27:06.864  INFO 20716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 15:27:06.865  INFO 20716 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:27:07.094  INFO 20716 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@66810aa9, org.apache.catalina.connector.ResponseFacade@5c39ddac]}
2024-03-28 15:27:07.313  INFO 20716 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 15:27:07.313  INFO 20716 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:27:11.258  INFO 20716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@5c39ddac, hyf, hyfhsy, so15, org.apache.catalina.session.StandardSessionFacade@47a34124, {}]}
2024-03-28 15:27:11.281 DEBUG 20716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 15:27:11.285 DEBUG 20716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 15:27:11.291 DEBUG 20716 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 15:27:11.297  INFO 20716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 15:27:11.297  INFO 20716 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:27:11.314  INFO 20716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 15:27:11.376  WARN 20716 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 15:27:11.384  INFO 20716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 15:27:11.384  INFO 20716 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:27:14.362  INFO 20716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 15:27:14.366  INFO 20716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 15:27:14.366  INFO 20716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:27:14.559  INFO 20716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@47a34124]}
2024-03-28 15:27:14.562 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:27:14.562 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:27:14.565 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:27:14.566 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:27:14.567 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:27:14.569 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:27:14.570 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:27:14.570 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:27:14.572 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:27:14.573 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:27:14.573 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:27:14.575 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:27:14.581  INFO 20716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=16, sendTime=Thu Mar 28 15:23:47 CST 2024, senderUsername=hyf, recipientUsername=root, content=3, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=13, sendTime=Thu Mar 28 15:08:24 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=找我什么事情？, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:27:14.581  INFO 20716 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:27:21.520 DEBUG 20716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:27:21.522 DEBUG 20716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), zyd(String), 4(String), 2024-03-28 15:27:21.466(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:27:21.600 DEBUG 20716 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:27:45.709 DEBUG 20716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:27:45.710 DEBUG 20716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), zyd(String), 5(String), 2024-03-28 15:27:45.707(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:27:45.766 DEBUG 20716 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:27:48.439  INFO 20716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@47a34124]}
2024-03-28 15:27:48.440 DEBUG 20716 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 15:27:48.441 DEBUG 20716 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 15:27:48.444 DEBUG 20716 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 15:27:48.448  INFO 20716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 15:27:48.448  INFO 20716 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:28:41.999 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:28:42.000 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), zyd(String), 6(String), 2024-03-28 15:28:41.997(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:28:42.084 DEBUG 20716 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 15:56:40.716  INFO 20716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:56:40.720  INFO 20716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 15:56:40.728  INFO 20716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 15:56:43.375  INFO 23960 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 23960 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 15:56:43.376 DEBUG 23960 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 15:56:43.376  INFO 23960 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 15:56:43.401  INFO 23960 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 15:56:43.401  INFO 23960 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 15:56:43.876  INFO 23960 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 15:56:43.932  INFO 23960 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2024-03-28 15:56:44.408  INFO 23960 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 15:56:44.414  INFO 23960 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 15:56:44.415  INFO 23960 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 15:56:44.472  INFO 23960 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 15:56:44.472  INFO 23960 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms
2024-03-28 15:56:44.598  INFO 23960 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 15:56:44.627  INFO 23960 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 15:56:44.709  INFO 23960 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 15:56:44.762  INFO 23960 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 15:56:44.986  INFO 23960 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 15:56:44.999  INFO 23960 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 15:56:45.587  INFO 23960 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 15:56:45.594  INFO 23960 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 15:56:46.332  WARN 23960 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 15:56:46.560  INFO 23960 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 15:56:46.883  INFO 23960 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 15:56:46.916  INFO 23960 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 15:56:46.923  INFO 23960 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.863 seconds (JVM running for 4.611)
2024-03-28 15:56:50.966  INFO 23960 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 15:56:50.966  INFO 23960 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 15:56:50.967  INFO 23960 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 15:56:52.211  INFO 23960 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 15:56:52.220  INFO 23960 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 15:56:52.220  INFO 23960 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:56:52.453  INFO 23960 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@5a1fe06f, org.apache.catalina.connector.ResponseFacade@140b5983]}
2024-03-28 15:56:52.669  INFO 23960 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 15:56:52.670  INFO 23960 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:56:57.674  INFO 23960 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@140b5983, hyf, hyfhsy, z5xs, org.apache.catalina.session.StandardSessionFacade@1e1e221f, {}]}
2024-03-28 15:56:57.703 DEBUG 23960 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 15:56:57.709 DEBUG 23960 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 15:56:57.719 DEBUG 23960 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 15:56:57.724  INFO 23960 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 15:56:57.724  INFO 23960 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:56:57.746  INFO 23960 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 15:56:57.831  WARN 23960 --- [http-nio-8080-exec-4] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 15:56:57.844  INFO 23960 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 15:56:57.845  INFO 23960 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:57:00.582  INFO 23960 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 15:57:00.587  INFO 23960 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 15:57:00.587  INFO 23960 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:57:00.793  INFO 23960 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@1e1e221f]}
2024-03-28 15:57:00.795 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 15:57:00.796 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 15:57:00.800 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 15:57:00.802 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:57:00.805 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 15:57:00.809 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:57:00.811 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:57:00.811 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 15:57:00.816 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:57:00.817 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 15:57:00.817 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 15:57:00.819 DEBUG 23960 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 15:57:00.830  INFO 23960 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=19, sendTime=Thu Mar 28 15:28:42 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=6, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=16, sendTime=Thu Mar 28 15:23:47 CST 2024, senderUsername=hyf, recipientUsername=root, content=3, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 15:57:00.830  INFO 23960 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:57:15.371  INFO 23960 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@1e1e221f]}
2024-03-28 15:57:15.373 DEBUG 23960 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 15:57:15.373 DEBUG 23960 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 15:57:15.375 DEBUG 23960 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 15:57:15.384  INFO 23960 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 15:57:15.385  INFO 23960 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 15:58:06.628 DEBUG 23960 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 15:58:06.631 DEBUG 23960 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 7(String), 2024-03-28 15:58:06.57(Timestamp), false(Boolean), true(Boolean)
2024-03-28 15:58:06.734 DEBUG 23960 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:01:11.399  INFO 23960 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:01:11.402  INFO 23960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 16:01:11.432  INFO 23960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 16:01:14.077  INFO 15656 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 15656 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 16:01:14.078 DEBUG 15656 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 16:01:14.078  INFO 15656 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 16:01:14.099  INFO 15656 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 16:01:14.099  INFO 15656 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 16:01:14.565  INFO 15656 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 16:01:14.627  INFO 15656 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2024-03-28 16:01:15.132  INFO 15656 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 16:01:15.138  INFO 15656 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 16:01:15.138  INFO 15656 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 16:01:15.209  INFO 15656 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 16:01:15.209  INFO 15656 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1108 ms
2024-03-28 16:01:15.345  INFO 15656 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 16:01:15.371  INFO 15656 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 16:01:15.453  INFO 15656 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 16:01:15.510  INFO 15656 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 16:01:15.755  INFO 15656 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 16:01:15.771  INFO 15656 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 16:01:16.319  INFO 15656 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 16:01:16.326  INFO 15656 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:01:17.070  WARN 15656 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 16:01:17.308  INFO 15656 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 16:01:17.635  INFO 15656 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 16:01:17.665  INFO 15656 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 16:01:17.675  INFO 15656 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.901 seconds (JVM running for 4.697)
2024-03-28 16:01:21.227  INFO 15656 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 16:01:21.229  INFO 15656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 16:01:21.230  INFO 15656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 16:01:22.448  INFO 15656 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:01:22.456  INFO 15656 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:01:22.457  INFO 15656 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:01:22.688  INFO 15656 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@adb70d9, org.apache.catalina.connector.ResponseFacade@35f038f7]}
2024-03-28 16:01:22.898  INFO 15656 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:01:22.898  INFO 15656 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:01:29.055  INFO 15656 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@35f038f7, hyf, hyfhsy, 0s5r, org.apache.catalina.session.StandardSessionFacade@71cc9674, {}]}
2024-03-28 16:01:29.076 DEBUG 15656 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:01:29.081 DEBUG 15656 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:01:29.089 DEBUG 15656 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:01:29.094  INFO 15656 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:01:29.094  INFO 15656 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:01:29.111  INFO 15656 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:01:29.168  WARN 15656 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 16:01:29.175  INFO 15656 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:01:29.175  INFO 15656 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:01:33.252  INFO 15656 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:01:33.257  INFO 15656 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:01:33.257  INFO 15656 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:01:33.363  INFO 15656 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@71cc9674]}
2024-03-28 16:01:33.365 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:01:33.365 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:01:33.368 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:01:33.369 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:01:33.370 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:01:33.371 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:01:33.372 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:01:33.372 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:01:33.374 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:01:33.375 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:01:33.375 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:01:33.377 DEBUG 15656 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:01:33.383  INFO 15656 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=20, sendTime=Thu Mar 28 15:58:07 CST 2024, senderUsername=hyf, recipientUsername=root, content=7, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=19, sendTime=Thu Mar 28 15:28:42 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=6, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 16:01:33.383  INFO 15656 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:01:42.786  INFO 15656 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@71cc9674]}
2024-03-28 16:01:42.787 DEBUG 15656 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:01:42.787 DEBUG 15656 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 16:01:42.791 DEBUG 15656 --- [http-nio-8080-exec-3] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 16:01:42.798  INFO 15656 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 16:01:42.798  INFO 15656 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:01:57.172  INFO 15656 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@71cc9674]}
2024-03-28 16:01:57.173 DEBUG 15656 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:01:57.174 DEBUG 15656 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 16:01:57.176 DEBUG 15656 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 16:01:57.177  INFO 15656 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 16:01:57.177  INFO 15656 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:02:12.683 DEBUG 15656 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:02:12.687 DEBUG 15656 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), zyd(String), 8(String), 2024-03-28 16:02:12.634(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:02:12.727 DEBUG 15656 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:03:55.341 DEBUG 15656 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:03:55.342 DEBUG 15656 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 9(String), 2024-03-28 16:03:55.339(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:03:55.393 DEBUG 15656 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:04:05.395  INFO 15656 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@71cc9674]}
2024-03-28 16:04:05.396 DEBUG 15656 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:04:05.397 DEBUG 15656 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 16:04:05.398 DEBUG 15656 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 16:04:05.399  INFO 15656 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 16:04:05.399  INFO 15656 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:04:47.647  INFO 15656 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@71cc9674]}
2024-03-28 16:04:47.648 DEBUG 15656 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:04:47.649 DEBUG 15656 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 16:04:47.650 DEBUG 15656 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 16:04:47.651  INFO 15656 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 16:04:47.651  INFO 15656 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:05:06.577  INFO 15656 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@71cc9674]}
2024-03-28 16:05:06.578 DEBUG 15656 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:05:06.578 DEBUG 15656 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 16:05:06.581 DEBUG 15656 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 16:05:06.582  INFO 15656 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 16:05:06.582  INFO 15656 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:06:42.311  INFO 15656 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:06:42.312  INFO 15656 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:06:42.312  INFO 15656 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:06:42.501  INFO 15656 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@71cc9674]}
2024-03-28 16:06:42.502 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:06:42.502 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:06:42.504 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:06:42.505 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:06:42.505 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:06:42.507 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:06:42.509 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:06:42.509 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:06:42.511 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:06:42.511 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:06:42.512 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:06:42.514 DEBUG 15656 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:06:42.516  INFO 15656 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=22, sendTime=Thu Mar 28 16:03:55 CST 2024, senderUsername=hyf, recipientUsername=root, content=9, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 16:06:42.516  INFO 15656 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:09:06.953  INFO 15656 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:09:06.956  INFO 15656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 16:09:06.963  INFO 15656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 16:09:09.552  INFO 14568 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 14568 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 16:09:09.553 DEBUG 14568 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 16:09:09.553  INFO 14568 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 16:09:09.578  INFO 14568 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 16:09:09.578  INFO 14568 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 16:09:10.028  INFO 14568 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 16:09:10.097  INFO 14568 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2024-03-28 16:09:10.555  INFO 14568 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 16:09:10.560  INFO 14568 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 16:09:10.561  INFO 14568 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 16:09:10.616  INFO 14568 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 16:09:10.616  INFO 14568 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1037 ms
2024-03-28 16:09:10.729  INFO 14568 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 16:09:10.751  INFO 14568 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 16:09:10.842  INFO 14568 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 16:09:10.896  INFO 14568 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 16:09:11.104  INFO 14568 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 16:09:11.116  INFO 14568 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 16:09:11.597  INFO 14568 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 16:09:11.601  INFO 14568 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:09:12.355  WARN 14568 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 16:09:12.591  INFO 14568 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 16:09:12.889  INFO 14568 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 16:09:12.931  INFO 14568 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 16:09:12.940  INFO 14568 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.7 seconds (JVM running for 4.475)
2024-03-28 16:09:15.670  INFO 14568 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 16:09:15.672  INFO 14568 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 16:09:15.673  INFO 14568 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 16:09:17.005  INFO 14568 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:09:17.012  INFO 14568 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:09:17.012  INFO 14568 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:09:17.244  INFO 14568 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@5e69d451, org.apache.catalina.connector.ResponseFacade@5162ca62]}
2024-03-28 16:09:17.449  INFO 14568 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:09:17.450  INFO 14568 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:09:20.491  INFO 14568 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@5162ca62, hyf, hyfhsy, jtpx, org.apache.catalina.session.StandardSessionFacade@710a2385, {}]}
2024-03-28 16:09:20.523 DEBUG 14568 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:09:20.528 DEBUG 14568 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:09:20.538 DEBUG 14568 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:09:20.544  INFO 14568 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:09:20.544  INFO 14568 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:09:20.568  INFO 14568 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:09:20.656  WARN 14568 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 16:09:20.669  INFO 14568 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:09:20.669  INFO 14568 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:09:22.944  INFO 14568 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:09:22.949  INFO 14568 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:09:22.950  INFO 14568 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:09:23.207  INFO 14568 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@710a2385]}
2024-03-28 16:09:23.210 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:09:23.211 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:09:23.215 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:09:23.216 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:09:23.217 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:09:23.219 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:09:23.220 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:09:23.221 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:09:23.223 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:09:23.224 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:09:23.224 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:09:23.227 DEBUG 14568 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:09:23.234  INFO 14568 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=22, sendTime=Thu Mar 28 16:03:55 CST 2024, senderUsername=hyf, recipientUsername=root, content=9, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=3, sendTime=Wed Mar 27 19:51:01 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=好久不见, type=false, isRead=true))]
2024-03-28 16:09:23.235  INFO 14568 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:09:37.523  INFO 14568 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@710a2385]}
2024-03-28 16:09:37.525 DEBUG 14568 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:09:37.526 DEBUG 14568 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 16:09:37.529 DEBUG 14568 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 16:09:37.537  INFO 14568 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 16:09:37.537  INFO 14568 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:10:01.472  INFO 14568 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@710a2385]}
2024-03-28 16:10:01.473 DEBUG 14568 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:10:01.475 DEBUG 14568 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 16:10:01.477 DEBUG 14568 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 3
2024-03-28 16:10:01.477  INFO 14568 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024)]
2024-03-28 16:10:01.477  INFO 14568 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:10:48.968 DEBUG 14568 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:10:48.972 DEBUG 14568 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), xhc(String), 这是我写的系统，你觉得怎么样？(String), 2024-03-28 16:10:48.895(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:10:48.982 DEBUG 14568 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:21:59.333  INFO 14568 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:21:59.336  INFO 14568 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 16:21:59.345  INFO 14568 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 16:25:32.152  INFO 32308 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 32308 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 16:25:32.152 DEBUG 32308 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 16:25:32.152  INFO 32308 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 16:25:32.175  INFO 32308 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 16:25:32.175  INFO 32308 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 16:25:32.604  INFO 32308 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 16:25:32.657  INFO 32308 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2024-03-28 16:25:33.101  INFO 32308 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 16:25:33.108  INFO 32308 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 16:25:33.108  INFO 32308 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 16:25:33.171  INFO 32308 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 16:25:33.171  INFO 32308 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 994 ms
2024-03-28 16:25:33.273  INFO 32308 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 16:25:33.295  INFO 32308 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 16:25:33.371  INFO 32308 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 16:25:33.425  INFO 32308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 16:25:33.623  INFO 32308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 16:25:33.634  INFO 32308 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 16:25:34.134  INFO 32308 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 16:25:34.139  INFO 32308 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:25:34.808  WARN 32308 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 16:25:34.987  INFO 32308 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 16:25:35.271  INFO 32308 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 16:25:35.300  INFO 32308 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 16:25:35.306  INFO 32308 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.462 seconds (JVM running for 4.25)
2024-03-28 16:25:41.242  INFO 32308 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 16:25:41.242  INFO 32308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 16:25:41.243  INFO 32308 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 16:25:42.808  INFO 32308 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:25:42.817  INFO 32308 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:25:42.817  INFO 32308 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:43.070  INFO 32308 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@7322c76d, org.apache.catalina.connector.ResponseFacade@135087e0]}
2024-03-28 16:25:43.391  INFO 32308 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:25:43.391  INFO 32308 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:49.044  INFO 32308 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@135087e0, hyf, hyfhsy, v1ja, org.apache.catalina.session.StandardSessionFacade@393c9798, {}]}
2024-03-28 16:25:49.044  INFO 32308 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : redirect:/login
2024-03-28 16:25:49.046  INFO 32308 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:49.068  INFO 32308 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:25:49.068  INFO 32308 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:25:49.068  INFO 32308 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:49.113  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@11d16a5e, org.apache.catalina.connector.ResponseFacade@1f169614]}
2024-03-28 16:25:49.119  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:25:49.120  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:52.714  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@1f169614, hyf, hyfhsy, 88uh, org.apache.catalina.session.StandardSessionFacade@393c9798, {}]}
2024-03-28 16:25:52.749 DEBUG 32308 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:25:52.757 DEBUG 32308 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:25:52.768 DEBUG 32308 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:25:52.773  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:25:52.773  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:52.787  INFO 32308 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:25:52.872  WARN 32308 --- [http-nio-8080-exec-5] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 16:25:52.883  INFO 32308 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:25:52.883  INFO 32308 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:55.725  INFO 32308 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:25:55.729  INFO 32308 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:25:55.730  INFO 32308 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:25:55.921  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@393c9798]}
2024-03-28 16:25:55.924 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:25:55.924 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:25:55.929 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:25:55.931 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:25:55.932 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:25:55.935 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:25:55.936 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:25:55.936 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:25:55.938 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:25:55.939 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:25:55.940 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:25:55.942 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:25:55.953  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=22, sendTime=Thu Mar 28 16:03:55 CST 2024, senderUsername=hyf, recipientUsername=root, content=9, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 16:25:55.955  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:26:34.067 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:26:34.070 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 10(String), 2024-03-28 16:26:33.99(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:26:34.177 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:26:43.733  WARN 32308 --- [http-nio-8080-exec-10] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [313] milliseconds.
2024-03-28 16:26:44.969  INFO 32308 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:26:44.970  INFO 32308 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:26:44.970  INFO 32308 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:26:44.982  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@73ab9e1d, org.apache.catalina.connector.ResponseFacade@1fc9852c]}
2024-03-28 16:26:44.988  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:26:44.989  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:26:49.377  INFO 32308 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@1fc9852c, root, hyfhsy, mnnw, org.apache.catalina.session.StandardSessionFacade@736381dc, {}]}
2024-03-28 16:26:49.378 DEBUG 32308 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:26:49.380 DEBUG 32308 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:26:49.382 DEBUG 32308 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:26:49.383  INFO 32308 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:26:49.383  INFO 32308 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:26:49.387  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:26:49.405  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:26:49.405  INFO 32308 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:26:51.889  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:26:51.889  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:26:51.889  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:26:51.986  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@736381dc]}
2024-03-28 16:26:51.987 DEBUG 32308 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:26:51.988 DEBUG 32308 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 16:26:51.991 DEBUG 32308 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 16:26:51.993 DEBUG 32308 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:26:51.993 DEBUG 32308 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 16:26:51.995 DEBUG 32308 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:26:51.996  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=24, sendTime=Thu Mar 28 16:26:34 CST 2024, senderUsername=hyf, recipientUsername=root, content=10, type=false, isRead=true))]
2024-03-28 16:26:51.996  INFO 32308 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:26:54.507  INFO 32308 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@736381dc]}
2024-03-28 16:26:54.510 DEBUG 32308 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 16:26:54.511 DEBUG 32308 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), root(String), root(String), hyf(String)
2024-03-28 16:26:54.516 DEBUG 32308 --- [http-nio-8080-exec-9] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 12
2024-03-28 16:26:54.524  INFO 32308 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), Message(toName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), Message(toName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=消息怎么没了, sendTime=Thu Mar 28 12:33:52 CST 2024), Message(toName=root, message=不知道啊
, sendTime=Thu Mar 28 12:34:11 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=2, sendTime=Thu Mar 28 15:22:24 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=3, sendTime=Thu Mar 28 15:23:47 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=7, sendTime=Thu Mar 28 15:58:07 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=9, sendTime=Thu Mar 28 16:03:55 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=10, sendTime=Thu Mar 28 16:26:34 CST 2024)]
2024-03-28 16:26:54.525  INFO 32308 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:27:04.767 DEBUG 32308 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:27:04.767 DEBUG 32308 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 11(String), 2024-03-28 16:27:04.765(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:27:04.830 DEBUG 32308 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:27:49.744 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:27:49.745 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 12(String), 2024-03-28 16:27:49.743(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:27:49.800 DEBUG 32308 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:28:18.616  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:28:18.617  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:28:18.617  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:28:18.794  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@393c9798]}
2024-03-28 16:28:18.796 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:28:18.796 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:28:18.799 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:28:18.800 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:28:18.800 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:28:18.802 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:28:18.804 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:28:18.805 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:28:18.807 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:28:18.808 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:28:18.810 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:28:18.811 DEBUG 32308 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:28:18.813  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=26, sendTime=Thu Mar 28 16:27:50 CST 2024, senderUsername=root, recipientUsername=hyf, content=12, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 16:28:18.813  INFO 32308 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:33:45.730  INFO 32308 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:33:45.733  INFO 32308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 16:33:45.741  INFO 32308 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 16:33:49.263  INFO 11156 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 11156 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 16:33:49.263 DEBUG 11156 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 16:33:49.264  INFO 11156 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 16:33:49.288  INFO 11156 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 16:33:49.288  INFO 11156 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 16:33:49.733  INFO 11156 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 16:33:49.786  INFO 11156 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2024-03-28 16:33:50.264  INFO 11156 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 16:33:50.271  INFO 11156 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 16:33:50.271  INFO 11156 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 16:33:50.329  INFO 11156 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 16:33:50.329  INFO 11156 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1040 ms
2024-03-28 16:33:50.452  INFO 11156 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 16:33:50.478  INFO 11156 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 16:33:50.571  INFO 11156 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 16:33:50.629  INFO 11156 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 16:33:50.850  INFO 11156 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 16:33:50.861  INFO 11156 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 16:33:51.427  INFO 11156 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 16:33:51.434  INFO 11156 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:33:52.219  WARN 11156 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 16:33:52.403  INFO 11156 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 16:33:52.710  INFO 11156 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 16:33:52.748  INFO 11156 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 16:33:52.754  INFO 11156 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.83 seconds (JVM running for 4.628)
2024-03-28 16:33:57.444  INFO 11156 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 16:33:57.444  INFO 11156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 16:33:57.446  INFO 11156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-28 16:33:57.670  WARN 11156 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [209] milliseconds.
2024-03-28 16:33:58.878  INFO 11156 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:33:58.887  INFO 11156 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:33:58.887  INFO 11156 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:33:59.130  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@50fc9874, org.apache.catalina.connector.ResponseFacade@2e43c6dd]}
2024-03-28 16:33:59.353  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:33:59.353  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:03.489  INFO 11156 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:34:03.490  INFO 11156 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:34:03.490  INFO 11156 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:03.502  INFO 11156 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@1d6c4d31, org.apache.catalina.connector.ResponseFacade@13abb0ec]}
2024-03-28 16:34:03.508  INFO 11156 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:34:03.508  INFO 11156 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:09.820  INFO 11156 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@13abb0ec, root, hyfhsy, m2dw, org.apache.catalina.session.StandardSessionFacade@4f068f8b, {}]}
2024-03-28 16:34:09.855 DEBUG 11156 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:34:09.862 DEBUG 11156 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:34:09.874 DEBUG 11156 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:34:09.878  INFO 11156 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:34:09.878  INFO 11156 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:09.896  INFO 11156 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:34:09.992  WARN 11156 --- [http-nio-8080-exec-6] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 16:34:10.008  INFO 11156 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:34:10.008  INFO 11156 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:13.825  INFO 11156 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:34:13.828  INFO 11156 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:34:13.828  INFO 11156 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:13.937  INFO 11156 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@4f068f8b]}
2024-03-28 16:34:13.940 DEBUG 11156 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:34:13.940 DEBUG 11156 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 16:34:13.945 DEBUG 11156 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 16:34:13.947 DEBUG 11156 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:34:13.948 DEBUG 11156 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 16:34:13.950 DEBUG 11156 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:34:13.962  INFO 11156 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=26, sendTime=Thu Mar 28 16:27:50 CST 2024, senderUsername=root, recipientUsername=hyf, content=12, type=false, isRead=true))]
2024-03-28 16:34:13.962  INFO 11156 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:25.871 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:34:25.874 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 13(String), 2024-03-28 16:34:25.816(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:34:25.933 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:34:59.640  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@13abb0ec, hyf, hyfhsy, twbk, org.apache.catalina.session.StandardSessionFacade@62dcf167, {}]}
2024-03-28 16:34:59.643 DEBUG 11156 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:34:59.643 DEBUG 11156 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:34:59.644 DEBUG 11156 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:34:59.645  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:34:59.645  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:34:59.656  INFO 11156 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:34:59.669  INFO 11156 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:34:59.670  INFO 11156 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:35:02.889  INFO 11156 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:35:02.889  INFO 11156 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:35:02.889  INFO 11156 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:35:03.099  INFO 11156 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@62dcf167]}
2024-03-28 16:35:03.100 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:35:03.101 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:35:03.102 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:35:03.103 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:35:03.104 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:35:03.106 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:35:03.106 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:35:03.107 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:35:03.109 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:35:03.110 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:35:03.111 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:35:03.113 DEBUG 11156 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:35:03.114  INFO 11156 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=27, sendTime=Thu Mar 28 16:34:26 CST 2024, senderUsername=root, recipientUsername=hyf, content=13, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 16:35:03.114  INFO 11156 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:35:13.538  INFO 11156 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:35:13.538  INFO 11156 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:35:13.538  INFO 11156 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:35:13.699  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@62dcf167]}
2024-03-28 16:35:13.700 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:35:13.701 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:35:13.702 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:35:13.703 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:35:13.703 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:35:13.705 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:35:13.706 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:35:13.706 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:35:13.708 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:35:13.708 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:35:13.708 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:35:13.711 DEBUG 11156 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:35:13.713  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=27, sendTime=Thu Mar 28 16:34:26 CST 2024, senderUsername=root, recipientUsername=hyf, content=13, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 16:35:13.713  INFO 11156 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:35:20.677 DEBUG 11156 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:35:20.678 DEBUG 11156 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 14(String), 2024-03-28 16:35:20.676(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:35:20.687 DEBUG 11156 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:36:16.130 DEBUG 11156 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:36:16.131 DEBUG 11156 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 14(String), 2024-03-28 16:36:16.128(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:36:16.164 DEBUG 11156 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:48:22.269  INFO 11156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:48:22.272  INFO 11156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 16:48:22.277  INFO 11156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 16:48:25.529  INFO 24176 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 24176 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 16:48:25.530 DEBUG 24176 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 16:48:25.530  INFO 24176 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 16:48:25.552  INFO 24176 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 16:48:25.552  INFO 24176 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 16:48:25.966  INFO 24176 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 16:48:26.014  INFO 24176 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2024-03-28 16:48:26.429  INFO 24176 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 16:48:26.434  INFO 24176 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 16:48:26.434  INFO 24176 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 16:48:26.489  INFO 24176 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 16:48:26.490  INFO 24176 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 938 ms
2024-03-28 16:48:26.593  INFO 24176 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 16:48:26.612  INFO 24176 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 16:48:26.693  INFO 24176 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 16:48:26.753  INFO 24176 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 16:48:26.952  INFO 24176 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 16:48:26.963  INFO 24176 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 16:48:27.436  INFO 24176 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 16:48:27.441  INFO 24176 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 16:48:28.080  WARN 24176 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 16:48:28.272  INFO 24176 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 16:48:28.534  INFO 24176 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 16:48:28.564  INFO 24176 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 16:48:28.570  INFO 24176 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.36 seconds (JVM running for 4.298)
2024-03-28 16:48:34.274  INFO 24176 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 16:48:34.276  INFO 24176 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 16:48:34.277  INFO 24176 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 16:48:34.506  WARN 24176 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [216] milliseconds.
2024-03-28 16:48:35.611  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:48:35.624  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:48:35.624  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:35.958  INFO 24176 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@504896c4, org.apache.catalina.connector.ResponseFacade@5a7736c3]}
2024-03-28 16:48:36.284  INFO 24176 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:48:36.284  INFO 24176 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:39.373  INFO 24176 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 16:48:39.374  INFO 24176 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 16:48:39.374  INFO 24176 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:39.386  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@3cf0525, org.apache.catalina.connector.ResponseFacade@d08eb2c]}
2024-03-28 16:48:39.395  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 16:48:39.396  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:45.519  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@d08eb2c, root, hyfhsy, 1oy6, org.apache.catalina.session.StandardSessionFacade@2b3c5ecb, {}]}
2024-03-28 16:48:45.549 DEBUG 24176 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:48:45.555 DEBUG 24176 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:48:45.568 DEBUG 24176 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:48:45.572  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:48:45.572  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:45.590  INFO 24176 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:48:45.677  WARN 24176 --- [http-nio-8080-exec-3] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 16:48:45.690  INFO 24176 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:48:45.691  INFO 24176 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:50.155  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@31efbe11, hyf, hyfhsy, swcn, org.apache.catalina.session.StandardSessionFacade@62ab3d53, {}]}
2024-03-28 16:48:50.158 DEBUG 24176 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 16:48:50.159 DEBUG 24176 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 16:48:50.161 DEBUG 24176 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 16:48:50.162  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 16:48:50.162  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:50.173  INFO 24176 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 16:48:50.191  INFO 24176 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 16:48:50.191  INFO 24176 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:53.110  INFO 24176 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:48:53.113  INFO 24176 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:48:53.113  INFO 24176 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:53.311  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@62ab3d53]}
2024-03-28 16:48:53.314 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:48:53.315 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 16:48:53.319 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 16:48:53.321 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:48:53.322 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 16:48:53.324 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:48:53.325 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:48:53.325 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 16:48:53.328 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:48:53.329 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:48:53.329 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 16:48:53.330 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:48:53.341  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=29, sendTime=Thu Mar 28 16:36:16 CST 2024, senderUsername=root, recipientUsername=hyf, content=14, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 16:48:53.341  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:57.392  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:48:57.393  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:48:57.393  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:48:57.496  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@2b3c5ecb]}
2024-03-28 16:48:57.497 DEBUG 24176 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:48:57.497 DEBUG 24176 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 16:48:57.499 DEBUG 24176 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 16:48:57.500 DEBUG 24176 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:48:57.501 DEBUG 24176 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 16:48:57.503 DEBUG 24176 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:48:57.504  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=29, sendTime=Thu Mar 28 16:36:16 CST 2024, senderUsername=root, recipientUsername=hyf, content=14, type=false, isRead=true))]
2024-03-28 16:48:57.504  INFO 24176 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:49:12.562 DEBUG 24176 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:49:12.567 DEBUG 24176 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 15(String), 2024-03-28 16:49:12.49(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:49:12.676 DEBUG 24176 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 16:53:23.767  INFO 24176 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 16:53:23.768  INFO 24176 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 16:53:23.768  INFO 24176 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:53:23.860  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@2b3c5ecb]}
2024-03-28 16:53:23.861 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 16:53:23.861 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 16:53:23.863 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 16:53:23.864 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 16:53:23.864 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 16:53:23.865 DEBUG 24176 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 16:53:23.866  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=30, sendTime=Thu Mar 28 16:49:12 CST 2024, senderUsername=hyf, recipientUsername=root, content=15, type=false, isRead=true))]
2024-03-28 16:53:23.866  INFO 24176 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 16:53:39.372 DEBUG 24176 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 16:53:39.373 DEBUG 24176 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 16(String), 2024-03-28 16:53:39.369(Timestamp), false(Boolean), true(Boolean)
2024-03-28 16:53:39.432 DEBUG 24176 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:05:32.431  INFO 24176 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:05:32.434  INFO 24176 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 17:05:32.443  INFO 24176 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 17:05:35.146  INFO 14728 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 14728 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 17:05:35.147 DEBUG 14728 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 17:05:35.147  INFO 14728 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 17:05:35.170  INFO 14728 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 17:05:35.170  INFO 14728 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 17:05:35.631  INFO 14728 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 17:05:35.690  INFO 14728 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2024-03-28 17:05:36.140  INFO 14728 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 17:05:36.146  INFO 14728 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 17:05:36.147  INFO 14728 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 17:05:36.211  INFO 14728 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 17:05:36.211  INFO 14728 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1039 ms
2024-03-28 17:05:36.315  INFO 14728 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 17:05:36.336  INFO 14728 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 17:05:36.412  INFO 14728 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 17:05:36.466  INFO 14728 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 17:05:36.671  INFO 14728 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 17:05:36.682  INFO 14728 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 17:05:37.180  INFO 14728 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 17:05:37.186  INFO 14728 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:05:37.875  WARN 14728 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 17:05:38.060  INFO 14728 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 17:05:38.337  INFO 14728 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 17:05:38.368  INFO 14728 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 17:05:38.376  INFO 14728 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.562 seconds (JVM running for 4.411)
2024-03-28 17:06:14.067  INFO 14728 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 17:06:14.067  INFO 14728 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 17:06:14.068  INFO 14728 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 17:06:15.404  INFO 14728 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:06:15.411  INFO 14728 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:06:15.411  INFO 14728 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:15.634  INFO 14728 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@60f64eea, org.apache.catalina.connector.ResponseFacade@155c6fe4]}
2024-03-28 17:06:15.853  INFO 14728 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:06:15.853  INFO 14728 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:19.337  INFO 14728 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:06:19.337  INFO 14728 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:06:19.337  INFO 14728 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:19.350  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@3eaa0c3f, org.apache.catalina.connector.ResponseFacade@306df59a]}
2024-03-28 17:06:19.357  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:06:19.357  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:30.221  INFO 14728 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@306df59a, root, hyfhsy, arc0, org.apache.catalina.session.StandardSessionFacade@79553e47, {}]}
2024-03-28 17:06:30.248 DEBUG 14728 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:06:30.256 DEBUG 14728 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:06:30.269 DEBUG 14728 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:06:30.275  INFO 14728 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:06:30.275  INFO 14728 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:30.290  INFO 14728 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:06:30.393  WARN 14728 --- [http-nio-8080-exec-6] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 17:06:30.406  INFO 14728 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:06:30.406  INFO 14728 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:32.803  INFO 14728 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:06:32.807  INFO 14728 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:06:32.808  INFO 14728 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:32.909  INFO 14728 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@79553e47]}
2024-03-28 17:06:32.910 DEBUG 14728 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:06:32.911 DEBUG 14728 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 17:06:32.915 DEBUG 14728 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:06:32.917 DEBUG 14728 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:06:32.917 DEBUG 14728 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:06:32.919 DEBUG 14728 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:06:32.932  INFO 14728 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=31, sendTime=Thu Mar 28 16:53:39 CST 2024, senderUsername=root, recipientUsername=hyf, content=16, type=false, isRead=true))]
2024-03-28 17:06:32.933  INFO 14728 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:39.207  INFO 14728 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@2446d41f, hyf, hyfhsy, 5xt1, org.apache.catalina.session.StandardSessionFacade@776014ae, {}]}
2024-03-28 17:06:39.210 DEBUG 14728 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:06:39.211 DEBUG 14728 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:06:39.212 DEBUG 14728 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:06:39.213  INFO 14728 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:06:39.213  INFO 14728 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:39.225  INFO 14728 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:06:39.244  INFO 14728 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:06:39.245  INFO 14728 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:42.115  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:06:42.116  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:06:42.116  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:42.281  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@776014ae]}
2024-03-28 17:06:42.282 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:06:42.283 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:06:42.285 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:06:42.286 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:06:42.286 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:06:42.288 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:06:42.289 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:06:42.289 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:06:42.291 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:06:42.292 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:06:42.293 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:06:42.296 DEBUG 14728 --- [http-nio-8080-exec-9] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:06:42.297  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=31, sendTime=Thu Mar 28 16:53:39 CST 2024, senderUsername=root, recipientUsername=hyf, content=16, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:06:42.298  INFO 14728 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:06:57.092 DEBUG 14728 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:06:57.097 DEBUG 14728 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 17(String), 2024-03-28 17:06:57.003(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:06:57.211 DEBUG 14728 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:07:41.022 DEBUG 14728 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:07:41.023 DEBUG 14728 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 18(String), 2024-03-28 17:07:41.02(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:07:41.065 DEBUG 14728 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:12:48.138  INFO 14728 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:12:48.141  INFO 14728 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 17:12:48.150  INFO 14728 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 17:12:51.740  INFO 19252 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 19252 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 17:12:51.740 DEBUG 19252 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 17:12:51.742  INFO 19252 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 17:12:51.769  INFO 19252 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 17:12:51.770  INFO 19252 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 17:12:52.226  INFO 19252 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 17:12:52.291  INFO 19252 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2024-03-28 17:12:52.792  INFO 19252 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 17:12:52.798  INFO 19252 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 17:12:52.798  INFO 19252 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 17:12:52.860  INFO 19252 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 17:12:52.860  INFO 19252 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1090 ms
2024-03-28 17:12:52.982  INFO 19252 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 17:12:53.005  INFO 19252 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 17:12:53.083  INFO 19252 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 17:12:53.133  INFO 19252 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 17:12:53.335  INFO 19252 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 17:12:53.346  INFO 19252 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 17:12:53.869  INFO 19252 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 17:12:53.874  INFO 19252 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:12:54.568  WARN 19252 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 17:12:54.770  INFO 19252 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 17:12:55.097  INFO 19252 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 17:12:55.127  INFO 19252 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 17:12:55.135  INFO 19252 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.695 seconds (JVM running for 4.383)
2024-03-28 17:12:58.729  INFO 19252 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 17:12:58.730  INFO 19252 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 17:12:58.730  INFO 19252 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-03-28 17:13:00.418  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:13:00.426  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:13:00.426  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:00.617  INFO 19252 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@49e015ce, org.apache.catalina.connector.ResponseFacade@2fca462f]}
2024-03-28 17:13:00.829  INFO 19252 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:13:00.829  INFO 19252 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:05.569  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:13:05.570  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:13:05.570  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:05.613  INFO 19252 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@436237a9, org.apache.catalina.connector.ResponseFacade@4da5c1b5]}
2024-03-28 17:13:05.620  INFO 19252 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:13:05.620  INFO 19252 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:09.620  INFO 19252 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4da5c1b5, hyf, hyfhsy, 68gc, org.apache.catalina.session.StandardSessionFacade@740f98e9, {}]}
2024-03-28 17:13:09.653 DEBUG 19252 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:13:09.659 DEBUG 19252 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:13:09.673 DEBUG 19252 --- [http-nio-8080-exec-1] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:13:09.678  INFO 19252 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:13:09.678  INFO 19252 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:09.702  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:13:09.787  WARN 19252 --- [http-nio-8080-exec-2] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 17:13:09.800  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:13:09.802  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:13.045  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:13:13.050  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:13:13.050  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:13.273  INFO 19252 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@740f98e9]}
2024-03-28 17:13:13.276 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:13:13.277 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:13:13.279 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:13:13.281 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:13:13.281 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:13:13.284 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:13:13.285 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:13:13.285 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:13:13.287 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:13:13.288 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:13:13.288 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:13:13.290 DEBUG 19252 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:13:13.299  INFO 19252 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=33, sendTime=Thu Mar 28 17:07:41 CST 2024, senderUsername=hyf, recipientUsername=root, content=18, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:13:13.299  INFO 19252 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:17.618  INFO 19252 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@2833dc99, root, hyfhsy, bhn5, org.apache.catalina.session.StandardSessionFacade@2d3d05b, {}]}
2024-03-28 17:13:17.621 DEBUG 19252 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:13:17.621 DEBUG 19252 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:13:17.624 DEBUG 19252 --- [http-nio-8080-exec-3] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:13:17.625  INFO 19252 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:13:17.625  INFO 19252 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:17.630  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:13:17.647  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:13:17.647  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:20.595  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:13:20.596  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:13:20.596  INFO 19252 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:13:20.695  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@2d3d05b]}
2024-03-28 17:13:20.697 DEBUG 19252 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:13:20.697 DEBUG 19252 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 17:13:20.700 DEBUG 19252 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:13:20.701 DEBUG 19252 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:13:20.702 DEBUG 19252 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:13:20.705 DEBUG 19252 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:13:20.705  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=33, sendTime=Thu Mar 28 17:07:41 CST 2024, senderUsername=hyf, recipientUsername=root, content=18, type=false, isRead=true))]
2024-03-28 17:13:20.706  INFO 19252 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:14:06.990 DEBUG 19252 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:14:06.993 DEBUG 19252 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 19(String), 2024-03-28 17:14:06.916(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:14:07.035 DEBUG 19252 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:16:20.543  INFO 19252 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:16:20.546  INFO 19252 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 17:16:20.575  INFO 19252 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 17:16:24.794  INFO 17776 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 17776 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 17:16:24.795 DEBUG 17776 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 17:16:24.795  INFO 17776 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 17:16:24.821  INFO 17776 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 17:16:24.821  INFO 17776 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 17:16:25.282  INFO 17776 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 17:16:25.338  INFO 17776 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2024-03-28 17:16:25.790  INFO 17776 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 17:16:25.796  INFO 17776 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 17:16:25.796  INFO 17776 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 17:16:25.853  INFO 17776 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 17:16:25.853  INFO 17776 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1032 ms
2024-03-28 17:16:25.961  INFO 17776 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 17:16:25.983  INFO 17776 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 17:16:26.067  INFO 17776 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 17:16:26.123  INFO 17776 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 17:16:26.325  INFO 17776 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 17:16:26.336  INFO 17776 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 17:16:26.851  INFO 17776 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 17:16:26.856  INFO 17776 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:16:27.527  WARN 17776 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 17:16:27.705  INFO 17776 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 17:16:27.986  INFO 17776 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 17:16:28.017  INFO 17776 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 17:16:28.025  INFO 17776 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.539 seconds (JVM running for 4.258)
2024-03-28 17:16:44.173  INFO 17776 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 17:16:44.174  INFO 17776 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 17:16:44.175  INFO 17776 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 17:16:44.519  WARN 17776 --- [http-nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [320] milliseconds.
2024-03-28 17:16:45.233  INFO 17776 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:16:45.244  INFO 17776 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:16:45.244  INFO 17776 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:16:45.584  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@1887b5a5, org.apache.catalina.connector.ResponseFacade@7b6778e8]}
2024-03-28 17:16:45.890  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:16:45.890  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:16:49.245  INFO 17776 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@7b6778e8, hyf, hyfhsy, wf59, org.apache.catalina.session.StandardSessionFacade@7cdde207, {}]}
2024-03-28 17:16:49.274 DEBUG 17776 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:16:49.282 DEBUG 17776 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:16:49.292 DEBUG 17776 --- [http-nio-8080-exec-7] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:16:49.296  INFO 17776 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:16:49.296  INFO 17776 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:16:49.317  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:16:49.394  WARN 17776 --- [http-nio-8080-exec-8] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 17:16:49.406  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:16:49.406  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:16:56.784  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:16:56.784  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:16:56.784  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:16:56.792  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@e91012c, org.apache.catalina.connector.ResponseFacade@50bebdd2]}
2024-03-28 17:16:56.799  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:16:56.799  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:02.398  INFO 17776 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@50bebdd2, root, hyfhsy, k669, org.apache.catalina.session.StandardSessionFacade@f667c1c, {}]}
2024-03-28 17:17:02.400 DEBUG 17776 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:17:02.400 DEBUG 17776 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:17:02.403 DEBUG 17776 --- [http-nio-8080-exec-9] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:17:02.404  INFO 17776 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:17:02.404  INFO 17776 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:02.409  INFO 17776 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:17:02.427  INFO 17776 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:17:02.428  INFO 17776 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:11.182  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:17:11.186  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:17:11.186  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:11.277  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@f667c1c]}
2024-03-28 17:17:11.279 DEBUG 17776 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:17:11.280 DEBUG 17776 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 17:17:11.283 DEBUG 17776 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:17:11.285 DEBUG 17776 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:17:11.285 DEBUG 17776 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:17:11.286 DEBUG 17776 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:17:11.293  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=34, sendTime=Thu Mar 28 17:14:07 CST 2024, senderUsername=hyf, recipientUsername=root, content=19, type=false, isRead=true))]
2024-03-28 17:17:11.293  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:19.156  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:17:19.156  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:17:19.156  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:19.294  INFO 17776 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@7cdde207]}
2024-03-28 17:17:19.296 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:17:19.296 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:17:19.299 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:17:19.300 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:17:19.300 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:17:19.302 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:17:19.303 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:17:19.303 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:17:19.305 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:17:19.306 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:17:19.306 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:17:19.308 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:17:19.311  INFO 17776 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=34, sendTime=Thu Mar 28 17:14:07 CST 2024, senderUsername=hyf, recipientUsername=root, content=19, type=false, isRead=true)), ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:17:19.311  INFO 17776 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:23.332  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@7cdde207]}
2024-03-28 17:17:23.334 DEBUG 17776 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:17:23.334 DEBUG 17776 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 17:17:23.340 DEBUG 17776 --- [http-nio-8080-exec-8] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 22
2024-03-28 17:17:23.351  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=消息怎么没了, sendTime=Thu Mar 28 12:33:52 CST 2024), ResultMessage(isSystem=false, fromName=root, message=不知道啊
, sendTime=Thu Mar 28 12:34:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=2, sendTime=Thu Mar 28 15:22:24 CST 2024), Message(toName=hyf, message=3, sendTime=Thu Mar 28 15:23:47 CST 2024), Message(toName=hyf, message=7, sendTime=Thu Mar 28 15:58:07 CST 2024), Message(toName=hyf, message=9, sendTime=Thu Mar 28 16:03:55 CST 2024), Message(toName=hyf, message=10, sendTime=Thu Mar 28 16:26:34 CST 2024), ResultMessage(isSystem=false, fromName=root, message=11, sendTime=Thu Mar 28 16:27:05 CST 2024), ResultMessage(isSystem=false, fromName=root, message=12, sendTime=Thu Mar 28 16:27:50 CST 2024), ResultMessage(isSystem=false, fromName=root, message=13, sendTime=Thu Mar 28 16:34:26 CST 2024), Message(toName=hyf, message=14, sendTime=Thu Mar 28 16:35:21 CST 2024), ResultMessage(isSystem=false, fromName=root, message=14, sendTime=Thu Mar 28 16:36:16 CST 2024), Message(toName=hyf, message=15, sendTime=Thu Mar 28 16:49:12 CST 2024), ResultMessage(isSystem=false, fromName=root, message=16, sendTime=Thu Mar 28 16:53:39 CST 2024), ResultMessage(isSystem=false, fromName=root, message=17, sendTime=Thu Mar 28 17:06:57 CST 2024), Message(toName=hyf, message=18, sendTime=Thu Mar 28 17:07:41 CST 2024), Message(toName=hyf, message=19, sendTime=Thu Mar 28 17:14:07 CST 2024)]
2024-03-28 17:17:23.352  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:36.512  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@f667c1c]}
2024-03-28 17:17:36.513 DEBUG 17776 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:17:36.514 DEBUG 17776 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), root(String), root(String), hyf(String)
2024-03-28 17:17:36.516 DEBUG 17776 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 22
2024-03-28 17:17:36.518  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), Message(toName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), Message(toName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=消息怎么没了, sendTime=Thu Mar 28 12:33:52 CST 2024), Message(toName=root, message=不知道啊
, sendTime=Thu Mar 28 12:34:11 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=2, sendTime=Thu Mar 28 15:22:24 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=3, sendTime=Thu Mar 28 15:23:47 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=7, sendTime=Thu Mar 28 15:58:07 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=9, sendTime=Thu Mar 28 16:03:55 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=10, sendTime=Thu Mar 28 16:26:34 CST 2024), Message(toName=root, message=11, sendTime=Thu Mar 28 16:27:05 CST 2024), Message(toName=root, message=12, sendTime=Thu Mar 28 16:27:50 CST 2024), Message(toName=root, message=13, sendTime=Thu Mar 28 16:34:26 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=14, sendTime=Thu Mar 28 16:35:21 CST 2024), Message(toName=root, message=14, sendTime=Thu Mar 28 16:36:16 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=15, sendTime=Thu Mar 28 16:49:12 CST 2024), Message(toName=root, message=16, sendTime=Thu Mar 28 16:53:39 CST 2024), Message(toName=root, message=17, sendTime=Thu Mar 28 17:06:57 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=18, sendTime=Thu Mar 28 17:07:41 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=19, sendTime=Thu Mar 28 17:14:07 CST 2024)]
2024-03-28 17:17:36.520  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:17:43.851 DEBUG 17776 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:17:43.856 DEBUG 17776 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 20
(String), 2024-03-28 17:17:43.773(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:17:43.954 DEBUG 17776 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:17:55.571 DEBUG 17776 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:17:55.572 DEBUG 17776 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 21(String), 2024-03-28 17:17:55.569(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:17:55.598 DEBUG 17776 --- [http-nio-8080-exec-9] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:18:04.612  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7cdde207]}
2024-03-28 17:18:04.613 DEBUG 17776 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:18:04.614 DEBUG 17776 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 17:18:04.617 DEBUG 17776 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 4
2024-03-28 17:18:04.617  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024)]
2024-03-28 17:18:04.618  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:14.272  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/exit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doExit', args=[org.apache.catalina.session.StandardSessionFacade@f667c1c]}
2024-03-28 17:18:14.273  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : redirect:/index
2024-03-28 17:18:14.274  INFO 17776 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:14.280  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@46337526]}
2024-03-28 17:18:14.296  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : index
2024-03-28 17:18:14.297  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:14.354 ERROR 17776 --- [http-nio-8080-exec-8] o.a.t.websocket.pojo.PojoEndpointBase    : Failed to call onClose method of POJO end point for POJO of type [com.jxufe.websocket.ChatEndpoint]

java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107)
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767)
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748)
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NullPointerException: null
	at com.jxufe.websocket.ChatEndpoint.onClose(ChatEndpoint.java:147)
	... 23 common frames omitted

2024-03-28 17:18:14.355 ERROR 17776 --- [http-nio-8080-exec-8] o.a.t.websocket.pojo.PojoEndpointBase    : No error handling configured for [com.jxufe.websocket.ChatEndpoint] and the following error occurred

java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107)
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767)
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748)
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NullPointerException: null
	at com.jxufe.websocket.ChatEndpoint.onClose(ChatEndpoint.java:147)
	... 23 common frames omitted

2024-03-28 17:18:17.079  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:18:17.080  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:18:17.080  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:17.088  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@e91012c, org.apache.catalina.connector.ResponseFacade@50bebdd2]}
2024-03-28 17:18:17.096  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:18:17.096  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:26.053  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@50bebdd2, xhc, hyfhsy, zymr, org.apache.catalina.session.StandardSessionFacade@f667c1c, {}]}
2024-03-28 17:18:26.057 DEBUG 17776 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:18:26.057 DEBUG 17776 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: xhc(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:18:26.059 DEBUG 17776 --- [http-nio-8080-exec-4] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:18:26.061  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:18:26.061  INFO 17776 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:26.065  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:18:26.080  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:18:26.080  INFO 17776 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:30.015  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:18:30.015  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:18:30.015  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:30.109  INFO 17776 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@f667c1c]}
2024-03-28 17:18:30.112 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:18:30.112 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:18:30.114 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:18:30.116 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:18:30.116 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:18:30.118 DEBUG 17776 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:18:30.120  INFO 17776 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=23, sendTime=Thu Mar 28 16:10:49 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=这是我写的系统，你觉得怎么样？, type=false, isRead=true))]
2024-03-28 17:18:30.120  INFO 17776 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:18:48.469  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@7cdde207]}
2024-03-28 17:18:48.470 DEBUG 17776 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:18:48.470 DEBUG 17776 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 17:18:48.473 DEBUG 17776 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 4
2024-03-28 17:18:48.473  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024)]
2024-03-28 17:18:48.473  INFO 17776 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:19:00.115  INFO 17776 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/about', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.AboutController.doAbout', args=[org.apache.catalina.session.StandardSessionFacade@f667c1c, {}]}
2024-03-28 17:19:00.119 DEBUG 17776 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==>  Preparing: select * from t_user where id = ?
2024-03-28 17:19:00.120 DEBUG 17776 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : ==> Parameters: 2(Long)
2024-03-28 17:19:00.123 DEBUG 17776 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findUserById    : <==      Total: 1
2024-03-28 17:19:00.125  INFO 17776 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : about
2024-03-28 17:19:00.125  INFO 17776 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:20:26.852 DEBUG 17776 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:20:26.853 DEBUG 17776 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: xhc(String), hyf(String), 写得很好呀(String), 2024-03-28 17:20:26.85(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:20:26.880 DEBUG 17776 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:29:37.163  INFO 17776 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:29:37.166  INFO 17776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 17:29:37.170  INFO 17776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 17:29:39.963  INFO 33900 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 33900 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 17:29:39.963 DEBUG 33900 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 17:29:39.963  INFO 33900 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 17:29:39.989  INFO 33900 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 17:29:39.989  INFO 33900 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 17:29:40.439  INFO 33900 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 17:29:40.494  INFO 33900 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2024-03-28 17:29:40.964  INFO 33900 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 17:29:40.970  INFO 33900 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 17:29:40.971  INFO 33900 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 17:29:41.035  INFO 33900 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 17:29:41.036  INFO 33900 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1047 ms
2024-03-28 17:29:41.152  INFO 33900 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 17:29:41.178  INFO 33900 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 17:29:41.254  INFO 33900 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 17:29:41.306  INFO 33900 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 17:29:41.516  INFO 33900 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 17:29:41.529  INFO 33900 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 17:29:42.082  INFO 33900 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 17:29:42.087  INFO 33900 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:29:42.860  WARN 33900 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 17:29:43.114  INFO 33900 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 17:29:43.415  INFO 33900 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 17:29:43.452  INFO 33900 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 17:29:43.460  INFO 33900 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.823 seconds (JVM running for 4.714)
2024-03-28 17:29:56.523  INFO 33900 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 17:29:56.525  INFO 33900 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 17:29:56.526  INFO 33900 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 17:29:57.731  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:29:57.741  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:29:57.741  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:29:57.961  INFO 33900 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2b5dddd9, org.apache.catalina.connector.ResponseFacade@4cd4b090]}
2024-03-28 17:29:58.155  INFO 33900 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:29:58.155  INFO 33900 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:03.238  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@4cd4b090, hyf, hyfhsy, zs3b, org.apache.catalina.session.StandardSessionFacade@6fedbffb, {}]}
2024-03-28 17:30:03.262 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:30:03.266 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:30:03.273 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:30:03.277  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:30:03.278  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:03.296  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:30:03.353  WARN 33900 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 17:30:03.361  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:30:03.361  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:07.651  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:30:07.652  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:30:07.652  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:07.659  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@3cdcb22, org.apache.catalina.connector.ResponseFacade@46cf553f]}
2024-03-28 17:30:07.664  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:30:07.664  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:14.760  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@46cf553f, xhc, hyfhsy, a087, org.apache.catalina.session.StandardSessionFacade@3ce46a9c, {}]}
2024-03-28 17:30:14.761 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:30:14.764 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: xhc(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:30:14.766 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:30:14.767  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:30:14.767  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:14.770  INFO 33900 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:30:14.783  INFO 33900 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:30:14.784  INFO 33900 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:16.755  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:30:16.757  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:30:16.757  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:16.848  INFO 33900 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@3ce46a9c]}
2024-03-28 17:30:16.849 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:30:16.850 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:30:16.852 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:30:16.852 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:30:16.852 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:30:16.854 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:30:16.859  INFO 33900 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=37, sendTime=Thu Mar 28 17:20:27 CST 2024, senderUsername=xhc, recipientUsername=hyf, content=写得很好呀, type=false, isRead=true))]
2024-03-28 17:30:16.859  INFO 33900 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:22.677  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:30:22.678  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:30:22.678  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:30:22.786  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@6fedbffb]}
2024-03-28 17:30:22.786 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:30:22.787 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:30:22.789 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:30:22.790 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:30:22.790 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:30:22.791 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:30:22.792 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:30:22.792 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:30:22.794 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:30:22.794 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:30:22.795 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:30:22.797 DEBUG 33900 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:30:22.798  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=37, sendTime=Thu Mar 28 17:20:27 CST 2024, senderUsername=xhc, recipientUsername=hyf, content=写得很好呀, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=36, sendTime=Thu Mar 28 17:17:56 CST 2024, senderUsername=root, recipientUsername=hyf, content=21, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:30:22.798  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:31:10.337 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:31:10.342 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), xhc(String), 嘿嘿(String), 2024-03-28 17:31:10.242(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:31:10.454 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:31:48.339  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:31:48.339  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:31:48.340  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:31:48.428  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@6fedbffb]}
2024-03-28 17:31:48.429 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:31:48.429 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:31:48.431 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:31:48.431 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:31:48.433 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:31:48.434 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:31:48.435 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:31:48.435 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:31:48.437 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:31:48.437 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:31:48.439 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:31:48.440 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:31:48.440  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=36, sendTime=Thu Mar 28 17:17:56 CST 2024, senderUsername=root, recipientUsername=hyf, content=21, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:31:48.441  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:32:00.361  INFO 33900 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:32:00.362  INFO 33900 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:32:00.362  INFO 33900 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:32:00.407  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@3ce46a9c]}
2024-03-28 17:32:00.408 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:32:00.408 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:32:00.410 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:32:00.410 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:32:00.411 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:32:00.412 DEBUG 33900 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:32:00.413  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true))]
2024-03-28 17:32:00.414  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:32:17.733  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:32:17.733  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:32:17.733  INFO 33900 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:32:17.840  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@3ce46a9c]}
2024-03-28 17:32:17.842 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:32:17.842 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:32:17.846 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:32:17.847 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:32:17.847 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:32:17.849 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:32:17.853  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true))]
2024-03-28 17:32:17.853  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:32:26.025  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:32:26.025  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:32:26.025  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:32:26.128  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@3ce46a9c]}
2024-03-28 17:32:26.129 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:32:26.129 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:32:26.131 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:32:26.131 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:32:26.133 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:32:26.134 DEBUG 33900 --- [http-nio-8080-exec-1] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:32:26.135  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true))]
2024-03-28 17:32:26.135  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:33:14.562  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:33:14.562  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:33:14.562  INFO 33900 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:33:14.724  INFO 33900 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@6fedbffb]}
2024-03-28 17:33:14.724 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:33:14.725 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:33:14.727 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:33:14.728 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:14.728 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:33:14.729 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:14.730 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:14.730 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:33:14.733 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:14.733 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:14.734 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:33:14.736 DEBUG 33900 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:14.737  INFO 33900 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=36, sendTime=Thu Mar 28 17:17:56 CST 2024, senderUsername=root, recipientUsername=hyf, content=21, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:33:14.737  INFO 33900 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:33:16.098  INFO 33900 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:33:16.098  INFO 33900 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:33:16.098  INFO 33900 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:33:16.264  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@6fedbffb]}
2024-03-28 17:33:16.266 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:33:16.266 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:33:16.269 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:33:16.270 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:16.271 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:33:16.276 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:16.277 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:16.277 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:33:16.280 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:16.280 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:16.280 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:33:16.282 DEBUG 33900 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:16.282  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=36, sendTime=Thu Mar 28 17:17:56 CST 2024, senderUsername=root, recipientUsername=hyf, content=21, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:33:16.282  INFO 33900 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:33:17.393  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:33:17.394  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:33:17.394  INFO 33900 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:33:17.561  INFO 33900 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@6fedbffb]}
2024-03-28 17:33:17.563 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:33:17.564 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:33:17.565 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:33:17.565 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:17.565 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:33:17.567 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:17.567 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:17.568 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:33:17.569 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:17.569 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:33:17.570 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:33:17.571 DEBUG 33900 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:33:17.571  INFO 33900 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=36, sendTime=Thu Mar 28 17:17:56 CST 2024, senderUsername=root, recipientUsername=hyf, content=21, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:33:17.573  INFO 33900 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:34:58.180  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@6fedbffb]}
2024-03-28 17:34:58.181 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:34:58.181 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 17:34:58.183 DEBUG 33900 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-03-28 17:34:58.187  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024), Message(toName=hyf, message=4, sendTime=Thu Mar 28 15:27:21 CST 2024), Message(toName=hyf, message=5, sendTime=Thu Mar 28 15:27:46 CST 2024), Message(toName=hyf, message=6, sendTime=Thu Mar 28 15:28:42 CST 2024), Message(toName=hyf, message=8, sendTime=Thu Mar 28 16:02:13 CST 2024)]
2024-03-28 17:34:58.187  INFO 33900 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:40:47.667  INFO 33900 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:40:47.685  INFO 33900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 17:40:47.694  INFO 33900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 17:40:50.967  INFO 15712 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 15712 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 17:40:50.967 DEBUG 15712 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 17:40:50.968  INFO 15712 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 17:40:50.990  INFO 15712 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 17:40:50.990  INFO 15712 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 17:40:51.406  INFO 15712 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 17:40:51.460  INFO 15712 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2024-03-28 17:40:51.868  INFO 15712 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 17:40:51.874  INFO 15712 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 17:40:51.874  INFO 15712 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 17:40:51.930  INFO 15712 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 17:40:51.930  INFO 15712 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 939 ms
2024-03-28 17:40:52.036  INFO 15712 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 17:40:52.058  INFO 15712 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 17:40:52.133  INFO 15712 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 17:40:52.189  INFO 15712 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 17:40:52.401  INFO 15712 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 17:40:52.415  INFO 15712 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 17:40:53.003  INFO 15712 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 17:40:53.009  INFO 15712 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 17:40:53.774  WARN 15712 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 17:40:54.010  INFO 15712 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 17:40:54.310  INFO 15712 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 17:40:54.345  INFO 15712 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 17:40:54.353  INFO 15712 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.691 seconds (JVM running for 4.649)
2024-03-28 17:40:57.161  INFO 15712 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 17:40:57.161  INFO 15712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 17:40:57.162  INFO 15712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-03-28 17:40:58.670  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:40:58.678  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:40:58.678  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:40:58.871  INFO 15712 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@2906646d, org.apache.catalina.connector.ResponseFacade@413e09b9]}
2024-03-28 17:40:59.086  INFO 15712 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:40:59.087  INFO 15712 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:02.736  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@413e09b9, xhc, hyfhsy, einr, org.apache.catalina.session.StandardSessionFacade@565c01dc, {}]}
2024-03-28 17:41:02.766 DEBUG 15712 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:41:02.774 DEBUG 15712 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: xhc(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:41:02.784 DEBUG 15712 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:41:02.793  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:41:02.793  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:02.809  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:41:02.904  WARN 15712 --- [http-nio-8080-exec-10] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 17:41:02.917  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:41:02.918  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:05.184  INFO 15712 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:41:05.189  INFO 15712 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:41:05.189  INFO 15712 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:05.303  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:41:05.305 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:41:05.306 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:41:05.310 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:41:05.312 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:41:05.312 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:41:05.314 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:41:05.326  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true))]
2024-03-28 17:41:05.327  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:08.390  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:41:08.390  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:41:08.390  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:08.477  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:41:08.478 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:41:08.478 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:41:08.480 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:41:08.481 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:41:08.482 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:41:08.483 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:41:08.484  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true))]
2024-03-28 17:41:08.484  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:10.760  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:41:10.762 DEBUG 15712 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:41:10.763 DEBUG 15712 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), xhc(String), xhc(String), hyf(String)
2024-03-28 17:41:10.765 DEBUG 15712 --- [http-nio-8080-exec-1] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-03-28 17:41:10.774  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), Message(toName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), Message(toName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-03-28 17:41:10.774  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:21.365  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:41:21.366  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:41:21.366  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:21.458  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:41:21.459 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:41:21.460 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:41:21.463 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:41:21.463 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:41:21.464 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:41:21.466 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:41:21.467  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true))]
2024-03-28 17:41:21.467  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:25.372  INFO 15712 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:41:25.374 DEBUG 15712 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:41:25.374 DEBUG 15712 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), xhc(String), xhc(String), hyf(String)
2024-03-28 17:41:25.377 DEBUG 15712 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-03-28 17:41:25.378  INFO 15712 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), Message(toName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), Message(toName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-03-28 17:41:25.378  INFO 15712 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:33.375  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:41:33.375  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:41:33.375  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:33.410  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@79a23862, org.apache.catalina.connector.ResponseFacade@5b3c5d3a]}
2024-03-28 17:41:33.422  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:41:33.422  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:39.852  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@5b3c5d3a, hyf, hyfhsy, wms3, org.apache.catalina.session.StandardSessionFacade@72b56418, {}]}
2024-03-28 17:41:39.854 DEBUG 15712 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:41:39.854 DEBUG 15712 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: hyf(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:41:39.856 DEBUG 15712 --- [http-nio-8080-exec-10] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:41:39.857  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:41:39.857  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:39.868  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:41:39.886  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:41:39.886  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:43.530  INFO 15712 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:41:43.531  INFO 15712 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:41:43.531  INFO 15712 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:43.786  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@72b56418]}
2024-03-28 17:41:43.787 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:41:43.787 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:41:43.791 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:41:43.794 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:41:43.794 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:41:43.796 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:41:43.797 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:41:43.797 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:41:43.798 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:41:43.799 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:41:43.801 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:41:43.803 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:41:43.803  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=38, sendTime=Thu Mar 28 17:31:10 CST 2024, senderUsername=hyf, recipientUsername=xhc, content=嘿嘿, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=36, sendTime=Thu Mar 28 17:17:56 CST 2024, senderUsername=root, recipientUsername=hyf, content=21, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:41:43.803  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:41:45.973  INFO 15712 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/xhc', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[xhc, org.apache.catalina.session.StandardSessionFacade@72b56418]}
2024-03-28 17:41:45.975 DEBUG 15712 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:41:45.976 DEBUG 15712 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: xhc(String), hyf(String), hyf(String), xhc(String)
2024-03-28 17:41:45.979 DEBUG 15712 --- [http-nio-8080-exec-5] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-03-28 17:41:45.980  INFO 15712 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), Message(toName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), Message(toName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), ResultMessage(isSystem=false, fromName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-03-28 17:41:45.980  INFO 15712 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:42:00.376  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:42:00.377 DEBUG 15712 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:42:00.378 DEBUG 15712 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), xhc(String), xhc(String), hyf(String)
2024-03-28 17:42:00.380 DEBUG 15712 --- [http-nio-8080-exec-2] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 6
2024-03-28 17:42:00.382  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=hello, sendTime=Wed Mar 27 19:49:54 CST 2024), Message(toName=xhc, message=hi, sendTime=Wed Mar 27 19:49:55 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=好久不见, sendTime=Wed Mar 27 19:51:01 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=这是我写的系统，你觉得怎么样？, sendTime=Thu Mar 28 16:10:49 CST 2024), Message(toName=xhc, message=写得很好呀, sendTime=Thu Mar 28 17:20:27 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=嘿嘿, sendTime=Thu Mar 28 17:31:10 CST 2024)]
2024-03-28 17:42:00.383  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:42:18.551 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:42:18.554 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), xhc(String), 22(String), 2024-03-28 17:42:18.468(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:42:18.595 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:43:00.507 DEBUG 15712 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:43:00.507 DEBUG 15712 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: xhc(String), hyf(String), 23(String), 2024-03-28 17:43:00.505(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:43:00.546 DEBUG 15712 --- [http-nio-8080-exec-4] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:43:47.329  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:43:47.329  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:43:47.329  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:43:47.499  INFO 15712 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@72b56418]}
2024-03-28 17:43:47.500 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:43:47.500 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : ==> Parameters: hyf(String), hyf(String), hyf(String), hyf(String)
2024-03-28 17:43:47.503 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.ChatMapper.record          : <==      Total: 3
2024-03-28 17:43:47.503 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:43:47.504 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: xhc(String)
2024-03-28 17:43:47.505 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:43:47.506 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:43:47.506 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: root(String)
2024-03-28 17:43:47.507 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:43:47.507 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:43:47.509 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: zyd(String)
2024-03-28 17:43:47.510 DEBUG 15712 --- [http-nio-8080-exec-8] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:43:47.510  INFO 15712 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=xhc, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_9.jpg, nicknameTa=小熊维尼, chat=Chat(id=40, sendTime=Thu Mar 28 17:43:01 CST 2024, senderUsername=xhc, recipientUsername=hyf, content=23, type=false, isRead=true)), ChatVO(usernameTa=root, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_7.jpg, nicknameTa=Kafka_Fan, chat=Chat(id=36, sendTime=Thu Mar 28 17:17:56 CST 2024, senderUsername=root, recipientUsername=hyf, content=21, type=false, isRead=true)), ChatVO(usernameTa=zyd, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_10.jpg, nicknameTa=断背山, chat=Chat(id=21, sendTime=Thu Mar 28 16:02:13 CST 2024, senderUsername=hyf, recipientUsername=zyd, content=8, type=false, isRead=true))]
2024-03-28 17:43:47.511  INFO 15712 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:43:53.678  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:43:53.679  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:43:53.679  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:43:53.772  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:43:53.773 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:43:53.773 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:43:53.775 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:43:53.776 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:43:53.776 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:43:53.778 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:43:53.779  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=40, sendTime=Thu Mar 28 17:43:01 CST 2024, senderUsername=xhc, recipientUsername=hyf, content=23, type=false, isRead=true))]
2024-03-28 17:43:53.779  INFO 15712 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:45:13.065  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:45:13.065  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:45:13.065  INFO 15712 --- [http-nio-8080-exec-1] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:45:13.161  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:45:13.162 DEBUG 15712 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:45:13.162 DEBUG 15712 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : ==> Parameters: xhc(String), xhc(String), xhc(String), xhc(String)
2024-03-28 17:45:13.163 DEBUG 15712 --- [http-nio-8080-exec-2] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:45:13.164 DEBUG 15712 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:45:13.164 DEBUG 15712 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:45:13.164 DEBUG 15712 --- [http-nio-8080-exec-2] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:45:13.165  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=40, sendTime=Thu Mar 28 17:43:01 CST 2024, senderUsername=xhc, recipientUsername=hyf, content=23, type=false, isRead=true))]
2024-03-28 17:45:13.165  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:45:49.212 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:45:49.213 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), xhc(String), 24(String), 2024-03-28 17:45:49.211(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:45:49.219 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:48:45.396  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/root', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[root, org.apache.catalina.session.StandardSessionFacade@72b56418]}
2024-03-28 17:48:45.397 DEBUG 15712 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:48:45.397 DEBUG 15712 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: root(String), hyf(String), hyf(String), root(String)
2024-03-28 17:48:45.399 DEBUG 15712 --- [http-nio-8080-exec-10] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 24
2024-03-28 17:48:45.399  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [Message(toName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), ResultMessage(isSystem=false, fromName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), Message(toName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), ResultMessage(isSystem=false, fromName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), Message(toName=hyf, message=消息怎么没了, sendTime=Thu Mar 28 12:33:52 CST 2024), ResultMessage(isSystem=false, fromName=root, message=不知道啊
, sendTime=Thu Mar 28 12:34:11 CST 2024), Message(toName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), Message(toName=hyf, message=2, sendTime=Thu Mar 28 15:22:24 CST 2024), Message(toName=hyf, message=3, sendTime=Thu Mar 28 15:23:47 CST 2024), Message(toName=hyf, message=7, sendTime=Thu Mar 28 15:58:07 CST 2024), Message(toName=hyf, message=9, sendTime=Thu Mar 28 16:03:55 CST 2024), Message(toName=hyf, message=10, sendTime=Thu Mar 28 16:26:34 CST 2024), ResultMessage(isSystem=false, fromName=root, message=11, sendTime=Thu Mar 28 16:27:05 CST 2024), ResultMessage(isSystem=false, fromName=root, message=12, sendTime=Thu Mar 28 16:27:50 CST 2024), ResultMessage(isSystem=false, fromName=root, message=13, sendTime=Thu Mar 28 16:34:26 CST 2024), Message(toName=hyf, message=14, sendTime=Thu Mar 28 16:35:21 CST 2024), ResultMessage(isSystem=false, fromName=root, message=14, sendTime=Thu Mar 28 16:36:16 CST 2024), Message(toName=hyf, message=15, sendTime=Thu Mar 28 16:49:12 CST 2024), ResultMessage(isSystem=false, fromName=root, message=16, sendTime=Thu Mar 28 16:53:39 CST 2024), ResultMessage(isSystem=false, fromName=root, message=17, sendTime=Thu Mar 28 17:06:57 CST 2024), Message(toName=hyf, message=18, sendTime=Thu Mar 28 17:07:41 CST 2024), Message(toName=hyf, message=19, sendTime=Thu Mar 28 17:14:07 CST 2024), Message(toName=hyf, message=20
, sendTime=Thu Mar 28 17:17:44 CST 2024), ResultMessage(isSystem=false, fromName=root, message=21, sendTime=Thu Mar 28 17:17:56 CST 2024)]
2024-03-28 17:48:45.400  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:48:50.729 DEBUG 15712 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:48:50.730 DEBUG 15712 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), root(String), 25(String), 2024-03-28 17:48:50.727(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:48:50.843 DEBUG 15712 --- [http-nio-8080-exec-1] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:52:22.932  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/zyd', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[zyd, org.apache.catalina.session.StandardSessionFacade@72b56418]}
2024-03-28 17:52:22.933 DEBUG 15712 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 17:52:22.933 DEBUG 15712 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: zyd(String), hyf(String), hyf(String), zyd(String)
2024-03-28 17:52:22.935 DEBUG 15712 --- [http-nio-8080-exec-6] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 7
2024-03-28 17:52:22.935  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=zyd, message=Kafka，在吗？, sendTime=Wed Mar 27 19:59:20 CST 2024), Message(toName=hyf, message=在啊, sendTime=Thu Mar 28 14:44:21 CST 2024), Message(toName=hyf, message=找我什么事情？, sendTime=Thu Mar 28 15:08:24 CST 2024), Message(toName=hyf, message=4, sendTime=Thu Mar 28 15:27:21 CST 2024), Message(toName=hyf, message=5, sendTime=Thu Mar 28 15:27:46 CST 2024), Message(toName=hyf, message=6, sendTime=Thu Mar 28 15:28:42 CST 2024), Message(toName=hyf, message=8, sendTime=Thu Mar 28 16:02:13 CST 2024)]
2024-03-28 17:52:22.935  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:52:26.275 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:52:26.277 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), zyd(String), 26(String), 2024-03-28 17:52:26.274(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:52:26.367 DEBUG 15712 --- [http-nio-8080-exec-7] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:52:33.354 DEBUG 15712 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:52:33.355 DEBUG 15712 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: hyf(String), xhc(String), 27(String), 2024-03-28 17:52:33.353(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:52:33.362 DEBUG 15712 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:52:39.849 DEBUG 15712 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:52:39.849 DEBUG 15712 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: xhc(String), hyf(String), 28(String), 2024-03-28 17:52:39.847(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:52:39.881 DEBUG 15712 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 17:53:04.306  INFO 15712 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/exit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doExit', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:53:04.307  INFO 15712 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : redirect:/index
2024-03-28 17:53:04.307  INFO 15712 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:04.312  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@79a23862]}
2024-03-28 17:53:04.323  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : index
2024-03-28 17:53:04.323  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:04.429 ERROR 15712 --- [http-nio-8080-exec-1] o.a.t.websocket.pojo.PojoEndpointBase    : Failed to call onClose method of POJO end point for POJO of type [com.jxufe.websocket.ChatEndpoint]

java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107)
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767)
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748)
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NullPointerException: null
	at com.jxufe.websocket.ChatEndpoint.onClose(ChatEndpoint.java:147)
	... 23 common frames omitted

2024-03-28 17:53:04.429 ERROR 15712 --- [http-nio-8080-exec-1] o.a.t.websocket.pojo.PojoEndpointBase    : No error handling configured for [com.jxufe.websocket.ChatEndpoint] and the following error occurred

java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107)
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767)
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748)
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NullPointerException: null
	at com.jxufe.websocket.ChatEndpoint.onClose(ChatEndpoint.java:147)
	... 23 common frames omitted

2024-03-28 17:53:08.770  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 17:53:08.771  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 17:53:08.771  INFO 15712 --- [http-nio-8080-exec-9] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:08.782  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@599bfa46, org.apache.catalina.connector.ResponseFacade@126a1beb]}
2024-03-28 17:53:08.787  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 17:53:08.787  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:17.452  INFO 15712 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@126a1beb, root, hyfhsy, 1kbs, org.apache.catalina.session.StandardSessionFacade@565c01dc, {}]}
2024-03-28 17:53:17.453 DEBUG 15712 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 17:53:17.454 DEBUG 15712 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 17:53:17.456 DEBUG 15712 --- [http-nio-8080-exec-8] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 17:53:17.457  INFO 15712 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 17:53:17.458  INFO 15712 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:17.461  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 17:53:17.471  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 17:53:17.471  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:23.246  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:53:23.246  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:53:23.246  INFO 15712 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:23.349  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:53:23.350 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:53:23.351 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 17:53:23.353 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:53:23.353 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:53:23.353 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:53:23.355 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:53:23.355  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=42, sendTime=Thu Mar 28 17:48:51 CST 2024, senderUsername=hyf, recipientUsername=root, content=25, type=false, isRead=true))]
2024-03-28 17:53:23.356  INFO 15712 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:51.097  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 17:53:51.097  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 17:53:51.097  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:53:51.189  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@565c01dc]}
2024-03-28 17:53:51.190 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 17:53:51.190 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 17:53:51.192 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 17:53:51.193 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 17:53:51.193 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 17:53:51.197 DEBUG 15712 --- [http-nio-8080-exec-6] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 17:53:51.197  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=42, sendTime=Thu Mar 28 17:48:51 CST 2024, senderUsername=hyf, recipientUsername=root, content=25, type=false, isRead=true))]
2024-03-28 17:53:51.197  INFO 15712 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 17:55:28.624 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : ==>  Preparing: insert into t_chat(sender_username, recipient_username, content, send_time, type, is_read) values (?, ?, ?, ?, ?, ?)
2024-03-28 17:55:28.626 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : ==> Parameters: root(String), hyf(String), 29(String), 2024-03-28 17:55:28.622(Timestamp), false(Boolean), true(Boolean)
2024-03-28 17:55:28.678 DEBUG 15712 --- [http-nio-8080-exec-10] com.jxufe.dao.ChatMapper.saveChat        : <==    Updates: 1
2024-03-28 18:23:37.997  INFO 15712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 18:23:37.999  INFO 15712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 18:23:38.007  INFO 15712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-28 18:23:40.898  INFO 32556 --- [restartedMain] com.jxufe.GuideSystemApplication         : Starting GuideSystemApplication using Java 11.0.19 on Kafka with PID 32556 (D:\MyFiles\JAVA\myProjects\learn-community-system\target\classes started by 19233 in D:\MyFiles\JAVA\myProjects\learn-community-system)
2024-03-28 18:23:40.899 DEBUG 32556 --- [restartedMain] com.jxufe.GuideSystemApplication         : Running with Spring Boot v2.6.4, Spring v5.3.16
2024-03-28 18:23:40.899  INFO 32556 --- [restartedMain] com.jxufe.GuideSystemApplication         : The following 1 profile is active: "dev"
2024-03-28 18:23:40.926  INFO 32556 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-03-28 18:23:40.926  INFO 32556 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-03-28 18:23:41.414  INFO 32556 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-28 18:23:41.474  INFO 32556 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2024-03-28 18:23:41.967  INFO 32556 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-28 18:23:41.974  INFO 32556 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-28 18:23:41.974  INFO 32556 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]
2024-03-28 18:23:42.041  INFO 32556 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring embedded WebApplicationContext
2024-03-28 18:23:42.041  INFO 32556 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1114 ms
2024-03-28 18:23:42.172  INFO 32556 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-28 18:23:42.205  INFO 32556 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final
2024-03-28 18:23:42.287  INFO 32556 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-03-28 18:23:42.344  INFO 32556 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-28 18:23:42.571  INFO 32556 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-28 18:23:42.584  INFO 32556 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2024-03-28 18:23:43.159  INFO 32556 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-28 18:23:43.166  INFO 32556 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 18:23:43.929  WARN 32556 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-28 18:23:44.136  INFO 32556 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2024-03-28 18:23:44.449  INFO 32556 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-03-28 18:23:44.489  INFO 32556 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/dev'
2024-03-28 18:23:44.498  INFO 32556 --- [restartedMain] com.jxufe.GuideSystemApplication         : Started GuideSystemApplication in 3.952 seconds (JVM running for 4.878)
2024-03-28 18:23:49.261  INFO 32556 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/dev]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-28 18:23:49.262  INFO 32556 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-28 18:23:49.263  INFO 32556 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-28 18:23:50.641  INFO 32556 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 18:23:50.649  INFO 32556 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 18:23:50.649  INFO 32556 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:23:50.838  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@600fa0f6, org.apache.catalina.connector.ResponseFacade@32f6e060]}
2024-03-28 18:23:51.057  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 18:23:51.057  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:23:55.024  INFO 32556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@32f6e060, root, hyfhsy, kzn8, org.apache.catalina.session.StandardSessionFacade@52b338e, {}]}
2024-03-28 18:23:55.057 DEBUG 32556 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 18:23:55.064 DEBUG 32556 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 18:23:55.074 DEBUG 32556 --- [http-nio-8080-exec-6] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 18:23:55.081  INFO 32556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 18:23:55.081  INFO 32556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:23:55.097  INFO 32556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 18:23:55.184  WARN 32556 --- [http-nio-8080-exec-7] org.hibernate.orm.deprecation            : HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [t.resources.size]; use collection function syntax instead [size(t.resources)].
2024-03-28 18:23:55.195  INFO 32556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 18:23:55.195  INFO 32556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:23:58.845  INFO 32556 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 18:23:58.847  INFO 32556 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 18:23:58.849  INFO 32556 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:23:58.958  INFO 32556 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@52b338e]}
2024-03-28 18:23:58.960 DEBUG 32556 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 18:23:58.961 DEBUG 32556 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 18:23:58.965 DEBUG 32556 --- [http-nio-8080-exec-3] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 18:23:58.967 DEBUG 32556 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 18:23:58.968 DEBUG 32556 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 18:23:58.969 DEBUG 32556 --- [http-nio-8080-exec-3] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 18:23:58.978  INFO 32556 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=46, sendTime=Thu Mar 28 17:55:29 CST 2024, senderUsername=root, recipientUsername=hyf, content=29, type=false, isRead=true))]
2024-03-28 18:23:58.979  INFO 32556 --- [http-nio-8080-exec-3] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:10.773  INFO 32556 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/exit', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doExit', args=[org.apache.catalina.session.StandardSessionFacade@52b338e]}
2024-03-28 18:24:10.773  INFO 32556 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : method : redirect:/index
2024-03-28 18:24:10.773  INFO 32556 --- [http-nio-8080-exec-8] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:10.778  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}, org.apache.catalina.connector.RequestFacade@2d1baacd]}
2024-03-28 18:24:10.799  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : index
2024-03-28 18:24:10.799  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:10.883 ERROR 32556 --- [http-nio-8080-exec-5] o.a.t.websocket.pojo.PojoEndpointBase    : Failed to call onClose method of POJO end point for POJO of type [com.jxufe.websocket.ChatEndpoint]

java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107)
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767)
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748)
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NullPointerException: null
	at com.jxufe.websocket.ChatEndpoint.onClose(ChatEndpoint.java:147)
	... 23 common frames omitted

2024-03-28 18:24:10.884 ERROR 32556 --- [http-nio-8080-exec-5] o.a.t.websocket.pojo.PojoEndpointBase    : No error handling configured for [com.jxufe.websocket.ChatEndpoint] and the following error occurred

java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107)
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767)
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748)
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NullPointerException: null
	at com.jxufe.websocket.ChatEndpoint.onClose(ChatEndpoint.java:147)
	... 23 common frames omitted

2024-03-28 18:24:19.013  INFO 32556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLoginPage', args=[]}
2024-03-28 18:24:19.013  INFO 32556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : method : login
2024-03-28 18:24:19.014  INFO 32556 --- [http-nio-8080-exec-7] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:19.022  INFO 32556 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/codeImage', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.VerificationController.doGet', args=[org.apache.catalina.connector.RequestFacade@270bed6f, org.apache.catalina.connector.ResponseFacade@5edcf84f]}
2024-03-28 18:24:19.029  INFO 32556 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : method : null
2024-03-28 18:24:19.029  INFO 32556 --- [http-nio-8080-exec-10] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:23.519  INFO 32556 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/login/success', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.UserController.doLogin', args=[org.apache.catalina.connector.ResponseFacade@5edcf84f, root, hyfhsy, b253, org.apache.catalina.session.StandardSessionFacade@52b338e, {}]}
2024-03-28 18:24:23.522 DEBUG 32556 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==>  Preparing: select * from t_user where username = ? and password = ?
2024-03-28 18:24:23.522 DEBUG 32556 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : ==> Parameters: root(String), f3b53cbd7fe408bb281efaf5d94f05c2(String)
2024-03-28 18:24:23.524 DEBUG 32556 --- [http-nio-8080-exec-2] c.j.d.U.findByUsernameAndPassword        : <==      Total: 1
2024-03-28 18:24:23.525  INFO 32556 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : method : redirect:/user_index
2024-03-28 18:24:23.525  INFO 32556 --- [http-nio-8080-exec-2] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:23.529  INFO 32556 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/user_index', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.IndexController.doUserIndex', args=[Page request [number: 0, size 10, sort: updateTime: DESC], {}]}
2024-03-28 18:24:23.543  INFO 32556 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : user_index
2024-03-28 18:24:23.543  INFO 32556 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:25.944  INFO 32556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[]}
2024-03-28 18:24:25.945  INFO 32556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : method : friends_record
2024-03-28 18:24:25.945  INFO 32556 --- [http-nio-8080-exec-6] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:26.057  INFO 32556 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.doRecord', args=[org.apache.catalina.session.StandardSessionFacade@52b338e]}
2024-03-28 18:24:26.058 DEBUG 32556 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==>  Preparing: SELECT * FROM (SELECT * FROM t_chat WHERE send_time IN (SELECT MAX(send_time) FROM t_chat WHERE recipient_username = ? OR sender_username = ? GROUP BY CONCAT( IF(sender_username > recipient_username, sender_username, recipient_username), IF(sender_username < recipient_username, sender_username, recipient_username) )) AND (recipient_username = ? OR sender_username = ?)) c ORDER BY c.send_time DESC;
2024-03-28 18:24:26.060 DEBUG 32556 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : ==> Parameters: root(String), root(String), root(String), root(String)
2024-03-28 18:24:26.061 DEBUG 32556 --- [http-nio-8080-exec-5] com.jxufe.dao.ChatMapper.record          : <==      Total: 1
2024-03-28 18:24:26.063 DEBUG 32556 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==>  Preparing: select * from t_user where username = ?
2024-03-28 18:24:26.063 DEBUG 32556 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : ==> Parameters: hyf(String)
2024-03-28 18:24:26.065 DEBUG 32556 --- [http-nio-8080-exec-5] com.jxufe.dao.UserMapper.findByUsername  : <==      Total: 1
2024-03-28 18:24:26.066  INFO 32556 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : method : [ChatVO(usernameTa=hyf, avatarTa=https://sky-take-out-kafka.oss-cn-beijing.aliyuncs.com/picture_3.jpg, nicknameTa=卡夫卡, chat=Chat(id=46, sendTime=Thu Mar 28 17:55:29 CST 2024, senderUsername=root, recipientUsername=hyf, content=29, type=false, isRead=true))]
2024-03-28 18:24:26.066  INFO 32556 --- [http-nio-8080-exec-5] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:28.079  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : RequestLog : RequestLog{url='http://localhost:8080/dev/chat/record/hyf', ip='0:0:0:0:0:0:0:1', classMethod='com.jxufe.web.ChatController.recordByUsername', args=[hyf, org.apache.catalina.session.StandardSessionFacade@52b338e]}
2024-03-28 18:24:28.082 DEBUG 32556 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==>  Preparing: (select * from t_chat WHERE sender_username = ? AND recipient_username = ? UNION select * from t_chat WHERE sender_username = ? AND recipient_username = ?) ORDER BY send_time ASC
2024-03-28 18:24:28.084 DEBUG 32556 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : ==> Parameters: hyf(String), root(String), root(String), hyf(String)
2024-03-28 18:24:28.090 DEBUG 32556 --- [http-nio-8080-exec-4] c.j.dao.ChatMapper.findRecordByUsername  : <==      Total: 26
2024-03-28 18:24:28.099  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : method : [ResultMessage(isSystem=false, fromName=hyf, message=我喜欢你, sendTime=Tue Mar 26 19:49:59 CST 2024), Message(toName=root, message=我也喜欢你呀！, sendTime=Tue Mar 26 19:59:54 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=嘿嘿, sendTime=Thu Mar 28 12:30:09 CST 2024), Message(toName=root, message=O(∩_∩)O哈哈~, sendTime=Thu Mar 28 12:33:11 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=消息怎么没了, sendTime=Thu Mar 28 12:33:52 CST 2024), Message(toName=root, message=不知道啊
, sendTime=Thu Mar 28 12:34:11 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=最新消息更新测试, sendTime=Thu Mar 28 14:49:37 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=2, sendTime=Thu Mar 28 15:22:24 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=3, sendTime=Thu Mar 28 15:23:47 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=7, sendTime=Thu Mar 28 15:58:07 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=9, sendTime=Thu Mar 28 16:03:55 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=10, sendTime=Thu Mar 28 16:26:34 CST 2024), Message(toName=root, message=11, sendTime=Thu Mar 28 16:27:05 CST 2024), Message(toName=root, message=12, sendTime=Thu Mar 28 16:27:50 CST 2024), Message(toName=root, message=13, sendTime=Thu Mar 28 16:34:26 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=14, sendTime=Thu Mar 28 16:35:21 CST 2024), Message(toName=root, message=14, sendTime=Thu Mar 28 16:36:16 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=15, sendTime=Thu Mar 28 16:49:12 CST 2024), Message(toName=root, message=16, sendTime=Thu Mar 28 16:53:39 CST 2024), Message(toName=root, message=17, sendTime=Thu Mar 28 17:06:57 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=18, sendTime=Thu Mar 28 17:07:41 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=19, sendTime=Thu Mar 28 17:14:07 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=20
, sendTime=Thu Mar 28 17:17:44 CST 2024), Message(toName=root, message=21, sendTime=Thu Mar 28 17:17:56 CST 2024), ResultMessage(isSystem=false, fromName=hyf, message=25, sendTime=Thu Mar 28 17:48:51 CST 2024), Message(toName=root, message=29, sendTime=Thu Mar 28 17:55:29 CST 2024)]
2024-03-28 18:24:28.100  INFO 32556 --- [http-nio-8080-exec-4] com.jxufe.aspect.LogAspect               : ------------doAfter-----------
2024-03-28 18:24:38.900  INFO 32556 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-28 18:24:38.903  INFO 32556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-28 18:24:38.911  INFO 32556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
